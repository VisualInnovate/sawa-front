import{_ as le,m as se,a1 as oe,q as a,aj as ae,a2 as ne,ak as ie,r as i,al as A,o as f,d as x,e as s,f as l,g as n,t as d,i as p,L as de,h as w,j as D,c as k,y as re,z as ce}from"./main-db013b89.js";const P=h=>(re("data-v-8e0ce745"),h=h(),ce(),h),ue={class:"grid"},pe={class:"col-12"},me={class:"card p-4 shadow-2 border-round"},ve={class:"text-2xl font-bold"},_e={class:"flex gap-2"},fe={class:"card shadow-1 surface-0"},he={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center gap-3"},be={class:"flex gap-2"},ge={class:"p-input-icon-left"},ye=P(()=>s("i",{class:"pi pi-search"},null,-1)),xe={class:"font-medium"},we={class:"flex gap-2"},ke=P(()=>s("div",{class:"text-center py-4"},[s("i",{class:"pi pi-exclamation-circle text-2xl mb-2"}),s("p",{class:"text-xl"},"No records found")],-1)),$e={class:"flex justify-content-center align-items-center py-4"},Ce={class:"flex align-items-center justify-content-center"},Se=P(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1)),Ve={key:0},Te={class:"flex flex-column gap-2"},De={class:"w-full text-right",for:"username"},Pe={key:0,class:"mt-1 mb-5 text-red-500"},Ne={class:"w-full text-center"},Le={class:"flex flex-column gap-2"},Be={class:"w-full text-right",for:"username"},Ie={key:0,class:"mt-1 mb-5 text-red-500"},Me={class:"w-full text-center"},Ue={__name:"index",setup(h){const N=se(),L=oe(),B=a([]),$=a(!0),I=a({}),m=a(""),C=a(null),v=a(!1),M=a(""),U=a(null),R=a(null),b=a({}),g=a(!1),j=a({}),S=a({}),E=a(!1);ae(()=>{K()});const F=()=>{k.post("/api/users").then(e=>{B.value=e.data.users.data})},y=()=>{$.value=!0,k.get("/api/employees").then(e=>{$.value=!1,C.value=e.data.data,console.log(C.value)})};ne(()=>{y(),F()});const z=e=>{L.push({name:"Employee-update",params:{id:e}})},G=()=>{L.push({name:"Employees-create"})},O=e=>{console.log(e),v.value=!0,M.value=e},W=()=>{k.post("/api/employees/import/users",S.value).then(e=>{console.log(e.data),y(),g.value=!g.value,N.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),skill.value=a({})}).catch(e=>{m.value=e.response.data.errors})},H=()=>{k.delete(`/api/employees/${M.value}`).then(e=>{console.log(e.data),v.value=!1,y(),N.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},J=()=>{R.value.exportCSV()},K=()=>{b.value={global:{value:null,matchMode:ie.CONTAINS}}};return(e,o)=>{const r=i("Button"),Q=i("Toolbar"),X=i("Toast"),q=i("InputText"),u=i("Column"),Y=i("Tag"),Z=i("ProgressSpinner"),ee=i("DataTable"),V=i("Dialog"),te=i("MultiSelect"),_=A("can"),T=A("tooltip");return f(),x("div",ue,[s("div",pe,[s("div",me,[l(Q,{class:"mb-4"},{start:n(()=>[s("h2",ve,d(e.$t("Employees")),1)]),end:n(()=>[s("div",_e,[p(l(r,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2 no-print",onClick:G},null,8,["label"]),[[_,"employees create"]]),p(l(r,{label:e.$t("export"),icon:"pi pi-download",class:"p-button-info no-print",onClick:J},null,8,["label"]),[[_,"employees list"]])])]),_:1}),l(X),s("div",fe,[p((f(),de(ee,{ref_key:"dt",ref:R,selection:U.value,"onUpdate:selection":o[1]||(o[1]=t=>U.value=t),value:C.value,loading:$.value,"data-key":"id",paginator:!0,rows:10,filters:b.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25,50,100],"current-page-report-template":"Showing {first} to {last} of {totalRecords} records","responsive-layout":"scroll",scrollable:"","scroll-height":"flex",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{header:n(()=>[s("div",he,[s("div",be,[s("span",ge,[ye,l(q,{modelValue:b.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=t=>b.value.global.value=t),placeholder:e.$t("search"),class:"w-full"},null,8,["modelValue","placeholder"])]),p(l(r,{icon:"pi pi-refresh",class:"p-button-text",onClick:y},null,512),[[T,"Refresh data",void 0,{top:!0}]])])])]),empty:n(()=>[ke]),loading:n(()=>[s("div",$e,[l(Z,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:n(()=>[l(u,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(u,{field:"name",header:e.$t("name"),sortable:!0},{body:n(t=>[s("span",xe,d(t.data.name),1)]),_:1},8,["header"]),l(u,{field:"email",header:e.$t("email"),sortable:!0},{body:n(t=>[w(d(t.data.email),1)]),_:1},8,["header"]),l(u,{field:"basic_salary",header:e.$t("basic_salary"),sortable:!0},{body:n(t=>[w(d(t.data.basic_salary),1)]),_:1},8,["header"]),l(u,{field:"shift.title",header:e.$t("shift_title"),sortable:!0},{body:n(t=>{var c;return[l(Y,{value:((c=t.data.shift)==null?void 0:c.title)||"N/A",severity:"info"},null,8,["value"])]}),_:1},8,["header"]),l(u,{"header-style":"min-width:10rem;",class:"no-print"},{body:n(t=>[s("div",we,[p(l(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success",onClick:c=>z(t.data.user.id)},null,8,["onClick"]),[[_,"employees edit"],[T,"Edit",void 0,{top:!0}]]),p(l(r,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger",onClick:c=>O(t.data.id)},null,8,["onClick"]),[[_,"employees delete"],[T,"Delete",void 0,{top:!0}]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[_,"employees list"]])]),l(V,{visible:v.value,"onUpdate:visible":o[3]||(o[3]=t=>v.value=t),style:{width:"450px"},header:e.$t("confirm"),modal:!0},{footer:n(()=>[l(r,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:o[2]||(o[2]=t=>v.value=!1)},null,8,["label"]),l(r,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:H},null,8,["label"])]),default:n(()=>[s("div",Ce,[Se,I.value?(f(),x("span",Ve,[w(d(e.$t("remove_item"))+" ",1),s("b",null,d(I.value.first_name),1),w("? ")])):D("",!0)])]),_:1},8,["visible","header"]),l(V,{visible:g.value,"onUpdate:visible":o[5]||(o[5]=t=>g.value=t),style:{width:"450px"},header:e.$t("create_employee"),modal:!0},{default:n(()=>{var t;return[s("div",Te,[s("label",De,d(e.$t("users")),1),l(te,{modelValue:S.value.users_ids,"onUpdate:modelValue":o[4]||(o[4]=c=>S.value.users_ids=c),required:"",id:"pv_id_1",style:{direction:"ltr !important"},"option-value":"id",filter:"",options:B.value,optionLabel:"name",placeholder:e.$t("users"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(t=m.value)!=null&&t.name?(f(),x("div",Pe,d(m.value.name[0]),1)):D("",!0)]),s("div",Ne,[l(r,{onClick:W,class:"p-button-success m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),l(V,{visible:E.value,"onUpdate:visible":o[7]||(o[7]=t=>E.value=t),style:{width:"450px"},header:e.$t("update_employee"),modal:!0},{default:n(()=>{var t;return[s("div",Le,[s("label",Be,d(e.$t("title")),1),l(q,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:j.value.title,"onUpdate:modelValue":o[6]||(o[6]=c=>j.value.title=c),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(t=m.value)!=null&&t.title?(f(),x("div",Ie,d(m.value.name[0]),1)):D("",!0)]),s("div",Me,[l(r,{onClick:e.editescrud,class:"p-button-success m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["onClick","label"])])]}),_:1},8,["visible","header"])])])])}}},je=le(Ue,[["__scopeId","data-v-8e0ce745"]]);export{je as default};
