import{aa as G,ab as H,T as o,ac as J,a3 as K,ad as Q,r as d,ae as W,o as h,d as $,e as a,f as t,w as n,i as x,x as X,t as u,h as S,g as N,c as b}from"./main-0867f018.js";import{E as Y}from"./Evaluation-b4dee54c.js";const Z={class:"grid"},ee={class:"col-12"},le={style:{},class:"shadow-xl"},te={class:"flex w-full justify-between align-items-center"},se={class:"m-0 my-auto"},ae={class:"block mt-2 md:mt-0 p-input-icon-left"},oe=a("i",{class:"pi pi-search"},null,-1),ne={class:"flex align-items-center justify-content-center"},ie=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ue={key:0},ce={class:"flex flex-column gap-2"},de={class:"w-full text-right",for:"username"},re={key:0,class:"mt-1 mb-5 text-red-500"},ve={class:"w-full text-center"},me={class:"flex flex-column gap-2"},pe={class:"w-full text-right",for:"username"},fe={key:0,class:"mt-1 mb-5 text-red-500"},he={class:"w-full text-center"},ye={__name:"index",setup(be){const C=G();H();const V=o(!0),B=o({}),r=o(""),g=o(null);o(!1);const p=o(!1),_=o(""),U=o(null),L=o(null),y=o({}),v=o(!1),i=o({}),m=o(!1);J(()=>{q()});const k=()=>{b.get("/api/mileston-levels").then(e=>{V.value=!1,g.value=e.data.data,console.log(g.value)})};K(()=>{k()});const M=e=>{b.get(`/api/mileston-levels/${e}`).then(s=>{V.value=!1,i.value=s.data.data,console.log(g.value)}),_.value=e,m.value=!m.value},R=()=>{b.post(`/api/mileston-levels/${_.value}`,i.value).then(e=>{console.log(e.data),k(),m.value=!m.value,C.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),i.value=o({})}).catch(e=>{r.value=e.response.data.errors})},j=()=>{v.value=!v.value},E=e=>{console.log(e),p.value=!0,_.value=e},F=()=>{b.post("/api/mileston-levels",i.value).then(e=>{console.log(e.data),k(),v.value=!v.value,C.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),skill.value=o({})}).catch(e=>{r.value=e.response.data.errors})},I=()=>{b.delete(`/api/mileston-levels/${_.value}`).then(e=>{console.log(e.data),p.value=!1,k(),C.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},q=()=>{y.value={global:{value:null,matchMode:Q.CONTAINS}}};return(e,s)=>{const A=d("Toast"),c=d("Button"),D=d("InputText"),T=d("Column"),z=d("DataTable"),P=d("Dialog"),O=d("va-card"),w=W("can");return h(),$("div",Z,[a("div",ee,[t(O,{class:"card"},{default:n(()=>[t(Y),t(A),a("div",le,[x((h(),X(z,{ref_key:"dt",ref:L,selection:U.value,"onUpdate:selection":s[1]||(s[1]=l=>U.value=l),value:g.value,loading:V.value,"data-key":"id",paginator:!0,rows:10,filters:y.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:n(()=>[a("div",te,[x(t(c,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:j},null,8,["label"]),[[w,"skills create"]]),a("h5",se,u(e.$t("levels")),1),a("div",null,[a("span",ae,[oe,t(D,{modelValue:y.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=l=>y.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:n(()=>[t(T,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(T,{field:"name",header:e.$t("name"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:n(l=>[S(u(l.data.title),1)]),_:1},8,["header"]),t(T,{"header-style":"min-width:10rem;"},{body:n(l=>[a("div",null,[x(t(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:f=>M(l.data.id)},null,8,["onClick"]),[[w,"skills edit"]]),x(t(c,{icon:"pi pi-trash",class:"delete mt-2",onClick:f=>E(l.data.id)},null,8,["onClick"]),[[w,"skills delete"]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[w,"skills list"]]),t(P,{visible:p.value,"onUpdate:visible":s[3]||(s[3]=l=>p.value=l),style:{width:"550px"},header:e.$t("submit"),modal:!0},{footer:n(()=>[t(c,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[2]||(s[2]=l=>p.value=!1)},null,8,["label"]),t(c,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:I},null,8,["label"])]),default:n(()=>[a("div",ne,[ie,B.value?(h(),$("span",ue,[S(u(e.$t("remove_item"))+" ",1),a("b",null,u(B.value.first_name),1),S("?")])):N("",!0)])]),_:1},8,["visible","header"]),t(P,{visible:v.value,"onUpdate:visible":s[5]||(s[5]=l=>v.value=l),style:{width:"550px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l;return[a("div",ce,[a("label",de,u(e.$t("title")),1),t(D,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:i.value.title,"onUpdate:modelValue":s[4]||(s[4]=f=>i.value.title=f),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(l=r.value)!=null&&l.name?(h(),$("div",re,u(r.value.name[0]),1)):N("",!0)]),a("div",ve,[t(c,{onClick:F,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),t(P,{visible:m.value,"onUpdate:visible":s[7]||(s[7]=l=>m.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l;return[a("div",me,[a("label",pe,u(e.$t("title")),1),t(D,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:i.value.title,"onUpdate:modelValue":s[6]||(s[6]=f=>i.value.title=f),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(l=r.value)!=null&&l.title?(h(),$("div",fe,u(r.value.name[0]),1)):N("",!0)]),a("div",he,[t(c,{onClick:R,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{ye as default};
