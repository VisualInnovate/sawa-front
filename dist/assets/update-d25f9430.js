import{_ as b,c as r,r as _,o as d,d as n,e as s,t as o,g as p,f as a,w as v,E as g,O as m,X as V,F as w,Q as q,R as $}from"./main-69677206.js";const k={data(){return{employee:{},users:{},childs:{},cities:{},positions:{},shifts:{},departments:{},qustions:{},error:{},maxDate:new Date}},methods:{Therapeutic(){this.$router.push({name:"answer"})},getoneanswer(){r.get(`api/employees/${this.$route.params.id}`).then(e=>{console.log(e.data.data),this.employee.user_id=e.data.data.user_id,this.employee.position_id=e.data.data.position_id,this.employee.basic_salary=e.data.data.basic_salary,this.employee.shift_id=e.data.data.shift_id,this.employee.department_id=e.data.data.department_id,this.employee.national_id=parseInt(e.data.data.national_id)})},getusers(){r.post("api/users").then(e=>{this.users=e.data.users.data,this.getoneanswer()}),r.get("api/shifts").then(e=>{this.shifts=e.data.data}),r.get("api/position").then(e=>{this.positions=e.data.data}),r.get("api/department").then(e=>{this.departments=e.data.data}),r.get("/api/countries").then(e=>{this.cities=e.data.countries,this.getoneanswer()})},update(){r.post(`/api/employees/${this.$route.params.id}`,this.employee).then(e=>{this.$toast.add({severity:"success",summary:this.$t("success_message"),detail:this.$t("element_update_success"),life:3e3})}).catch(e=>{this.$toast.add({severity:"error",summary:this.$t("error"),detail:this.$t("mission_error"),life:3e3})})}},mounted(){this.getusers()}},D=e=>(q("data-v-7ac4fb14"),e=e(),$(),e),N={class:"text-xl p-4 text-[#135C65] cursor-pointer font-bold"},C={key:0,class:"loader"},I={class:"flex flex-column gap-2"},F={for:"username"},U={key:0,class:"p-invalid text-red-600"},B={class:"flex flex-column gap-2"},L={for:"username"},S={key:0,class:"p-invalid text-red-600"},E={class:"flex flex-column gap-2"},z={for:"username"},M={key:0,class:"p-invalid text-red-600"},O={class:"flex flex-column gap-2"},Q={for:"username"},R={key:0,class:"p-invalid text-red-600"},T={class:"flex flex-column gap-2"},X={for:"username"},j={key:0,class:"p-invalid text-red-600"},A={class:"flex flex-column gap-2"},G={for:"username"},H={key:0,class:"p-invalid text-red-600"},J={class:"flex flex-column gap-2 w-full"},K={style:{visibility:"hidden"},for:"username"},P=D(()=>s("small",{id:"username-help"},null,-1));function W(e,i,Y,Z,t,h){const u=_("Dropdown"),y=_("InputNumber"),c=_("Button"),f=_("toast");return d(),n(w,null,[s("div",null,[s("div",null,[s("p",N,o(e.$t("Employees")),1)]),e.loading?(d(),n("div",C)):p("",!0)]),a(V,null,{default:v(()=>[s("div",null,[s("form",{class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4",ref:"myForm",onSubmit:i[7]||(i[7]=g((...l)=>h.update&&h.update(...l),["prevent"]))},[s("div",I,[s("label",F,o(e.$t("employee_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.user_id,"onUpdate:modelValue":i[0]||(i[0]=l=>t.employee.user_id=l),"option-value":"id",options:t.users,optionLabel:"name",placeholder:e.$t("employee_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.user_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.user_id?(d(),n("small",U,o(e.$t("employee_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",B,[s("label",L,o(e.$t("Nationality")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.national_id,"onUpdate:modelValue":i[1]||(i[1]=l=>t.employee.national_id=l),"option-value":"id",options:t.cities,optionLabel:"nationality",placeholder:e.$t("Nationality"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.national_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.national_id?(d(),n("small",S,o(e.$t("Nationality")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",E,[s("label",z,o(e.$t("department_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.department_id,"onUpdate:modelValue":i[2]||(i[2]=l=>t.employee.department_id=l),"option-value":"id",options:t.departments,optionLabel:"title",placeholder:e.$t("department_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.department_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.department_id?(d(),n("small",M,o(e.$t("department_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",O,[s("label",Q,o(e.$t("shift_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.shift_id,"onUpdate:modelValue":i[3]||(i[3]=l=>t.employee.shift_id=l),"option-value":"id",options:t.shifts,optionLabel:"title",placeholder:e.$t("shift_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.shift_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.shift_id?(d(),n("small",R,o(e.$t("shift_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",T,[s("label",X,o(e.$t("position_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.position_id,"onUpdate:modelValue":i[4]||(i[4]=l=>t.employee.position_id=l),"option-value":"id",options:t.positions,optionLabel:"title",placeholder:e.$t("position_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.position_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.position_id?(d(),n("small",j,o(e.$t("position_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",A,[s("label",G,o(e.$t("basic_salary")),1),a(y,{required:"",class:m(["bg-[#f7f5f5]",{"p-invalid":e.submitted&&!t.employee.basic_salary}]),modelValue:t.employee.basic_salary,"onUpdate:modelValue":i[5]||(i[5]=l=>t.employee.basic_salary=l),placeholder:e.$t("basic_salary")},null,8,["modelValue","placeholder","class"]),e.submitted&&!t.employee.basic_salary?(d(),n("small",H,o(e.$t("basic_salary")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",J,[s("label",K,o(e.$t("gruop_sessaion")),1),a(c,{onClick:i[6]||(i[6]=l=>e.submitted=!0),type:"submit",class:"create m-auto w-full",label:e.$t("submit")},null,8,["label"]),P])],544),a(f)])]),_:1})],64)}const ee=b(k,[["render",W],["__scopeId","data-v-7ac4fb14"]]);export{ee as default};
