import{a9 as F,Q as M,R as l,S as N,r as C,ac as O,i as P,o as m,d as h,e as s,t as n,f as c,w,E as j,G as q,T as z,h as G,F as $,B as V,X as H,c as p}from"./main-e69887bf.js";import"./editor.esm-11b3b755.js";import{g as Q}from"./flowbite-vue-35f88c7d.js";import{V as X}from"./VTextarea-d4b6d1df.js";const Z={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},J={class:"flex w-full pb-4 px-4 justify-between align-items-center"},K={class:"m-0 my-auto"},W={class:"block mt-2 md:mt-0 p-input-icon-left"},Y=s("i",{class:"pi pi-search"},null,-1),ee={class:"col-12"},se=["onSubmit"],te={class:"flex flex-column gap-2 py-1 w-[50%]"},le={class:"flex"},ae={class:"text-right"},oe=s("svg",{class:"my-auto mx-1",width:"7",height:"5",viewBox:"0 0 6 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{opacity:"0.8",d:"M1.859 5.008L1.196 4.527L1.95 3.253L0.624 2.668L0.871 1.888L2.288 2.213L2.431 0.744H3.25L3.393 2.213L4.823 1.888L5.07 2.668L3.731 3.253L4.485 4.527L3.822 5.008L2.847 3.877L1.859 5.008Z",fill:"#DA1414"})],-1),ne={class:"flex flex-column mx-2 items-stretch"},ie={class:"text-right invisible"},ce={class:"grid md:grid-cols-3 lg:grid-cols-4 grid-cols-1"},de={class:"flex items-center"},ue={class:"mx-2 font-bold text-lg text-slate-800"},re=["checked","onChange"],me=["checked","onChange"],he=["onClick"],ve={class:""},pe={class:"flex flex-column gap-2"},fe={class:"w-full text-right",for:"username"},ye={__name:"Show",setup(_e){F();const f=M(),y=l(!1),_=l(!0),L=l({}),g=l(""),x=l(null),v=l(!1),d=l({});l(""),l(null),l(null),l({}),l(!1),l({}),l(!1);const a=l([]),k=e=>e.every(t=>a.value.includes(t.id)),S=(e,t)=>{const u=t.map(r=>r.id);k(t)?a.value=a.value.filter(r=>!u.includes(r)):a.value=[...new Set([...a.value,...u])]},D=e=>{p.get(`/api/permissions?search=${e}`).then(t=>{_.value=!1,x.value=t.data.permissions})},T=()=>{p.get("/api/permissions").then(e=>{_.value=!1,x.value=e.data.permissions})},B=()=>{p.get(`/api/roles/${f.currentRoute.value.params.id}`).then(e=>{_.value=!1,d.value.name=e.data.role.name;for(let t=0;t<e.data.role.permissions.length;t++)a.value.push(e.data.role.permissions[t].id)})},E=()=>{p.put(`/api/roles/${f.currentRoute.value.params.id}/edit`,{permissions:a.value,name:d.value.name}).then(e=>{f.push({name:"Roles"})})};N(()=>{T(),B()});const R=e=>{v.value=!v.value,g.value=e.description,L.value=e},A=e=>{const t=a.value.indexOf(e);t===-1?a.value.push(e):a.value.splice(t,1),console.log(a.value)};return(e,t)=>{const u=C("InputText"),r=C("Dialog"),I=O("can");return P((m(),h("div",Z,[s("div",J,[s("h5",K,n(e.$t("roles")),1),s("div",null,[s("span",W,[Y,c(u,{"onUpdate:modelValue":D,placeholder:e.$t("search")},null,8,["placeholder"])])])]),s("div",ee,[c(H,{class:"card shadow-md"},{default:w(()=>[s("form",{class:"flex",onSubmit:j(E,["prevent"])},[s("div",te,[s("div",le,[s("label",ae,n(e.$t("اسم الرول")),1),oe]),c(u,{class:q(["bg-[#f7f5f5] text-center",{"p-invalid":y.value&&!d.value.name}]),modelValue:d.value.name,"onUpdate:modelValue":t[0]||(t[0]=o=>d.value.name=o),required:""},null,8,["modelValue","class"])]),s("div",ne,[s("label",ie,n(e.$t("اسم الرول")),1),c(z(Q),{type:"submit",onClick:t[1]||(t[1]=o=>y.value=!0),class:"create my-auto"},{default:w(()=>[G(n(e.$t("submit")),1)]),_:1})])],40,se),s("div",ce,[(m(!0),h($,null,V(x.value,(o,b)=>(m(),h("div",{class:"p-4",key:b},[s("div",de,[s("h3",ue,n(b),1),s("input",{type:"checkbox",class:"border my-auto mx-2",checked:k(o),onChange:i=>S(b,o)},null,40,re)]),(m(!0),h($,null,V(o,i=>(m(),h("div",{class:"flex py-[1px]",key:i.id},[s("input",{class:"border my-auto mx-2",type:"checkbox",checked:a.value.includes(i.id),onChange:U=>A(i.id)},null,40,me),s("p",null,n(i.name),1),s("i",{onClick:U=>R(i),class:"pi pi-arrow-left px-4 my-auto text-base text-[#135C65]"},null,8,he)]))),128))]))),128))]),c(r,{visible:v.value,"onUpdate:visible":t[3]||(t[3]=o=>v.value=o),style:{width:"550px"},header:e.$t("submit"),modal:!0},{default:w(()=>[s("div",ve,[s("div",pe,[s("label",fe,n(e.$t("description")),1),c(X,{disabled:"",readonly:"true","bg-color":"#EAE8E9",rows:"3",modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=o=>g.value=o)},null,8,["modelValue"])])])]),_:1},8,["visible","header"])]),_:1})])])),[[I,"roles list"]])}}};export{ye as default};
