import{_ as b,c as r,r as _,o as d,d as n,e as s,t as o,g as p,f as a,w as v,a2 as g,K as m,aa as V,F as w,E as q,G as $}from"./main-91c6b099.js";const k={data(){return{employee:{},users:{},childs:{},cities:{},positions:{},shifts:{},departments:{},qustions:{},error:{},maxDate:new Date}},methods:{Therapeutic(){this.$router.push({name:"answer"})},getoneanswer(){r.get(`api/employees/${this.$route.params.id}`).then(e=>{console.log(e.data.data),this.employee.user_id=e.data.data.user_id,this.employee.position_id=e.data.data.position_id,this.employee.basic_salary=e.data.data.basic_salary,this.employee.shift_id=e.data.data.shift_id,this.employee.department_id=e.data.data.department_id,this.employee.national_id=parseInt(e.data.data.national_id)})},getusers(){r.post("api/users").then(e=>{this.users=e.data.users.data,this.getoneanswer()}),r.get("api/shifts").then(e=>{this.shifts=e.data.data}),r.get("api/position").then(e=>{this.positions=e.data.data}),r.get("api/department").then(e=>{this.departments=e.data.data}),r.get(`/api/countries/${localStorage.getItem("appLang")}`).then(e=>{this.cities=e.data.countries,this.getoneanswer()})},update(){r.post(`/api/employees/${this.$route.params.id}`,this.employee).then(e=>{this.$toast.add({severity:"success",summary:this.$t("success_message"),detail:this.$t("element_update_success"),life:3e3})}).catch(e=>{this.$toast.add({severity:"error",summary:this.$t("error"),detail:this.$t("mission_error"),life:3e3})})}},mounted(){this.getusers()}},D=e=>(q("data-v-557ae8f9"),e=e(),$(),e),I={class:"text-xl p-4 text-[#135C65] cursor-pointer font-bold"},N={key:0,class:"loader"},C={class:"flex flex-column gap-2"},F={for:"username"},L={key:0,class:"p-invalid text-red-600"},S={class:"flex flex-column gap-2"},U={for:"username"},B={key:0,class:"p-invalid text-red-600"},E={class:"flex flex-column gap-2"},z={for:"username"},G={key:0,class:"p-invalid text-red-600"},K={class:"flex flex-column gap-2"},M={for:"username"},T={key:0,class:"p-invalid text-red-600"},j={class:"flex flex-column gap-2"},A={for:"username"},H={key:0,class:"p-invalid text-red-600"},J={class:"flex flex-column gap-2"},O={for:"username"},P={key:0,class:"p-invalid text-red-600"},Q={class:"flex flex-column gap-2 w-full"},R={style:{visibility:"hidden"},for:"username"},W=D(()=>s("small",{id:"username-help"},null,-1));function X(e,i,Y,Z,t,h){const u=_("Dropdown"),y=_("InputNumber"),c=_("Button"),f=_("toast");return d(),n(w,null,[s("div",null,[s("div",null,[s("p",I,o(e.$t("Employees")),1)]),e.loading?(d(),n("div",N)):p("",!0)]),a(V,null,{default:v(()=>[s("div",null,[s("form",{class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4",ref:"myForm",onSubmit:i[7]||(i[7]=g((...l)=>h.update&&h.update(...l),["prevent"]))},[s("div",C,[s("label",F,o(e.$t("employee_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.user_id,"onUpdate:modelValue":i[0]||(i[0]=l=>t.employee.user_id=l),"option-value":"id",options:t.users,optionLabel:"name",placeholder:e.$t("employee_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.user_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.user_id?(d(),n("small",L,o(e.$t("employee_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",S,[s("label",U,o(e.$t("Nationality")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.national_id,"onUpdate:modelValue":i[1]||(i[1]=l=>t.employee.national_id=l),filter:"","option-value":"id",options:t.cities,optionLabel:"nationality",placeholder:e.$t("Nationality"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.national_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.national_id?(d(),n("small",B,o(e.$t("Nationality")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",E,[s("label",z,o(e.$t("department_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.department_id,"onUpdate:modelValue":i[2]||(i[2]=l=>t.employee.department_id=l),"option-value":"id",options:t.departments,optionLabel:"title",placeholder:e.$t("department_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.department_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.department_id?(d(),n("small",G,o(e.$t("department_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",K,[s("label",M,o(e.$t("shift_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.shift_id,"onUpdate:modelValue":i[3]||(i[3]=l=>t.employee.shift_id=l),"option-value":"id",options:t.shifts,optionLabel:"title",placeholder:e.$t("shift_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.shift_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.shift_id?(d(),n("small",T,o(e.$t("shift_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",j,[s("label",A,o(e.$t("position_name")),1),a(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.employee.position_id,"onUpdate:modelValue":i[4]||(i[4]=l=>t.employee.position_id=l),"option-value":"id",options:t.positions,optionLabel:"title",placeholder:e.$t("position_name"),class:m(["w-full",{"p-invalid":e.submitted&&!t.employee.position_id}])},null,8,["modelValue","options","placeholder","class"]),e.submitted&&!t.employee.position_id?(d(),n("small",H,o(e.$t("position_name")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",J,[s("label",O,o(e.$t("basic_salary")),1),a(y,{required:"",class:m(["bg-[#f7f5f5]",{"p-invalid":e.submitted&&!t.employee.basic_salary}]),modelValue:t.employee.basic_salary,"onUpdate:modelValue":i[5]||(i[5]=l=>t.employee.basic_salary=l),placeholder:e.$t("basic_salary")},null,8,["modelValue","placeholder","class"]),e.submitted&&!t.employee.basic_salary?(d(),n("small",P,o(e.$t("basic_salary")+" "+e.$t("required"))+".",1)):p("",!0)]),s("div",Q,[s("label",R,o(e.$t("gruop_sessaion")),1),a(c,{onClick:i[6]||(i[6]=l=>e.submitted=!0),type:"submit",class:"create m-auto w-full",label:e.$t("submit")},null,8,["label"]),W])],544),a(f)])]),_:1})],64)}const ee=b(k,[["render",X],["__scopeId","data-v-557ae8f9"]]);export{ee as default};
