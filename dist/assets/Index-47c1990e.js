import{_ as C,z as u,E as k,l as y,o as c,e as g,f as p,V,q as _,x as t,y as a,i,t as o,Z as x,a3 as b,ac as v,Y as I,ag as $,h as d,I as h,W as B}from"./main-e785ffbb.js";import{s as w}from"./confirmpopup.esm-0653ff60.js";const N={components:{ConfirmPopup:w},data(){return{search:"",headers:[],children:[],alert_text:null,loading:!0}},computed:{header(){return this.headers=[{key:"id",title:this.$t("index")},{key:"name",title:this.$t("child_name")},{key:"birth_date",title:this.$t("birth_date")},{key:"actions",title:this.$t("actions")}]}},methods:{getChildren(){u.get("/api/child").then(e=>{this.children=e.data.children,console.log(e.data.children),this.loading=!1})},fomate(e){return k(e).format("DD-MM-yy ")},editItem(e){this.$router.push({name:"EditChildren",params:{id:e}})},deleteItem(e){console.log(e),u.delete(`/api/child/${e}/delete`).then(n=>{n.data.status==200&&(this.alert_text="children deleted successfully ",this.children=n.data.children)})},showItem(e){this.$router.push({name:"ShowChildren",params:{id:e}})},create(){this.$router.push({name:"CreateChildren"})}},async mounted(){this.$route.params.alert&&(this.alert_text="done "),this.getChildren()}};function S(e,n,D,E,r,s){const f=y("v-data-table");return c(),g("div",null,[r.alert_text!=null?(c(),p(V,{key:0,type:"success",variant:"tonal",border:"start",elevation:"2",closable:"","close-label":e.$t("close"),text:r.alert_text,class:"mb-8"},null,8,["close-label","text"])):_("",!0),t(x,{text:"Create",color:"green",height:"45",class:"mb-5 mt-5",onClick:s.create},{default:a(()=>[i(o(e.$t("create_button")),1)]),_:1},8,["onClick"]),t(B,null,{default:a(()=>[t(b,null,{default:a(()=>[i(o(e.$t("children"))+" ",1),t(v),t(I,{modelValue:r.search,"onUpdate:modelValue":n[0]||(n[0]=l=>r.search=l),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),t(f,{headers:s.header,items:r.children,search:r.search},{top:a(()=>[r.loading?(c(),p($,{key:0,slot:"progress",style:{color:"#135c65"},indeterminate:""})):_("",!0)]),item:a(({item:l})=>[d("tr",null,[d("td",null,o(l.columns.id),1),d("td",null,o(l.columns.name),1),d("td",null,o(s.fomate(l.columns.birth_date)),1),d("td",null,[t(h,{small:"",color:"primary",class:"mr-2",onClick:m=>s.showItem(l.columns.id)},{default:a(()=>[i("mdi-eye")]),_:2},1032,["onClick"]),t(h,{small:"",color:"primary",class:"mr-2",onClick:m=>s.editItem(l.columns.id)},{default:a(()=>[i("mdi-pencil")]),_:2},1032,["onClick"]),t(h,{small:"",color:"error",onClick:m=>s.deleteItem(l.columns.id)},{default:a(()=>[i("mdi-delete")]),_:2},1032,["onClick"])])])]),_:1},8,["headers","items","search"])]),_:1})])}const P=C(N,[["render",S]]);export{P as default};
