import{_ as y,y as u,C as g,k as p,o as m,e as V,f,V as b,p as _,q as t,x as a,i as o,t as i,aa as x,ae as v,am as I,a8 as B,aO as $,h as d,G as h,a6 as w}from"./main-0ea29110.js";import{s as D}from"./confirmpopup.esm-aa4d9214.js";import"./focustrap.esm-4bbdf7e1.js";import"./overlayeventbus.esm-94e7e145.js";import"./portal.esm-e0ec2510.js";const N={components:{ConfirmPopup:D},data(){return{search:"",headers:[],children:[],alert_text:null,loading:!0}},computed:{header(){return this.headers=[{key:"id",title:this.$t("index")},{key:"name",title:this.$t("child_name")},{key:"birth_date",title:this.$t("birth_date")},{key:"actions",title:this.$t("actions")}]}},methods:{getChildren(){u.get("/api/child").then(e=>{this.children=e.data.children,console.log(e.data.children),this.loading=!1})},fomate(e){return g(e).format("DD-MM-yy ")},editItem(e){this.$router.push({name:"EditChildren",params:{id:e}})},deleteItem(e){console.log(e),u.delete(`/api/child/${e}/delete`).then(r=>{r.data.status==200&&(this.alert_text="children deleted successfully ",this.children=r.data.children)})},showItem(e){this.$router.push({name:"ShowChildren",params:{id:e}})},create(){this.$router.push({name:"CreateChildren"})}},async mounted(){this.$route.params.alert&&(this.alert_text="done "),this.getChildren()}};function S(e,r,T,E,s,n){const C=p("Button"),k=p("v-data-table");return m(),V("div",null,[s.alert_text!=null?(m(),f(b,{key:0,type:"success",variant:"tonal",border:"start",elevation:"2",closable:"","close-label":e.$t("close"),text:s.alert_text,class:"mb-8"},null,8,["close-label","text"])):_("",!0),t(x,{text:"Create",color:"green",height:"45",class:"mb-5 mt-5",onClick:n.create},{default:a(()=>[o(i(e.$t("create_button")),1)]),_:1},8,["onClick"]),t(w,null,{default:a(()=>[t(v,null,{default:a(()=>[o(i(e.$t("children"))+" ",1),t(I),t(B,{modelValue:s.search,"onUpdate:modelValue":r[0]||(r[0]=l=>s.search=l),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),t(k,{headers:n.header,items:s.children,search:s.search},{top:a(()=>[s.loading?(m(),f($,{key:0,slot:"progress",style:{color:"#135c65"},indeterminate:""})):_("",!0)]),item:a(({item:l})=>[d("tr",null,[d("td",null,i(l.columns.id),1),d("td",null,i(l.columns.name),1),d("td",null,i(n.fomate(l.columns.birth_date)),1),d("td",null,[t(h,{small:"",color:"primary",class:"mr-2",onClick:c=>n.showItem(l.columns.id)},{default:a(()=>[o("mdi-eye")]),_:2},1032,["onClick"]),t(h,{small:"",color:"primary",class:"mr-2",onClick:c=>n.editItem(l.columns.id)},{default:a(()=>[o("mdi-pencil")]),_:2},1032,["onClick"]),t(h,{small:"",color:"error",onClick:c=>n.deleteItem(l.columns.id)},{default:a(()=>[o("mdi-delete")]),_:2},1032,["onClick"]),t(C,{onClick:r[1]||(r[1]=c=>e.confirm2(c)),icon:"pi pi-times",label:"Delete",outlined:"",severity:"danger"})])])]),_:1},8,["headers","items","search"])]),_:1})])}const G=y(N,[["render",S]]);export{G as default};
