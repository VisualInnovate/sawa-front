import{_ as K,m as Q,a2 as X,q as s,u as Y,ak as Z,a3 as ee,al as te,r as d,am as L,o as N,d as oe,e as o,f as t,g as a,t as c,i as r,L as le,h as I,c as B,y as ne,z as ae}from"./main-1fd4141d.js";const k=v=>(ne("data-v-90ace6c6"),v=v(),ae(),v),se={class:"grid"},ie={class:"col-12"},de={class:"card p-4 shadow-2 border-round"},re={class:"text-2xl font-bold"},ce={class:"flex gap-2"},pe={class:"card shadow-1 surface-0"},ue={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center gap-3"},he={class:"m-0"},me={class:"flex gap-2"},ve={class:"p-input-icon-left"},be=k(()=>o("i",{class:"pi pi-search"},null,-1)),_e={class:"font-medium"},fe={class:"flex gap-1 justify-content-center"},ge=k(()=>o("div",{class:"text-center py-4"},[o("i",{class:"pi pi-exclamation-circle text-2xl mb-2"}),o("p",{class:"text-xl"},"No records found")],-1)),xe={class:"flex justify-content-center align-items-center py-4"},ye={class:"flex align-items-center justify-content-center"},Ce=k(()=>o("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"var(--red-500)"}},null,-1)),we={__name:"Index",setup(v){const P=Q(),b=X(),f=s(!0);s({});const $=s(null),p=s(!1),D=s(""),S=s(null),T=s(null),_=s({}),R=Y("child_id",Number),g=s(!1),x=s(!1);Z(()=>{F()});const y=()=>{f.value=!0,B.get("/api/child").then(e=>{f.value=!1,$.value=e.data.children})};ee(()=>{y()});const V=e=>{b.push({name:"EditChildren",params:{id:e}})},A=()=>{b.push({name:"CreateChildren"})},M=e=>{R.value=e,b.push({name:"children-detailes"})},E=e=>{p.value=!0,D.value=e},j=()=>{B.delete(`/api/child/${D.value}/delete`).then(e=>{p.value=!1,y(),P.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})})},z=()=>{g.value=!0,T.value.exportCSV(),setTimeout(()=>{g.value=!1},1e3)},q=()=>{x.value=!0;const e=document.querySelector(".p-datatable-wrapper").cloneNode(!0);e.querySelectorAll(".p-button").forEach(C=>C.remove());const n=window.open("","_blank");n.document.write(`
    <html>
      <head>
        <title>Children Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; text-align: center; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th { background-color: #f5f5f5; text-align: left; padding: 8px; border: 1px solid #ddd; }
          td { padding: 8px; border: 1px solid #ddd; }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          @page { size: auto; margin: 5mm; }
          @media print {
            body { margin: 0; padding: 0; }
            .no-print { display: none !important; }
          }
        </style>
      </head>
      <body>
        <h1>Children Report</h1>
        ${e.innerHTML}
        <div style="text-align: center; margin-top: 20px; font-size: 12px;">
          Generated on ${new Date().toLocaleString()}
        </div>
      </body>
    </html>
  `),n.document.close(),n.focus(),setTimeout(()=>{n.print(),n.close(),x.value=!1},500)},F=()=>{_.value={global:{value:null,matchMode:te.CONTAINS}}},U=e=>{b.push({name:"Calender",params:{id:e}})};return(e,i)=>{const n=d("Button"),C=d("Toolbar"),G=d("Toast"),W=d("InputText"),u=d("Column"),H=d("ProgressSpinner"),O=d("DataTable"),J=d("Dialog"),h=L("can"),m=L("tooltip");return N(),oe("div",se,[o("div",ie,[o("div",de,[t(C,{class:"mb-4"},{start:a(()=>[o("h2",re,c(e.$t("Children Management")),1)]),end:a(()=>[o("div",ce,[t(n,{label:e.$t("print"),icon:"pi pi-print",class:"p-button-help no-print",loading:x.value,onClick:q},null,8,["label","loading"]),r(t(n,{label:e.$t("export"),icon:"pi pi-download",class:"p-button-info no-print",loading:g.value,onClick:z},null,8,["label","loading"]),[[h,"child list"]]),r(t(n,{label:e.$t("Add New"),icon:"pi pi-plus",class:"p-button-success no-print",onClick:A},null,8,["label"]),[[h,"child create"]])])]),_:1}),t(G),o("div",pe,[r((N(),le(O,{ref_key:"dt",ref:T,selection:S.value,"onUpdate:selection":i[1]||(i[1]=l=>S.value=l),value:$.value,loading:f.value,"data-key":"id",paginator:!0,rows:10,filters:_.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25,50,100],"current-page-report-template":"Showing {first} to {last} of {totalRecords} records","responsive-layout":"scroll",scrollable:"","scroll-height":"flex",stripedRows:"",showGridlines:"",class:"p-datatable-sm"},{header:a(()=>[o("div",ue,[o("h3",he,c(e.$t("Children List")),1),o("div",me,[o("span",ve,[be,t(W,{modelValue:_.value.global.value,"onUpdate:modelValue":i[0]||(i[0]=l=>_.value.global.value=l),placeholder:e.$t("search"),class:"w-full"},null,8,["modelValue","placeholder"])]),r(t(n,{icon:"pi pi-refresh",class:"p-button-text",onClick:y},null,512),[[m,"Refresh data",void 0,{top:!0}]])])])]),empty:a(()=>[ge]),loading:a(()=>[o("div",xe,[t(H,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:a(()=>[t(u,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(u,{field:"id",header:e.$t("ID"),sortable:!0},{body:a(l=>[o("span",_e,c(l.data.id),1)]),_:1},8,["header"]),t(u,{field:"name",header:e.$t("Child Name"),sortable:!0},{body:a(l=>[I(c(l.data.name),1)]),_:1},8,["header"]),t(u,{field:"birth_date",header:e.$t("Birth Date"),sortable:!0},{body:a(l=>[I(c(l.data.birth_date),1)]),_:1},8,["header"]),t(u,{exportable:!1,"header-style":"width: 15rem","body-class":"text-center"},{body:a(l=>[o("div",fe,[r(t(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-text p-button-success",onClick:w=>V(l.data.id)},null,8,["onClick"]),[[h,"child edit"],[m,"Edit",void 0,{top:!0}]]),r(t(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-text p-button-danger",onClick:w=>E(l.data.id)},null,8,["onClick"]),[[h,"child delete"],[m,"Delete",void 0,{top:!0}]]),r(t(n,{icon:"pi pi-user",class:"p-button-rounded p-button-text p-button-warning",onClick:w=>M(l.data.id)},null,8,["onClick"]),[[m,"Details",void 0,{top:!0}]]),r(t(n,{icon:"pi pi-plus",class:"p-button-rounded p-button-text p-button-help",onClick:w=>U(l.data.id)},null,8,["onClick"]),[[m,"Add Evaluation",void 0,{top:!0}]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[h,"child list"]])]),t(J,{visible:p.value,"onUpdate:visible":i[3]||(i[3]=l=>p.value=l),style:{width:"450px"},header:e.$t("confirm"),modal:!0},{footer:a(()=>[t(n,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:i[2]||(i[2]=l=>p.value=!1)},null,8,["label"]),t(n,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text p-button-danger",onClick:j},null,8,["label"])]),default:a(()=>[o("div",ye,[Ce,o("span",null,c(e.$t("Are you sure you want to delete this child?")),1)])]),_:1},8,["visible","header"])])])])}}},$e=K(we,[["__scopeId","data-v-90ace6c6"]]);export{$e as default};
