import{a9 as X,aa as Y,S as o,ab as Z,a2 as ee,ac as le,l as d,ad as te,o as p,e as b,h as a,n as t,w as i,v as N,f as se,t as n,i as k,p as w,q as y}from"./main-ef824eef.js";import{L as ae}from"./LeavesNave-d0d1f619.js";const oe={class:"grid",style:{"overflow-x":"scroll"}},ne={class:"col-12"},ie={style:{},class:"shadow-xl"},ue={class:"flex w-full justify-between align-items-center"},de={class:"m-0 my-auto"},re={class:"block mt-2 md:mt-0 p-input-icon-left"},ce=a("i",{class:"pi pi-search"},null,-1),ve={class:"flex align-items-center justify-content-center"},me=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),pe={key:0},fe={class:"flex flex-column gap-2"},he={class:"w-full text-right",for:"username"},be={key:0,class:"mt-1 mb-5 text-red-500"},ye={class:"flex flex-column gap-2"},_e={for:"username"},ge={key:0,class:"mt-1 mb-5 text-red-500"},ke={class:"w-full text-center"},we={class:"flex flex-column gap-2"},$e={class:"w-full text-right",for:"username"},Ve={key:0,class:"mt-1 mb-5 text-red-500"},xe={class:"flex flex-column gap-2"},Ce={for:"username"},Se={key:0,class:"mt-1 mb-5 text-red-500"},De={class:"w-full text-center"},Te={__name:"index",setup(Ne){const L=X();Y();const U=o([]),P=o(!0),B=o({}),u=o(""),$=o(null);o(!1);const _=o(!1),V=o(""),M=o(null),I=o(null),x=o({}),f=o(!1),C=o({}),r=o({}),h=o(!1);Z(()=>{H()});const R=()=>{y.post("/api/users").then(e=>{U.value=e.data.users.data})},S=()=>{y.get("/api/leaves").then(e=>{P.value=!1,$.value=e.data.data,console.log($.value)})};ee(()=>{S(),R()});const F=e=>{y.get(`/api/mileston-levels/${e}`).then(s=>{P.value=!1,C.value=s.data.data,console.log($.value)}),V.value=e,h.value=!h.value},A=()=>{y.post(`/api/mileston-levels/${V.value}`,r.value).then(e=>{console.log(e.data),S(),h.value=!h.value,L.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),C.value=o({})}).catch(e=>{u.value=e.response.data.errors})},z=()=>{f.value=!f.value},E=e=>{console.log(e),_.value=!0,V.value=e},O=()=>{y.post("/api/leave-setup",r.value).then(e=>{console.log(e.data),S(),f.value=!f.value,L.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),skill.value=o({})}).catch(e=>{u.value=e.response.data.errors})},G=()=>{y.delete(`/api/leave-setup/${V.value}`).then(e=>{console.log(e.data),_.value=!1,S(),L.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},H=()=>{x.value={global:{value:null,matchMode:le.CONTAINS}}};return(e,s)=>{const J=d("Toast"),c=d("Button"),j=d("InputText"),g=d("Column"),K=d("DataTable"),T=d("Dialog"),Q=d("MultiSelect"),q=d("InputNumber"),W=d("va-card"),D=te("can");return p(),b("div",oe,[a("div",ne,[t(W,{class:"card"},{default:i(()=>[t(ae),t(J),a("div",ie,[N((p(),se(K,{ref_key:"dt",ref:I,selection:M.value,"onUpdate:selection":s[1]||(s[1]=l=>M.value=l),value:$.value,loading:P.value,"data-key":"id",paginator:!0,rows:10,filters:x.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:i(()=>[a("div",ue,[N(t(c,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:z},null,8,["label"]),[[D,"skills create"]]),a("h5",de,n(e.$t("levels")),1),a("div",null,[a("span",re,[ce,t(j,{modelValue:x.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=l=>x.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:i(()=>[t(g,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(g,{field:"type",header:e.$t("type"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:i(l=>[k(n(l.data.type),1)]),_:1},8,["header"]),t(g,{field:"title",header:e.$t("title"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:i(l=>[k(n(l.data.title),1)]),_:1},8,["header"]),t(g,{field:"days",header:e.$t("days"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:i(l=>[k(n(l.data.days),1)]),_:1},8,["header"]),t(g,{"header-style":"min-width:10rem;"},{body:i(l=>[a("div",null,[N(t(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:v=>F(l.data.id)},null,8,["onClick"]),[[D,"skills edit"]]),N(t(c,{icon:"pi pi-trash",class:"delete mt-2",onClick:v=>E(l.data.id)},null,8,["onClick"]),[[D,"skills delete"]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[D,"skills list"]]),t(T,{visible:_.value,"onUpdate:visible":s[3]||(s[3]=l=>_.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:i(()=>[t(c,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[2]||(s[2]=l=>_.value=!1)},null,8,["label"]),t(c,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:G},null,8,["label"])]),default:i(()=>[a("div",ve,[me,B.value?(p(),b("span",pe,[k(n(e.$t("remove_item"))+" ",1),a("b",null,n(B.value.first_name),1),k("?")])):w("",!0)])]),_:1},8,["visible","header"]),t(T,{visible:f.value,"onUpdate:visible":s[6]||(s[6]=l=>f.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:i(()=>{var l,v;return[a("div",fe,[a("label",he,n(e.$t("users")),1),t(Q,{modelValue:r.value.users_ids,"onUpdate:modelValue":s[4]||(s[4]=m=>r.value.users_ids=m),required:"",id:"pv_id_1",style:{direction:"ltr !important"},"option-value":"id",filter:"",options:U.value,optionLabel:"name",placeholder:e.$t("users"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(l=u.value)!=null&&l.name?(p(),b("div",be,n(u.value.name[0]),1)):w("",!0)]),a("div",ye,[a("label",_e,n(e.$t("days")),1),t(q,{required:"",class:"bg-[#f7f5f5]",modelValue:r.value.days,"onUpdate:modelValue":s[5]||(s[5]=m=>r.value.days=m),placeholder:e.$t("days")},null,8,["modelValue","placeholder"]),(v=u.value)!=null&&v.days?(p(),b("div",ge,n(u.value.days[0]),1)):w("",!0)]),a("div",ke,[t(c,{onClick:O,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),t(T,{visible:h.value,"onUpdate:visible":s[9]||(s[9]=l=>h.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:i(()=>{var l,v;return[a("div",we,[a("label",$e,n(e.$t("title")),1),t(j,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:C.value.title,"onUpdate:modelValue":s[7]||(s[7]=m=>C.value.title=m),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(l=u.value)!=null&&l.title?(p(),b("div",Ve,n(u.value.name[0]),1)):w("",!0)]),a("div",xe,[a("label",Ce,n(e.$t("days")),1),t(q,{required:"",class:"bg-[#f7f5f5]",modelValue:r.value.days,"onUpdate:modelValue":s[8]||(s[8]=m=>r.value.days=m),placeholder:e.$t("days")},null,8,["modelValue","placeholder"]),(v=u.value)!=null&&v.days?(p(),b("div",Se,n(u.value.days[0]),1)):w("",!0)]),a("div",De,[t(c,{onClick:A,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{Te as default};
