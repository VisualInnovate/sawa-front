import{ao as j,I as i,ax as J,P as K,ah as P,r as V,o as p,x as q,w as G,e as a,a2 as H,d as m,K as d,t as o,f as n,g as b,F as Q,z as X,L as Y,aa as Z,c as w}from"./main-64215f0b.js";import"./Users-c5773b11.js";const ee=["onSubmit"],le={class:""},ae=["src"],te={class:"grid grid-cols- gap-4 lg:grid-cols-2"},se={class:"flex flex-column gap-2 py-1"},oe={class:"w-full",for:"username"},ne={class:"flex flex-column gap-2 py-1"},ue={class:"w-full t",for:"username"},de={key:0,class:"flex flex-column gap-2"},ie={class:"w-full",for:"username"},re={key:1,class:"flex flex-column gap-2"},pe={class:"w-full",for:"username"},me={key:2,class:"flex flex-column gap-2"},ve={class:"w-full",for:"username"},ce={class:"flex flex-column gap-2 py-1"},fe={class:"w-full",for:"username"},ye={class:"flex flex-column gap-2 py-1"},ge={class:"w-full",for:"username"},_e={class:"flex flex-column gap-2 py-1"},be={class:"w-full",for:"username"},Ve={class:"flex flex-column gap-2 py-1"},he={class:"w-full",for:"username"},we={key:0,class:"mt-1 mb-5 text-red-500"},ke={class:"flex-column gap-2 py-1 hidden"},$e={class:"w-full",for:"username"},xe={key:0,class:"mt-1 mb-5 text-red-500"},Ue={class:"text-2xl font-bold py-2"},Se={class:"item-table w-[70%]"},Be={__name:"Create",setup(Ce){const $=j(),e=i({}),{t:v}=J(),u=i(!1),x=i([]),U=i([]);i([]);const S=i([]),c=i([]),f=i(""),y=i(""),g=i(""),h=i(""),C=i([{name:"side profile",id:1},{name:"milestone",id:2},{name:"barrier",id:3},{name:"ablls",id:4},{name:"carolina",id:5}]),I=i([{name:"Sunday",value:"Sunday"},{name:"Monday",value:"Monday"},{name:"Tuesday",value:"Tuesday"},{name:"Thursday",value:"Thursday"},{name:"Wednesday",value:"Wednesday"},{name:"Friday",value:"Friday"},{name:"Saturday",value:"Saturday"}]),M=l=>{const t=l.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=_=>{e.value.image=_.target.result,e.value.file=t,console.log(this.imageSrc)}},E=()=>{const l=new FormData;console.log(e.value.name),l.append("name",e.value.name),l.append("email",e.value.email),l.append("title",e.value.title),l.append("password",e.value.password),e.value.file&&l.append("image",e.value.file),l.append("role",e.value.role),l.append("business_hours",JSON.stringify(c.value)),e.value.spotter&&l.append("spotter",e.value.spotter),e.value.skills&&l.append("skills",e.value.skills),e.value.department&&l.append("department_id",e.value.department),l.append("type",e.value.type),w.post("/api/users/create",l).then(t=>{$.add({severity:"success",summary:v("success_message"),detail:`${v("element_add_success")}`,life:3e3})}).catch(t=>{$.add({severity:"error",summary:v("error"),detail:`${v("mission_error")}`,life:3e3})})},N=()=>{f.value&&g.value&&y.value&&(c.value.push({day:f.value,start:g.value,end:y.value,evaluation_type:h.value}),f.value="",g.value="",y.value=""),console.log(c.value)},O=K(()=>I.value.filter(l=>!c.value.some(t=>t.day===l.value))),z=l=>{c.value.splice(l,1)},A=()=>[{name:v("driver"),id:1},{name:v("doctor"),id:2},{name:v("Evaluator"),id:5}],R=()=>{w.post("/api/roles").then(l=>{x.value=l.data.roles.data}),w.get("/api/skills").then(l=>{S.value=l.data.data}),w.get("/api/department").then(l=>{U.value=l.data.data})};return P(async()=>{R()}),(l,t)=>{const r=V("InputText"),_=V("Dropdown"),T=V("MultiSelect"),k=V("Button"),W=V("Toast");return p(),q(Z,{class:"mx-auto pa-12 pb-8 bg-slate-50",elevation:"8"},{default:G(()=>{var L,B;return[a("form",{onSubmit:H(E,["prevent"])},[a("div",le,[a("div",null,[e.value.image?(p(),m("img",{key:0,onclick:"document.getElementById('filr').click()",class:d(["m-auto rounded-full",{"p-invalid":u.value&&!e.value.image}]),style:{width:"150px",height:"150px"},src:e.value.image},null,10,ae)):(p(),m("img",{key:1,onclick:"document.getElementById('filr').click()",class:d(["m-auto rounded-full",{"p-invalid":u.value&&!e.value.image}]),style:{width:"150px",height:"150px"},src:"https://sys.sawa.sawa.academy/public/default.jpg"},null,2))])]),a("div",te,[a("div",se,[a("label",oe,o(l.$t("name")),1),n(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":u.value&&!e.value.name}]),modelValue:e.value.name,"onUpdate:modelValue":t[0]||(t[0]=s=>e.value.name=s)},null,8,["modelValue","class"])]),a("div",ne,[a("label",ue,o(l.$t("type")),1),n(_,{id:"pv_id_1",style:{direction:"ltr !important","text-align":"center !important"},modelValue:e.value.type,"onUpdate:modelValue":t[1]||(t[1]=s=>e.value.type=s),"option-value":"id",filter:"",options:A(),optionLabel:"name",class:d({"p-invalid":u.value&&!e.value.name})},null,8,["modelValue","options","class"])]),e.value.type==0||e.value.type==2?(p(),m("div",de,[a("label",ie,o(l.$t("skill_name")),1),n(T,{modelValue:e.value.skills,"onUpdate:modelValue":t[2]||(t[2]=s=>e.value.skills=s),filter:"","option-value":"id",options:S.value,optionLabel:"name",class:d({"p-invalid":u.value&&!e.value.skills})},null,8,["modelValue","options","class"])])):b("",!0),e.value.type==0||e.value.type==2?(p(),m("div",re,[a("label",pe,o(l.$t("department")),1),n(T,{modelValue:e.value.department,"onUpdate:modelValue":t[3]||(t[3]=s=>e.value.department=s),filter:"","option-value":"id",options:U.value,optionLabel:"title",class:d({"p-invalid":u.value&&!e.value.department})},null,8,["modelValue","options","class"])])):b("",!0),e.value.type==0||e.value.type==2?(p(),m("div",me,[a("label",ve,o(l.$t("Spotter")),1),n(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":u.value&&!e.value.spotter}]),modelValue:e.value.spotter,"onUpdate:modelValue":t[4]||(t[4]=s=>e.value.spotter=s)},null,8,["modelValue","class"])])):b("",!0),a("div",ce,[a("label",fe,o(l.$t("email")),1),n(r,{type:"email",class:d(["bg-[#f7f5f5] text-center",{"p-invalid":u.value&&!e.value.email}]),modelValue:e.value.email,"onUpdate:modelValue":t[5]||(t[5]=s=>e.value.email=s)},null,8,["modelValue","class"])]),a("div",ye,[a("label",ge,o(l.$t("title")),1),n(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":u.value&&!e.value.title}]),modelValue:e.value.title,"onUpdate:modelValue":t[6]||(t[6]=s=>e.value.title=s)},null,8,["modelValue","class"])]),a("div",_e,[a("label",be,o(l.$t("password")),1),n(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":u.value&&!e.value.password}]),modelValue:e.value.password,"onUpdate:modelValue":t[7]||(t[7]=s=>e.value.password=s)},null,8,["modelValue","class"])]),a("div",Ve,[a("label",he,o(l.$t("roles")),1),n(_,{id:"pv_id_1",style:{direction:"ltr !important","text-align":"center !important"},modelValue:e.value.role,"onUpdate:modelValue":t[8]||(t[8]=s=>e.value.role=s),"option-value":"id",filter:"",options:x.value,optionLabel:"name",class:d({"p-invalid":u.value&&!e.value.role})},null,8,["modelValue","options","class"]),(L=l.error)!=null&&L.role?(p(),m("div",we,o(l.error.role[0]),1)):b("",!0)]),a("div",ke,[a("label",$e,o(l.$t("personal_image")),1),n(r,{name:"file",ref:"file",onChange:M,accept:"image/*",id:"filr",type:"file",class:"w-full"},null,512),(B=l.error)!=null&&B.image?(p(),m("div",xe,o(l.error.image[0]),1)):b("",!0)])]),a("p",Ue,o(l.$t("add_Appointment")),1),a("table",Se,[a("thead",null,[a("tr",null,[a("th",null,o(l.$t("day")),1),a("th",null,o(l.$t("evalute_type")),1),a("th",null,o(l.$t("from")),1),a("th",null,o(l.$t("to")),1)])]),a("tbody",null,[c.value.length>=1?(p(!0),m(Q,{key:0},X(c.value,(s,D)=>(p(),m("tr",{key:D},[a("td",null,o(s.day),1),a("td",null,o(C.value.find(F=>F.id===(s==null?void 0:s.evaluation_type)).name),1),a("td",null,o(s.start),1),a("td",null,o(s.end),1),a("td",null,[n(k,{onClick:F=>z(D),icon:"pi pi-trash",class:"p-button-rounded delete p-button-success m-auto"},null,8,["onClick"])])]))),128)):b("",!0),a("tr",null,[a("td",null,[n(_,{class:d(["w-full",{"p-invalid":u.value&&!f.value}]),style:{direction:"ltr !important"},modelValue:f.value,"onUpdate:modelValue":t[9]||(t[9]=s=>f.value=s),"option-value":"value",options:Y(O),optionLabel:"name",placeholder:l.$t("day")},null,8,["modelValue","options","placeholder","class"])]),a("td",null,[n(_,{id:"pv_id_1",style:{direction:"ltr !important","text-align":"center !important"},modelValue:h.value,"onUpdate:modelValue":t[10]||(t[10]=s=>h.value=s),"option-value":"id",options:C.value,optionLabel:"name",placeholder:l.$t("evalute_type"),class:d(["w-full",{"p-invalid":u.value&&!h.value}])},null,8,["modelValue","options","placeholder","class"])]),a("td",null,[n(r,{type:"time",timeOnly:"",modelValue:g.value,"onUpdate:modelValue":t[11]||(t[11]=s=>g.value=s),class:d(["w-full",{"p-invalid":u.value&&!g.value}]),autofocus:"",placeholder:l.$t("from"),format:"12"},null,8,["modelValue","placeholder","class"])]),a("td",null,[n(r,{type:"time",timeOnly:"",modelValue:y.value,"onUpdate:modelValue":t[12]||(t[12]=s=>y.value=s),class:d(["w-full",{"p-invalid":u.value&&!y.value}]),autofocus:"",placeholder:l.$t("to")},null,8,["modelValue","placeholder","class"])]),a("td",null,[n(k,{onClick:N,class:"create m-auto s",icon:"pi pi-plus"})])])])]),n(k,{onClick:t[13]||(t[13]=s=>u.value=!0),type:"submit",class:"mt-4 m-auto create w-full",label:l.$t("submit")},null,8,["label"])],40,ee),n(W)]}),_:1})}}};export{Be as default};
