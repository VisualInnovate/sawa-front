import{_ as M,c,D as U,r as u,o,d as a,f as n,w as V,e as t,E as N,t as i,g as d,P as E,F as _,z as g,X as T,Q as P,R as z}from"./main-519966d8.js";import{E as L}from"./EvaluationType-9f060a08.js";import{V as Q}from"./VForm-56eb1a57.js";const R={components:{EvaluationType:L},data(){return{answers:[],alltypes:[],strart_evaluate:!1,answer:{color:"00a2ff"},score:[],allquestion:[],childs:{},qustions:{},error:{},maxDate:new Date,notanswer:[]}},methods:{Therapeutic(){this.$router.push({name:"answer"})},createevalutae(e){console.log(e),c.post("api/evaluations/create",{type:3,title:this.answer.title,child_id:this.answer.child_id,specialist_id:localStorage.getItem("user_id"),date:this.answer.date}).then(l=>{this.answer.evaluation_id=l.data.evaluation.id,this.strart_evaluate=!this.strart_evaluate})},submit(){},anserdata(e,l){console.log(e),console.log(l)},getcolor(e){this.answer.color=e.target.value},getscore(e,l){this.score[e]&&this.score.length>0?this.score.splice(e,1):this.score[e]=l,console.log(this.score)},getage(){c.post("api/milestone-answers/get-age-child",{date:this.answer.date,child_id:this.answer.child_id}).then(e=>{this.answer.child_age=e.data})},getallquestion(){c.get("api/barrier-subtest").then(e=>{console.log(e.data.data),this.allquestion=e.data.data})},getalltypeanswer(){c.get("api/barrier-answer-type").then(e=>{console.log(e.data.data),this.alltypes=e.data.data})},pushanser(e,l){console.log(l,e),this.answer.date=U(this.answer.date).format("Y-MM-DD"),console.log(this.answers)},getanswer(){this.answer.scores=this.score,c.post("/api/barrier-answer",this.answer).then(e=>{this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{console.log(e.response.data.errors.name),this.error=e.response.data.errors})},getusers(){c.get("api/child").then(e=>{this.childs=e.data.children,this.answer.child_id=parseInt(this.$route.params.id),this.answer.evaluation_id=parseInt(this.$route.params.evaluation)}),c.get("api/mileston-levels").then(e=>{console.log(e.data.data),this.qustions=e.data.data})},createtreatment(){c.post("api/barrier-question/check/answers",{child_id:this.answer.child_id,level_id:this.answer.level_id}).then(e=>{console.log(e.data.data),this.notanswer=e.data.data,this.notanswer==""&&this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{console.log(e.response.data.errors.name),this.error=e.response.data.errors})}},mounted(){this.getusers(),this.getallquestion(),this.getalltypeanswer()}},C=e=>(P("data-v-6171dc6b"),e=e(),z(),e),X=C(()=>t("div",null,null,-1)),Y={class:"flex flex-column gap-2"},j={for:"username"},A={key:0,class:"mt-1 mb-5 text-red-500"},G={class:"flex flex-column gap-2"},H={for:"username"},J={key:0,class:"mt-1 mb-5 text-red-500"},K={key:0,class:"flex flex-column gap-2"},O={for:"username"},W={key:0,class:"mt-1 mb-5 text-red-500"},Z={key:1,class:"flex flex-column gap-2"},$={for:"username"},ee={key:0,class:"mt-1 mb-5 text-red-500"},se={key:2,class:"flex flex-column gap-2"},te={for:"username"},le={class:"flex"},oe={key:0,class:"mt-1 mb-5 text-red-500"},ae={class:"col-span-2"},re={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},ie=["href"],ne={class:"col-span-2 flex flex-column gap-2"},de=["id"],ce={style:{border:"1px solid black","border-radius":"5px"}},ue={class:"flex"},he=["onChange","value"],_e={class:"py-1"},me={class:"flex flex-column gap-2 w-full"},pe={style:{visibility:"hidden"},for:"username"},ge=C(()=>t("small",{id:"username-help"},null,-1));function fe(e,l,we,ve,s,h){const D=u("InputText"),I=u("Dropdown"),S=u("Calendar"),q=u("InputNumber"),B=u("ColorPicker"),f=u("Button"),F=u("toast");return o(),a(_,null,[X,n(T,null,{default:V(()=>[t("div",null,[n(Q,{style:{"max-height":"80vh","overflow-y":"scroll"},"fast-fail":"",ref:"form",onSubmit:N(h.submit,["prevent"]),class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4"},{default:V(()=>{var w,v,b,y,x;return[t("div",Y,[t("label",j,i(e.$t("evaluation_name")),1),n(D,{required:"",class:"bg-[#f7f5f5]",modelValue:s.answer.title,"onUpdate:modelValue":l[0]||(l[0]=r=>s.answer.title=r),placeholder:e.$t("evaluation_name")},null,8,["modelValue","placeholder"]),(w=s.error)!=null&&w.title?(o(),a("div",A,i(s.error.title[0]),1)):d("",!0)]),t("div",G,[t("label",H,i(e.$t("child_name")),1),n(I,{filter:"",required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:s.answer.child_id,"onUpdate:modelValue":l[1]||(l[1]=r=>s.answer.child_id=r),"option-value":"id",options:s.childs,optionLabel:"name",placeholder:e.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(v=s.error)!=null&&v.child_id?(o(),a("div",J,i(s.error.child_id[0]),1)):d("",!0)]),s.answer.child_id?(o(),a("div",K,[t("label",O,i(e.$t("date")),1),n(S,{"onUpdate:modelValue":[h.getage,l[2]||(l[2]=r=>s.answer.date=r)],style:{width:"100%"},showButtonBar:"",modelValue:s.answer.date,modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("date"),maxDate:s.maxDate},null,8,["onUpdate:modelValue","modelValue","placeholder","maxDate"]),(b=s.error)!=null&&b.child_age?(o(),a("div",W,i(s.error.child_age[0]),1)):d("",!0)])):d("",!0),s.answer.date?(o(),a("div",Z,[t("label",$,i(e.$t("age")),1),n(q,{readonly:"",required:"",class:"bg-[#f7f5f5]",modelValue:s.answer.child_age,"onUpdate:modelValue":l[3]||(l[3]=r=>s.answer.child_age=r),placeholder:e.$t("age")},null,8,["modelValue","placeholder"]),(y=s.error)!=null&&y.child_age?(o(),a("div",ee,i(s.error.child_age[0]),1)):d("",!0)])):d("",!0),s.answer.child_id?(o(),a("div",se,[t("label",te,i(e.$t("color")),1),t("div",le,[n(B,{style:E({"background-color":"#"+s.answer.color}),class:"w-full h-[50px]",modelValue:s.answer.color,"onUpdate:modelValue":l[4]||(l[4]=r=>s.answer.color=r)},null,8,["style","modelValue"]),n(f,{onClick:h.createevalutae,class:"create m-auto w-full h-[50px]",label:e.$t("strart_evaluate")},null,8,["onClick","label"])]),(x=s.error)!=null&&x.color?(o(),a("div",oe,i(s.error.color[0]),1)):d("",!0)])):d("",!0),t("div",ae,[t("div",re,[s.strart_evaluate?(o(!0),a(_,{key:0},g(s.allquestion,(r,m)=>(o(),a("a",{style:{color:"blue"},href:"#"+m},i(r.title.substring(0,30)+"..."),9,ie))),256)):d("",!0)]),s.strart_evaluate?(o(!0),a(_,{key:0},g(s.allquestion,(r,m)=>(o(),a("div",ne,[t("a",{id:m,class:"text-[black] font-bold"},i(r.title),9,de),t("div",ce,[(o(!0),a(_,null,g(r.barriers_questiont,(p,k)=>(o(),a("div",{style:{"border-radius":"5px",padding:"1%"},class:"my-2",key:k},[t("div",ue,[t("input",{onChange:be=>h.getscore(p.id,p.subtest_id),type:"checkbox",style:{border:"1px solid black"},class:"p-1 mx-2 my-auto",value:k},null,40,he),t("p",_e,i(p.title)+":",1)])]))),128))])]))),256)):d("",!0)]),t("div",me,[t("label",pe,i(e.$t("gruop_sessaion")),1),n(f,{onClick:h.getanswer,class:"create m-auto w-full",label:e.$t("submit")},null,8,["onClick","label"]),ge])]}),_:1},8,["onSubmit"]),n(F)])]),_:1})],64)}const Ve=M(R,[["render",fe],["__scopeId","data-v-6171dc6b"]]);export{Ve as default};
