import{ax as N,ao as S,I as s,aq as D,ah as E,ar as I,r as h,o as m,d as _,e as t,f as o,w as x,a2 as L,L as r,t as p,a as b,K as k,g as V,aa as T,c as C}from"./main-a0d75a22.js";import{E as z,P as A}from"./index-6bc84805.js";const U={class:"grid"},j={class:"col-12"},K=t("h2",{class:"text-3xl py-1 font-bold text-center text-[#473e3e]"},"Hr Settings",-1),P=["onSubmit"],W={class:"py-3"},Z={class:"m-auto w-full"},H={class:"field mb-5"},J={for:"last"},O={class:"flex"},Q={key:0,class:"p-invalid text-red-600"},Y={class:"field mb-5"},G={for:"last"},R={class:"flex"},X={key:0,class:"p-invalid text-red-600"},ee={class:"flex"},se={__name:"index",setup(ae){const{t:v}=N(),$=S(),n=s({name:"",latitude:"",longitude:"",distance:1e3}),w=s(!0);s("");const e=s({});s({editelong:!0,editelate:!0});const M=s({}),i=s(!1);s(Number),D(()=>{F()});const g=()=>{C.get("api/settings").then(a=>{w.value=!1,e.value=a.data.data[0],n.value.latitude=e.value.company_lat,n.value.longitude=e.value.company_long})};function q(a){const l=a.latLng,c=l.lat(),u=l.lng();e.value.company_long=u,e.value.company_lat=c,console.log("Clicked coordinates:",c,u)}E(()=>{g()});const B=()=>{console.log(e.value),C.put("api/settings",e.value).then(a=>{$.add({severity:"success",summary:v("success_message"),detail:`${v("element_update_success")}`,life:3e3}),g()})},F=()=>{M.value={global:{value:null,matchMode:I.CONTAINS}}};return(a,l)=>{const c=h("Toast"),u=h("Button");return m(),_("div",U,[t("div",j,[o(T,{class:"card max-w-3xl p-[2%] m-auto bg-slate-50"},{default:x(()=>{var f,y;return[K,o(c),t("form",{onSubmit:L(B,["prevent"]),class:"grid lg:grid-cols-2 grid-cols-1 gap-4"},[t("div",W,[o(r(z),{"api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",onClick:q,style:{width:"100%",height:"400px"},center:{lat:parseFloat(n.value.latitude),lng:parseFloat(n.value.longitude)},zoom:14},{default:x(()=>[o(r(A),{options:{position:{lat:parseFloat(n.value.latitude),lng:parseFloat(n.value.longitude)}}},null,8,["options"])]),_:1},8,["center"])]),t("div",Z,[t("div",H,[t("p",J,p(a.$t("company_long")),1),t("div",O,[o(r(b),{readonly:"",modelValue:e.value.company_long,"onUpdate:modelValue":l[0]||(l[0]=d=>e.value.company_long=d),class:k(["mt-3 w-full",{"p-invalid":i.value&&!e.value.company_long}]),id:"last",required:"",autofocus:""},null,8,["modelValue","class"])]),i.value&&!((f=e.value)!=null&&f.company_long)?(m(),_("small",Q,p(a.$t("company_long")+" "+a.$t("required"))+".",1)):V("",!0)]),t("div",Y,[t("p",G,p(a.$t("company_lat")),1),t("div",R,[o(r(b),{readonly:"",class:k(["mt-3 mx-1 w-full",{"p-invalid":i.value&&!e.value.company_lat}]),modelValue:e.value.company_lat,"onUpdate:modelValue":l[1]||(l[1]=d=>e.value.company_lat=d),required:"true"},null,8,["modelValue","class"])]),i.value&&!((y=e.value)!=null&&y.company_lat)?(m(),_("small",X,p(a.$t("company_lat")+" "+a.$t("required"))+".",1)):V("",!0)]),t("div",ee,[o(u,{onClick:l[2]||(l[2]=d=>i.value=!0),type:"submit",label:a.$t("save"),icon:"pi pi-check",class:"create"},null,8,["label"])])])],40,P)]}),_:1})])])}}};export{se as default};
