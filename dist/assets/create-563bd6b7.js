import{_ as b,c as i,r as m,o as d,x as f,w as v,e as t,t as u,f as s,d as r,g,z as V,F as k,X as w}from"./main-5d394928.js";const x={data(){return{selectedOption:"",employee_id:"",maxvalue:"",quantity:0,balance:[],options:[],employees:[]}},methods:{getallsetup(){i.get("api/leave-setup").then(e=>{this.options=e.data.data})},getallemployees(){i.get("api/employees/get/no-balance").then(e=>{this.employees=e.data})},deleteitem(e){this.balance.splice(e,1)},getmaxvalue(e){this.quantity=0,i.get(`api/leave-setup/${e.id}`).then(l=>{this.maxvalue=l.data.data.days?l.data.data.days:l.data.data.hours})},addItem(){this.selectedOption&&this.quantity>0&&(this.balance.push({id:this.selectedOption.id,title:this.selectedOption.title,value:this.quantity}),this.selectedOption="",this.value=1)},submite(){i.post("api/leave-balance",{employee_id:this.employee_id,balance:this.balance}).then(e=>{})}},mounted(){this.getallsetup(),this.getallemployees()}},C={class:"flex flex-column gap-2 md:w-[50%] py-[2%]"},q={for:"username"},O={key:0,class:"mt-1 mb-5 text-red-500"},B={class:"item-table w-[70%]"},D=t("thead",null,[t("tr",null,[t("th",null,"leave_setup"),t("th",null,"الكمية")])],-1);function F(e,l,N,I,a,n){const c=m("Dropdown"),p=m("Button"),y=m("InputNumber");return d(),f(w,{class:"p-[2%] bg-[#FDFDFD] shadow-xl gap-4"},{default:v(()=>{var h;return[t("div",C,[t("label",q,u(e.$t("employee_name")),1),s(c,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:a.employee_id,"onUpdate:modelValue":l[0]||(l[0]=o=>a.employee_id=o),"option-value":"id",options:a.employees,optionLabel:"name",placeholder:e.$t("employee_name"),class:"w-full bg-[#f7f5f5]"},null,8,["modelValue","options","placeholder"]),(h=e.error)!=null&&h.shift_id?(d(),r("div",O,u(e.error.shift_id[0]),1)):g("",!0)]),t("table",B,[D,t("tbody",null,[(d(!0),r(k,null,V(a.balance,(o,_)=>(d(),r("tr",{key:_},[t("td",null,u(o.title),1),t("td",null,u(o.value),1),t("td",null,[s(p,{onClick:L=>n.deleteitem(_),icon:"pi pi-trash",class:"p-button-rounded delete p-button-success m-auto"},null,8,["onClick"])])]))),128)),t("tr",null,[t("td",null,[s(c,{"onUpdate:modelValue":[l[1]||(l[1]=o=>n.getmaxvalue(o)),l[2]||(l[2]=o=>a.selectedOption=o)],style:{direction:"ltr !important"},modelValue:a.selectedOption,options:a.options,optionLabel:"title",placeholder:e.$t("shift_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"])]),t("td",null,[s(y,{class:"w-full",modelValue:a.quantity,"onUpdate:modelValue":l[3]||(l[3]=o=>a.quantity=o),placeholder:"الكمية",max:a.maxvalue},null,8,["modelValue","max"])]),t("td",null,[s(p,{onClick:n.addItem,class:"create m-auto s",icon:"pi pi-plus"},null,8,["onClick"])])])])]),s(p,{onClick:n.submite,class:"create m-auto w-32 my-4",label:e.$t("submit")},null,8,["onClick","label"])]}),_:1})}const z=b(x,[["render",F]]);export{z as default};
