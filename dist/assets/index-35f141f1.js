import{a9 as ee,aa as te,T as o,ab as le,a2 as se,ac as ae,l as c,ad as oe,o as p,e as m,h as l,x as s,y as r,w as $,f as ie,t as n,i as M,q as b,z as _}from"./main-d6222795.js";const ne={class:"grid"},ue={class:"col-12"},de={class:"my-2"},re={style:{},class:"shadow-xl"},ce={class:"flex w-full justify-between align-items-center"},pe={class:"m-0 my-auto"},ve={class:"block mt-2 md:mt-0 p-input-icon-left"},me=l("i",{class:"pi pi-search"},null,-1),fe={class:"flex align-items-center justify-content-center"},be=l("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),_e={key:0},he={class:"flex flex-column gap-2"},ge={class:"w-full text-right",for:"username"},ye={key:0,class:"mt-1 mb-5 text-red-500"},we={class:"flex flex-column gap-2"},ke={class:"w-full text-right",for:"username"},$e={key:0,class:"mt-1 mb-5 text-red-500"},xe={class:"flex flex-column gap-2"},Ve={class:"w-full text-right",for:"username"},qe={key:0,class:"mt-1 mb-5 text-red-500"},Ce={class:"w-full text-center"},Se={class:"flex flex-column gap-2"},De={class:"w-full text-right",for:"username"},Te={key:0,class:"mt-1 mb-5 text-red-500"},Ue={class:"flex flex-column gap-2"},Le={class:"w-full text-right",for:"username"},Pe={key:0,class:"mt-1 mb-5 text-red-500"},Ne={class:"flex flex-column gap-2"},Be={class:"w-full text-right",for:"username"},Me={key:0,class:"mt-1 mb-5 text-red-500"},Re={class:"w-full text-center"},Ie={__name:"index",setup(je){const D=ee();te();const T=o(!0),R=o({}),u=o(""),x=o(null);o(!1);const y=o(!1),V=o(""),j=o(null),F=o(null),q=o({}),h=o(!1),i=o({}),g=o(!1),U=o([]),L=o([]);le(()=>{Q()});const C=()=>{_.get("/api/milestone-question").then(e=>{T.value=!1,x.value=e.data.data,console.log(x.value)})},I=()=>{_.get("/api/milestone-subtest").then(e=>{L.value=e.data.data})},z=()=>{_.get("/api/mileston-question-type").then(e=>{U.value=e.data.data})};se(()=>{C(),z(),I()});const A=e=>{_.get(`/api/milestone-question/${e}`).then(t=>{T.value=!1,i.value=t.data.data,console.log(x.value)}),V.value=e,g.value=!g.value},E=()=>{_.put(`/api/milestone-question/${V.value}`,i.value).then(e=>{console.log(e.data),C(),g.value=!g.value,D.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),i.value=o({})}).catch(e=>{u.value=e.response.data.errors})},O=()=>{h.value=!h.value},G=e=>{console.log(e),y.value=!0,V.value=e},H=()=>{_.post("/api/milestone-question",i.value).then(e=>{console.log(e.data),C(),h.value=!h.value,D.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),skill.value=o({})}).catch(e=>{u.value=e.response.data.errors})},J=()=>{_.delete(`/api/milestone-question/${V.value}`).then(e=>{console.log(e.data),y.value=!1,C(),D.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},K=()=>{F.value.exportCSV()},Q=()=>{q.value={global:{value:null,matchMode:ae.CONTAINS}}};return(e,t)=>{const v=c("Button"),W=c("Toolbar"),X=c("Toast"),P=c("InputText"),N=c("Column"),Y=c("DataTable"),B=c("Dialog"),S=c("Dropdown"),Z=c("va-card"),w=oe("can");return p(),m("div",ne,[l("div",ue,[s(Z,{class:"card"},{default:r(()=>[s(W,{class:"mb-4 shadow-md"},{start:r(()=>[l("div",de,[$(s(v,{label:e.$t("question-types"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:O},null,8,["label"]),[[w,"skills create"]])])]),end:r(()=>[$(s(v,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:t[0]||(t[0]=a=>K(a))},null,8,["label"]),[[w,"skills list"]])]),_:1}),s(X),l("div",re,[$((p(),ie(Y,{ref_key:"dt",ref:F,selection:j.value,"onUpdate:selection":t[2]||(t[2]=a=>j.value=a),value:x.value,loading:T.value,"data-key":"id",paginator:!0,rows:10,filters:q.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:r(()=>[l("div",ce,[l("h5",pe,n(e.$t("question-types")),1),l("div",null,[l("span",ve,[me,s(P,{modelValue:q.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=a=>q.value.global.value=a),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:r(()=>[s(N,{"selection-mode":"multiple","header-style":"width: 3rem"}),s(N,{field:"name",header:e.$t("name"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:r(a=>[M(n(a.data.title),1)]),_:1},8,["header"]),s(N,{"header-style":"min-width:10rem;"},{body:r(a=>[l("div",null,[$(s(v,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:f=>A(a.data.id)},null,8,["onClick"]),[[w,"skills edit"]]),$(s(v,{icon:"pi pi-trash",class:"delete mt-2",onClick:f=>G(a.data.id)},null,8,["onClick"]),[[w,"skills delete"]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[w,"skills list"]]),s(B,{visible:y.value,"onUpdate:visible":t[4]||(t[4]=a=>y.value=a),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:r(()=>[s(v,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:t[3]||(t[3]=a=>y.value=!1)},null,8,["label"]),s(v,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:J},null,8,["label"])]),default:r(()=>[l("div",fe,[be,R.value?(p(),m("span",_e,[M(n(e.$t("remove_item"))+" ",1),l("b",null,n(R.value.first_name),1),M("?")])):b("",!0)])]),_:1},8,["visible","header"]),s(B,{visible:h.value,"onUpdate:visible":t[8]||(t[8]=a=>h.value=a),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:r(()=>{var a,f,k;return[l("div",he,[l("label",ge,n(e.$t("title")),1),s(P,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:i.value.title,"onUpdate:modelValue":t[5]||(t[5]=d=>i.value.title=d),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(a=u.value)!=null&&a.sympol?(p(),m("div",ye,n(u.value.name[0]),1)):b("",!0)]),l("div",we,[l("label",ke,n(e.$t("level")),1),s(S,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:i.value.question_type_id,"onUpdate:modelValue":t[6]||(t[6]=d=>i.value.question_type_id=d),"option-value":"id",filter:"",options:U.value,optionLabel:"title",placeholder:e.$t("level"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(f=u.value)!=null&&f.question_type_id?(p(),m("div",$e,n(u.value.question_type_id[0]),1)):b("",!0)]),l("div",xe,[l("label",Ve,n(e.$t("Subtest")),1),s(S,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:i.value.subtest_id,"onUpdate:modelValue":t[7]||(t[7]=d=>i.value.subtest_id=d),"option-value":"id",filter:"",options:L.value,optionLabel:"title",placeholder:e.$t("Subtest"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(k=u.value)!=null&&k.subtest_id?(p(),m("div",qe,n(u.value.subtest_id[0]),1)):b("",!0)]),l("div",Ce,[s(v,{onClick:H,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),s(B,{visible:g.value,"onUpdate:visible":t[12]||(t[12]=a=>g.value=a),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:r(()=>{var a,f,k;return[l("div",Se,[l("label",De,n(e.$t("title")),1),s(P,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:i.value.title,"onUpdate:modelValue":t[9]||(t[9]=d=>i.value.title=d),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(a=u.value)!=null&&a.sympol?(p(),m("div",Te,n(u.value.name[0]),1)):b("",!0)]),l("div",Ue,[l("label",Le,n(e.$t("level")),1),s(S,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:i.value.question_type_id,"onUpdate:modelValue":t[10]||(t[10]=d=>i.value.question_type_id=d),"option-value":"id",filter:"",options:U.value,optionLabel:"title",placeholder:e.$t("level"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(f=u.value)!=null&&f.question_type_id?(p(),m("div",Pe,n(u.value.question_type_id[0]),1)):b("",!0)]),l("div",Ne,[l("label",Be,n(e.$t("Subtest")),1),s(S,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:i.value.subtest_id,"onUpdate:modelValue":t[11]||(t[11]=d=>i.value.subtest_id=d),"option-value":"id",filter:"",options:L.value,optionLabel:"title",placeholder:e.$t("Subtest"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(k=u.value)!=null&&k.subtest_id?(p(),m("div",Me,n(u.value.subtest_id[0]),1)):b("",!0)]),l("div",Re,[s(v,{onClick:E,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{Ie as default};
