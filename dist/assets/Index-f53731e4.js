import{_ as C,c as f,r as n,al as S,o as k,d as E,f as i,e as o,i as p,c5 as R,g as a,t as g,y as $,z as D}from"./main-07c0fdcf.js";import{S as I}from"./Sideprofiletap-61fa5059.js";const T={components:{Sideprofiletap:I},data(){return{search:"",headers:[],sideProfile:[],alert_text:null,loading:!0,groupBy:[{key:"side_profile_title"}],active:!1,expandedRows:[]}},methods:{getSideProfile(){f.get("/api/side-profiles/all-evaluations").then(e=>{this.sideProfile=e.data.evaluations,console.log(this.sideProfile),this.loading=!1})},editItem(e){this.$router.push({name:"EditSideProfiles",params:{id:e}})},deleteItem(e){console.log(e),f.delete(`/api/side-profiles/${e}/delete`).then(t=>{t.data.status==200&&(this.alert_text="Side profile deleted successfully",this.sideProfile=t.data.sideProfile)})},create(){this.$router.push({name:"CreateSideProfiles"})},showItem(e){this.$router.push({name:"ShowSideProfiles",params:{id:e}})},onClickOutside(){this.active=!1},editEvaluation(e){this.$router.push({name:"EditEvaluations",params:{id:e}})},deleteEvaluation(e){this.$confirm.require({message:"Are you sure you want to delete this evaluation?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{f.delete(`/api/evaluations/${e}/delete`).then(t=>{t.data.status==200&&(this.$toast.add({severity:"success",summary:"Success",detail:"Evaluation deleted successfully",life:3e3}),this.getSideProfile())})},reject:()=>{this.$toast.add({severity:"info",summary:"Cancelled",detail:"Delete operation cancelled",life:3e3})}})},createEvaluation(e){this.$router.push({name:"CreateEvaluations",params:{sideProfile_id:e}})},showEvaluation(e){this.$router.push({name:"ShowEvaluations",params:{id:e}})},onRowExpand(e){this.$toast.add({severity:"info",summary:"Profile Expanded",detail:`Showing evaluations for ${e.data.side_profile_title}`,life:3e3})},onRowCollapse(e){this.$toast.add({severity:"info",summary:"Profile Collapsed",detail:`Hiding evaluations for ${e.data.side_profile_title}`,life:3e3})},toggleRow(e){this.expandedRows.includes(e)?this.expandedRows=this.expandedRows.filter(t=>t.id!==e.id):this.expandedRows.push(e)}},mounted(){this.getSideProfile()},computed:{header(){return[{field:"evaluation_title",header:this.$t("evaluation_title")},{header:this.$t("operation"),sortable:!1}]},groupedProfiles(){const e={};return this.sideProfile.forEach(t=>{e[t.side_profile_title]||(e[t.side_profile_title]={side_profile_title:t.side_profile_title,side_profile_id:t.side_profile_id,evaluations:[]}),e[t.side_profile_title].evaluations.push(t)}),Object.values(e)}}},h=e=>($("data-v-07a92e88"),e=e(),D(),e),L={class:"card"},B={class:"relative"},V={class:"card p-fluid"},F={class:"flex justify-content-between"},O=h(()=>o("span",{class:"text-xl text-900 font-bold w-[20%] m-auto"},"Side Profiles",-1)),j={class:"p-input-icon-left"},A=h(()=>o("i",{class:"pi pi-search"},null,-1)),N={class:"font-semibold"},U={class:"flex gap-2"},q={class:"p-3 bg-gray-50 border-round"},z={class:"font-medium"},G={class:"flex gap-2"},H=h(()=>o("div",{class:"text-center py-5"},[o("i",{class:"pi pi-database text-5xl text-400 mb-3"}),o("p",{class:"text-900 font-semibold text-xl"},"No records found"),o("p",{class:"text-600"},"Create a new side profile to get started")],-1)),K={class:"flex items-center justify-center p-5"};function M(e,t,W,J,u,l){const x=n("Toast"),b=n("ConfirmDialog"),w=n("Sideprofiletap"),r=n("Button"),y=n("InputText"),c=n("Column"),v=n("DataTable"),P=n("ProgressSpinner"),_=S("tooltip");return k(),E("div",L,[i(x),i(b),o("div",B,[i(w),p(i(r,{icon:"pi pi-plus",label:"Create",class:"p-button-success mr-2 my-auto absolute top-0 right-0",onClick:l.create},null,8,["onClick"]),[[R,l.onClickOutside]])]),o("div",V,[i(v,{value:l.groupedProfiles,expandedRows:u.expandedRows,"onUpdate:expandedRows":t[1]||(t[1]=s=>u.expandedRows=s),dataKey:"side_profile_id",loading:u.loading,sortMode:"multiple",removableSort:"",paginator:"",rows:10,rowsPerPageOptions:[5,10,25,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",filterDisplay:"menu",globalFilterFields:["side_profile_title","evaluations.evaluation_title"],stripedRows:"",showGridlines:"",responsiveLayout:"scroll"},{header:a(()=>[o("div",F,[O,o("span",j,[A,i(y,{modelValue:u.search,"onUpdate:modelValue":t[0]||(t[0]=s=>u.search=s),placeholder:"Search..."},null,8,["modelValue"])])])]),expansion:a(({data:s})=>[o("div",q,[i(v,{value:s.evaluations,class:"p-datatable-sm",responsiveLayout:"scroll"},{default:a(()=>[i(c,{field:"evaluation_title",header:"Evaluation Title",sortable:""},{body:a(({data:d})=>[o("span",z,g(d.evaluation_title),1)]),_:2},1024),i(c,{header:"Actions",exportable:!1,style:{"min-width":"10rem"}},{body:a(({data:d})=>[o("div",G,[p(i(r,{icon:"pi pi-eye",class:"p-button-rounded p-button-info p-button-text",onClick:m=>l.showEvaluation(d.evaluation_id)},null,8,["onClick"]),[[_,"View Details",void 0,{top:!0}]]),p(i(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-warning p-button-text",onClick:m=>l.editEvaluation(d.evaluation_id)},null,8,["onClick"]),[[_,"Edit Evaluation",void 0,{top:!0}]]),p(i(r,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger p-button-text",onClick:m=>l.deleteEvaluation(d.evaluation_id)},null,8,["onClick"]),[[_,"Delete Evaluation",void 0,{top:!0}]])])]),_:2},1024)]),_:2},1032,["value"])])]),empty:a(()=>[H]),loading:a(()=>[o("div",K,[i(P,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:a(()=>[i(c,{expander:"",style:{width:"3rem"}}),i(c,{field:"side_profile_title",header:"Profile Title",sortable:""},{body:a(({data:s})=>[o("span",N,g(s.side_profile_title),1)]),_:1}),i(c,{header:"Actions",exportable:!1,style:{"min-width":"10rem"}},{body:a(({data:s})=>[o("div",U,[p(i(r,{icon:"pi pi-plus",class:"p-button-rounded p-button-success p-button-text",onClick:d=>l.createEvaluation(s.side_profile_id)},null,8,["onClick"]),[[_,"Add Evaluation",void 0,{top:!0}]]),p(i(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-info p-button-text",onClick:d=>l.editItem(s.side_profile_id)},null,8,["onClick"]),[[_,"Edit Profile",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","expandedRows","loading","globalFilterFields"])])])}const Y=C(T,[["render",M],["__scopeId","data-v-07a92e88"]]);export{Y as default};
