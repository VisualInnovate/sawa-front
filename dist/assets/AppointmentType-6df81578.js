import{_ as V,y as m,k as b,o as p,e as c,q as a,x as l,T as x,a1 as T,h as s,t as i,a3 as I,X as y,i as h,F as C,z as D,G as _,L as k,O as A}from"./main-325d07d3.js";import{S as v}from"./sweetalert2.all-422296ed.js";/* empty css                   */import{s as F}from"./inputtext.esm-26ce0bd2.js";import{P as S}from"./Pagination-9ee7131a.js";import{V as $}from"./VDialog-0d5ebcfd.js";const E={components:{Pagination:S,InputText:F},data(){return{currentPage:5,currentPage:1,pageSize:10,items:[],searchQuery:"",rooms:[],sessionTypes:[],showDialog:!1,showModal:!1,id:"",formData:{title:""}}},computed:{roomss(){return` ${this.this.sessionTypes}`},roomssearchQuery(){return this.sessionTypes.filter(e=>e.title.match(this.searchQuery))}},methods:{deleteItem(e){m.delete(`/api/appointmenttypes/${e}`,this.formData).then(t=>{console.log("Item deleted successfully:",t.data),v.fire("تم الحذف بنجاح!","Your treatment has been deleted.","success");const r=this.sessionTypes.findIndex(u=>u.id===e);r!==-1&&this.sessionTypes.splice(r,1)}).catch(t=>{console.error("There was an error deleting the treatment: ",t),v.fire("Error!","There was a problem deleting your treatment.","error")})},getOneSession(e){m.get(`api/appointmenttypes/${e}`).then(t=>{this.formData.title=t.data.appointmentTypes.title,this.id=t.data.appointmentTypes.id}).catch(t=>{console.error("Error fetching session type:",t)})},getAllRoom(){m.get("api/appointmenttypes").then(e=>{this.sessionTypes=e.data.appointmentTypes,this.items=Array.from({length:50},(t,r)=>({id:r+1,name:`Item ${r+1}`})),console.log(this.sessionTypes)})},editItem(e){this.$router.push({name:"EditRoom",params:{id:e}})},handlePageChange(e){this.currentPage=e},openForm(){this.showDialog=!0},closeForm(){this.showDialog=!1,this.formData={title:""}},saveItem(){m.post("/api/appointmenttypes",this.formData).then(e=>{console.log("Item saved successfully"),this.closeForm(),this.getAllRoom(),this.validationErrors={},this.showAlert({type:"success",message:"Item saved successfully."})}).catch(e=>{e.response&&e.response.status===422?this.validationErrors=e.response.data.errors:(console.error("Error saving item:",e),this.showAlert({type:"error",message:"Failed to save item. Please try again."}))})}},mounted(){const e=this.$route.params.id;this.getOneSession(e),this.getAllRoom()}},P=e=>(k("data-v-76eb1896"),e=e(),A(),e),Q={class:"lg:w-[80%] m-auto"},R={class:"mb-1"},B={class:"grid grid-cols-1 gap-8 lg:grid-cols-3 shadow mb-4 p-4"},N={class:"paragraph text-2xl"},O={class:"relative"},U={style:{margin:"auto",border:"2px solid #135C65"},class:"py-2 rounded-full w-[50%] h-[50%]"},z={style:{margin:"auto"},xmlns:"http://www.w3.org/2000/svg",width:"23.391",height:"26.316",viewBox:"0 0 23.391 26.316"},L=P(()=>s("path",{id:"plus",d:"M17.495,19.12V29.354a1.388,1.388,0,0,1-1.3,1.462,1.388,1.388,0,0,1-1.3-1.462V19.12H5.8a1.472,1.472,0,0,1,0-2.924h9.1V5.962A1.388,1.388,0,0,1,16.2,4.5a1.388,1.388,0,0,1,1.3,1.462V16.2h9.1a1.472,1.472,0,0,1,0,2.924Z",transform:"translate(-4.5 -4.5)",fill:"#148a98","fill-rule":"evenodd"},null,-1)),M=[L],j={class:"m-auto cursor-pointer text-xl w-full"},q={class:"flex justify-between hover:bg-[#dbebf5] rounded-md py-8 my-2 bg-[#F8F8F8]"},G={class:"m-auto flex w-[50%]"},H={class:"px-3"},X={class:"text-lg font-bold"},Y={class:"font-bold text-[#135C65]"},Z={class:"m-auto"};function J(e,t,r,u,n,d){const f=b("InputText");return p(),c("div",Q,[a($,{modelValue:n.showDialog,"onUpdate:modelValue":t[1]||(t[1]=o=>n.showDialog=o),class:"form-adds","max-width":"600"},{default:l(()=>[a(x,{class:"form-all",style:{"border-radius":"15px"}},{default:l(()=>[a(T,null,{default:l(()=>[s("h2",R,i(e.$t("AppointmentType")),1)]),_:1}),a(f,{class:"w-[90%] m-auto",type:"text",modelValue:n.formData.title,"onUpdate:modelValue":t[0]||(t[0]=o=>n.formData.title=o),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),a(I,null,{default:l(()=>[a(y,{onClick:d.saveItem,class:"submit-button",elevation:"2"},{default:l(()=>[h(i(e.$t("submit")),1)]),_:1},8,["onClick"]),a(y,{onClick:d.closeForm,class:"",elevation:"2"},{default:l(()=>[h(i(e.$t("Cancel")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",B,[s("div",N,[s("h2",null,i(e.$t("roomnumber")),1),s("p",null,i(e.$t("RoomAc")),1)]),s("div",O,[s("i",{class:"pi pi-search absolute top-[20%] right-[5%] font-bold cursor-pointer",onClick:t[2]||(t[2]=o=>e.performSearch())}),a(f,{style:{"text-align":"center"},class:"lg:w-full",modelValue:n.searchQuery,"onUpdate:modelValue":t[3]||(t[3]=o=>n.searchQuery=o),placeholder:"Search"},null,8,["modelValue"])]),s("div",{onClick:t[4]||(t[4]=o=>d.openForm()),class:"m-auto"},[s("div",U,[(p(),c("svg",z,M))]),s("p",j,i(e.$t("addRoom")),1)])]),(p(!0),c(C,null,D(d.roomssearchQuery,o=>{var g;return p(),c("div",q,[s("div",G,[s("div",H,[s("p",X,i(o.title),1),s("div",null,[s("p",Y,i((g=o.treatment_type)==null?void 0:g.title),1)])])]),s("div",Z,[a(_,{small:"",color:"error",onClick:w=>d.deleteItem(o.id)},{default:l(()=>[h("mdi-delete")]),_:2},1032,["onClick"]),a(_,{small:"",color:"primary",class:"mr-2",onClick:w=>d.editItem(o.id)},{default:l(()=>[h("mdi-pencil")]),_:2},1032,["onClick"])])])}),256))])}const ae=V(E,[["render",J],["__scopeId","data-v-76eb1896"]]);export{ae as default};
