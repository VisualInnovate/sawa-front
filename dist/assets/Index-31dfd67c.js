import{a9 as A,aa as E,S as n,ab as q,a2 as z,ac as O,l as d,o as k,e as $,h as a,n as t,w as o,t as r,i as p,p as G,q as x}from"./main-ef824eef.js";const H={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},J={class:"col-12"},K={class:"my-2"},Q={style:{},class:"shadow-xl"},W={class:"flex w-full justify-between align-items-center"},X={class:"m-0 my-auto"},Y={class:"block mt-2 md:mt-0 p-input-icon-left"},Z=a("i",{class:"pi pi-search"},null,-1),ee={class:"flex align-items-center justify-content-center"},te=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),le={key:0},se={__name:"Index",setup(ae){const T=A(),m=E(),_=n(!0),f=n({});n("");const v=n(null);n(!1);const c=n(!1),b=n(""),g=n(null),y=n(null),h=n({});q(()=>{L()});const w=()=>{console.log(m.currentRoute._rawValue.fullPath),x.get("/api/child").then(e=>{_.value=!1,v.value=e.data.children,console.log(v.value)})};z(()=>{w()});const V=e=>{m.push({name:"EditChildren",params:{id:e}})},D=e=>{m.push({name:"ShowChildren",params:{id:e}})},P=()=>{m.push({name:"CreateChildren"})},S=e=>{console.log(e),c.value=!0,b.value=e},N=()=>{x.delete(`/api/child/${b.value}/delete`).then(e=>{console.log(e.data),c.value=!1,w(),T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},B=()=>{y.value.exportCSV()},L=()=>{h.value={global:{value:null,matchMode:O.CONTAINS}}};return(e,s)=>{const i=d("Button"),j=d("Toolbar"),I=d("Toast"),M=d("InputText"),u=d("Column"),R=d("DataTable"),F=d("Dialog"),U=d("va-card");return k(),$("div",H,[a("div",J,[t(U,{class:"card"},{default:o(()=>[t(j,{class:"mb-4 shadow-md"},{start:o(()=>[a("div",K,[t(i,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:P},null,8,["label"])])]),end:o(()=>[t(i,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:s[0]||(s[0]=l=>B(l))},null,8,["label"])]),_:1}),t(I),a("div",Q,[t(R,{ref_key:"dt",ref:y,selection:g.value,"onUpdate:selection":s[2]||(s[2]=l=>g.value=l),value:v.value,loading:_.value,"data-key":"id",paginator:!0,rows:10,filters:h.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:o(()=>[a("div",W,[a("h5",X,r(e.$t("children")),1),a("div",null,[a("span",Y,[Z,t(M,{modelValue:h.value.global.value,"onUpdate:modelValue":s[1]||(s[1]=l=>h.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:o(()=>[t(u,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(u,{field:"id",header:e.$t("index"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:o(l=>[p(r(l.data.id),1)]),_:1},8,["header"]),t(u,{field:"name",header:e.$t("child_name"),sortable:!0,"header-style":"width:17%; min-width:10rem;",class:"ltr:text-justify"},{body:o(l=>[p(r(l.data.name),1)]),_:1},8,["header"]),t(u,{field:"birth_date",header:e.$t("birth_date"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:o(l=>[p(r(l.data.birth_date),1)]),_:1},8,["header"]),t(u,{"header-style":"min-width:10rem;"},{body:o(l=>[a("div",null,[t(i,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:C=>V(l.data.id)},null,8,["onClick"]),t(i,{icon:"pi pi-eye",class:"details mt-2",onClick:C=>D(l.data.id)},null,8,["onClick"]),t(i,{icon:"pi pi-trash",class:"delete mt-2",onClick:C=>S(l.data.id)},null,8,["onClick"]),t(i,{icon:"pi pi-user",class:"show mt-2"})])]),_:1})]),_:1},8,["selection","value","loading","filters"]),t(F,{visible:c.value,"onUpdate:visible":s[4]||(s[4]=l=>c.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:o(()=>[t(i,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[3]||(s[3]=l=>c.value=!1)},null,8,["label"]),t(i,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:N},null,8,["label"])]),default:o(()=>[a("div",ee,[te,f.value?(k(),$("span",le,[p(r(e.$t("remove_item"))+" ",1),a("b",null,r(f.value.first_name),1),p("?")])):G("",!0)])]),_:1},8,["visible","header"])])]),_:1})])])}}};export{se as default};
