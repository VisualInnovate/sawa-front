import{aa as X,ab as Y,T as o,ac as Z,a3 as ee,ad as le,r as d,ae as te,o as p,d as b,e as a,f as t,w as n,i as S,x as se,t as i,h as k,g as w,c as y}from"./main-cabb131e.js";import{L as ae}from"./LeavesNave-fc5f1827.js";const oe={class:"grid",style:{"overflow-x":"scroll"}},ie={class:"col-12"},ne={style:{},class:"shadow-xl"},ue={class:"flex w-full justify-between align-items-center"},de={class:"m-0 my-auto"},re={class:"block mt-2 md:mt-0 p-input-icon-left"},ce=a("i",{class:"pi pi-search"},null,-1),ve={class:"flex align-items-center justify-content-center"},me=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),pe={key:0},fe={class:"flex flex-column gap-2"},he={class:"w-full text-right",for:"username"},be={key:0,class:"mt-1 mb-5 text-red-500"},ye={class:"flex flex-column gap-2"},_e={for:"username"},ge={key:0,class:"mt-1 mb-5 text-red-500"},ke={class:"w-full text-center"},we={class:"flex flex-column gap-2"},$e={class:"w-full text-right",for:"username"},Ve={key:0,class:"mt-1 mb-5 text-red-500"},xe={class:"flex flex-column gap-2"},Ce={for:"username"},De={key:0,class:"mt-1 mb-5 text-red-500"},Ne={class:"w-full text-center"},Pe={__name:"index",setup(Se){const T=X();Y();const U=o([]),L=o(!0),B=o({}),u=o(""),$=o(null);o(!1);const _=o(!1),V=o(""),M=o(null),q=o(null),x=o({}),f=o(!1),C=o({}),r=o({}),h=o(!1);Z(()=>{H()});const R=()=>{y.post("/api/users").then(e=>{U.value=e.data.users.data})},D=()=>{y.get("/api/leaves").then(e=>{L.value=!1,$.value=e.data.data,console.log($.value)})};ee(()=>{D(),R()});const F=e=>{y.get(`/api/mileston-levels/${e}`).then(s=>{L.value=!1,C.value=s.data.data,console.log($.value)}),V.value=e,h.value=!h.value},A=()=>{y.post(`/api/mileston-levels/${V.value}`,r.value).then(e=>{console.log(e.data),D(),h.value=!h.value,T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),C.value=o({})}).catch(e=>{u.value=e.response.data.errors})},z=()=>{f.value=!f.value},E=e=>{console.log(e),_.value=!0,V.value=e},O=()=>{y.post("/api/leave-setup",r.value).then(e=>{console.log(e.data),D(),f.value=!f.value,T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),skill.value=o({})}).catch(e=>{u.value=e.response.data.errors})},G=()=>{y.delete(`/api/leave-setup/${V.value}`).then(e=>{console.log(e.data),_.value=!1,D(),T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},H=()=>{x.value={global:{value:null,matchMode:le.CONTAINS}}};return(e,s)=>{const J=d("Toast"),c=d("Button"),j=d("InputText"),g=d("Column"),K=d("DataTable"),P=d("Dialog"),Q=d("MultiSelect"),I=d("InputNumber"),W=d("va-card"),N=te("can");return p(),b("div",oe,[a("div",ie,[t(W,{class:"card"},{default:n(()=>[t(ae),t(J),a("div",ne,[S((p(),se(K,{ref_key:"dt",ref:q,selection:M.value,"onUpdate:selection":s[1]||(s[1]=l=>M.value=l),value:$.value,loading:L.value,"data-key":"id",paginator:!0,rows:10,filters:x.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:n(()=>[a("div",ue,[S(t(c,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:z},null,8,["label"]),[[N,"skills create"]]),a("h5",de,i(e.$t("levels")),1),a("div",null,[a("span",re,[ce,t(j,{modelValue:x.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=l=>x.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:n(()=>[t(g,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(g,{field:"type",header:e.$t("type"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:n(l=>[k(i(l.data.type),1)]),_:1},8,["header"]),t(g,{field:"title",header:e.$t("title"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:n(l=>[k(i(l.data.title),1)]),_:1},8,["header"]),t(g,{field:"days",header:e.$t("days"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:n(l=>[k(i(l.data.days),1)]),_:1},8,["header"]),t(g,{"header-style":"min-width:10rem;"},{body:n(l=>[a("div",null,[S(t(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:v=>F(l.data.id)},null,8,["onClick"]),[[N,"skills edit"]]),S(t(c,{icon:"pi pi-trash",class:"delete mt-2",onClick:v=>E(l.data.id)},null,8,["onClick"]),[[N,"skills delete"]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[N,"skills list"]]),t(P,{visible:_.value,"onUpdate:visible":s[3]||(s[3]=l=>_.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:n(()=>[t(c,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[2]||(s[2]=l=>_.value=!1)},null,8,["label"]),t(c,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:G},null,8,["label"])]),default:n(()=>[a("div",ve,[me,B.value?(p(),b("span",pe,[k(i(e.$t("remove_item"))+" ",1),a("b",null,i(B.value.first_name),1),k("?")])):w("",!0)])]),_:1},8,["visible","header"]),t(P,{visible:f.value,"onUpdate:visible":s[6]||(s[6]=l=>f.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l,v;return[a("div",fe,[a("label",he,i(e.$t("users")),1),t(Q,{modelValue:r.value.users_ids,"onUpdate:modelValue":s[4]||(s[4]=m=>r.value.users_ids=m),required:"",id:"pv_id_1",style:{direction:"ltr !important"},"option-value":"id",filter:"",options:U.value,optionLabel:"name",placeholder:e.$t("users"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(l=u.value)!=null&&l.name?(p(),b("div",be,i(u.value.name[0]),1)):w("",!0)]),a("div",ye,[a("label",_e,i(e.$t("days")),1),t(I,{required:"",class:"bg-[#f7f5f5]",modelValue:r.value.days,"onUpdate:modelValue":s[5]||(s[5]=m=>r.value.days=m),placeholder:e.$t("days")},null,8,["modelValue","placeholder"]),(v=u.value)!=null&&v.days?(p(),b("div",ge,i(u.value.days[0]),1)):w("",!0)]),a("div",ke,[t(c,{onClick:O,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),t(P,{visible:h.value,"onUpdate:visible":s[9]||(s[9]=l=>h.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l,v;return[a("div",we,[a("label",$e,i(e.$t("title")),1),t(j,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:C.value.title,"onUpdate:modelValue":s[7]||(s[7]=m=>C.value.title=m),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(l=u.value)!=null&&l.title?(p(),b("div",Ve,i(u.value.name[0]),1)):w("",!0)]),a("div",xe,[a("label",Ce,i(e.$t("days")),1),t(I,{required:"",class:"bg-[#f7f5f5]",modelValue:r.value.days,"onUpdate:modelValue":s[8]||(s[8]=m=>r.value.days=m),placeholder:e.$t("days")},null,8,["modelValue","placeholder"]),(v=u.value)!=null&&v.days?(p(),b("div",De,i(u.value.days[0]),1)):w("",!0)]),a("div",Ne,[t(c,{onClick:A,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{Pe as default};
