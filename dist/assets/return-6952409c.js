import{_ as N,c as C,D as U,r as y,o as l,d as o,f as n,w as B,e,t as r,g as c,F as v,z as b,X as S,x as E,Q as L,R as M}from"./main-7c621f7f.js";import{S as P}from"./Stimulu-40547b5c.js";const T={components:{Stimulu:P},data(){return{error:{},count:2,pair:{result:[],values:[]},namesToCheck:[],result:{},childs:[],charset:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",stimulus:[],items:[{name:"A",value:" "},{name:"B",value:" "}],arr:["A","B"],pairs:[]}},methods:{getdatafilter(s){this.namesToCheck.push(s),this.missingNames()},missingNames(){this.stimulus=this.stimulus.filter(s=>!this.namesToCheck.includes(s.id))},deletearray(){this.items.length>2&&(this.items.length--,this.arr.length--,this.count--,this.generatePairs())},addarray(){this.items.push({name:`${this.charset[this.count]}`,value:" "}),this.arr.push(this.charset[this.count]),this.generatePairs(),this.count++},getanswer(s,a){console.log(a),this.pair.result[s]=a,console.log(this.items)},getchilde(){C.get("api/child").then(s=>{this.childs=s.data.children}),C.get("api/stimulus").then(s=>{this.stimulus=s.data.data})},createevalation(){this.pair.date=U(this.pair.date).format("Y-MM-DD"),this.pair.specialist_id=localStorage.getItem("user_id"),this.pair.type=1,this.pair.values=this.items,C.post("api/stimulus-test",this.pair).then(s=>{console.log(s.data.data),this.result=s.data.data}).catch(s=>{this.error=s.response.data.errors})},generatePairs(){const s=a=>{let k=[];for(let h=0;h<a.length;h++)for(let t=h+1;t<a.length;t++)k.push([a[h],a[t]]);return k};this.pairs=s(this.arr)}},mounted(){this.getchilde()}},u=s=>(L("data-v-f3ad36a0"),s=s(),M(),s),A={class:"m-auto"},F={class:"flex flex-column gap-2"},Q={for:"username"},R={key:0,class:"mt-1 mb-5 text-red-500"},X={class:"flex flex-column gap-2"},Y={for:"username"},j={key:0,class:"mt-1 mb-5 text-red-500"},q={class:"lg:col-span-2 m-auto"},z={class:"flex"},G={class:"flex border-b-2 border-black"},H={class:"my-auto w-16"},J={key:0,class:"mt-1 mb-5 w-full text-center text-red-500"},K={class:"overflow-x-auto"},O={class:"min-w-3xl text-sm text-left m-auto rtl:text-right text-gray-500 dark:text-gray-400"},W=u(()=>e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," الرقم "),e("th",{scope:"col",class:"px-6 py-3"}," العنصر المختار ")])],-1)),Z={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},$={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ee={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},te={class:"flex"},se=["onChange","name","value"],le=u(()=>e("span",null,null,-1)),oe={key:0,class:"mt-1 mb-5 w-full text-center text-red-500"},re=u(()=>e("div",null,null,-1)),ae={class:"flex py-2"},ie=u(()=>e("h2",{class:"font-bold px-1"},"highest preferred :",-1)),ne={key:0},de=u(()=>e("span",null,null,-1)),ce={key:1},ue={class:"flex py-2"},he=u(()=>e("h2",{class:"font-bold px-1"},"moderately preferred :",-1)),pe={class:"flex py-2"},_e=u(()=>e("h2",{class:"font-bold px-1"},"lowest preferred :",-1));function me(s,a,k,h,t,x){const D=y("Stimulu"),V=y("Dropdown"),I=y("Calendar"),w=y("Button");return l(),o(v,null,[n(D),n(S,{class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},{default:B(()=>{var p,_,m,g;return[e("div",A,[e("div",F,[e("label",Q,r(s.$t("child_name")),1),n(V,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:t.pair.child_id,"onUpdate:modelValue":a[0]||(a[0]=i=>t.pair.child_id=i),"option-value":"id",options:t.childs,optionLabel:"name",placeholder:s.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(p=t.error)!=null&&p.child_id?(l(),o("div",R,r(t.error.child_id[0]),1)):c("",!0)]),e("div",X,[e("label",Y,r(s.$t("Evaluation_date")),1),n(I,{style:{width:"100%"},showButtonBar:"",modelValue:t.pair.date,"onUpdate:modelValue":a[1]||(a[1]=i=>t.pair.date=i),modelModifiers:{number:!0},showIcon:"",placeholder:s.$t("Evaluation_date")},null,8,["modelValue","placeholder"]),(_=t.error)!=null&&_.date?(l(),o("div",j,r(t.error.date[0]),1)):c("",!0)])]),e("div",q,[e("div",z,[n(w,{disabled:t.count<=2,onClick:x.deletearray,class:"delete m-auto",icon:"pi pi-minus",label:"ازالة عنصر"},null,8,["disabled","onClick"]),n(w,{onClick:x.addarray,class:"create m-auto",icon:"pi pi-plus",label:"اضافة عنصر"},null,8,["onClick"])]),(l(!0),o(v,null,b(t.items,(i,d)=>(l(),o("div",G,[n(V,{modelValue:t.items[d].value,"onUpdate:modelValue":f=>t.items[d].value=f,class:"hover:ring-0 w-52","option-value":"id",options:t.stimulus,optionLabel:"name",placeholder:" select  "+i.name},null,8,["modelValue","onUpdate:modelValue","options","placeholder"]),e("p",H," item : "+r(i.name),1)]))),256)),(m=t.error)!=null&&m.result?(l(),o("div",J,r(t.error.result[0]),1)):c("",!0)]),e("div",K,[e("table",O,[W,e("tbody",null,[e("tr",Z,[e("th",$,[(l(!0),o(v,null,b(t.arr,(i,d)=>(l(),o("div",null,r(d+1),1))),256))]),e("th",ee,[(l(!0),o(v,null,b(t.arr.length,(i,d)=>(l(),o("span",null,[e("div",te,[(l(!0),o(v,null,b(t.arr,(f,ge)=>(l(),o("span",null,[e("span",null,r(f),1),e("input",{onChange:fe=>x.getanswer(d,f),style:{border:"1px solid black"},class:"mx-2",type:"radio",name:d,value:f[1]},null,40,se)]))),256)),le])]))),256))])]),(g=t.error)!=null&&g.result?(l(),o("div",oe,r(t.error.result[0]),1)):c("",!0)])])]),re,e("div",null,[n(w,{onClick:x.createevalation,class:"col-span-2 mb-2 create m-auto w-full",label:s.$t("submit")},null,8,["onClick","label"])])]}),_:1}),t.result?(l(),E(S,{key:0,class:"my-[2%] py-[2%]"},{default:B(()=>{var p,_,m,g;return[e("div",ae,[ie,(p=t.result)!=null&&p.highest_preferred?(l(),o("span",ne,"letter: "+r((_=t.result)==null?void 0:_.highest_preferred[0].letter),1)):c("",!0),de,(m=t.result)!=null&&m.highest_preferred?(l(),o("span",ce," percentage "+r((g=t.result)==null?void 0:g.highest_preferred[0].percentage),1)):c("",!0)]),e("div",ue,[he,e("p",null,r(t.result.moderately_preferred),1)]),e("div",pe,[_e,e("p",null,r(t.result.lowest_preferred),1)])]}),_:1})):c("",!0)],64)}const ye=N(T,[["render",me],["__scopeId","data-v-f3ad36a0"]]);export{ye as default};
