import{m as M,q as o,l as F,av as I,a2 as E,r as c,o as p,L as N,g as j,e as t,w as R,d as m,n as d,t as i,f as u,j as f,a7 as W,c as g}from"./main-df225a0a.js";import"./Users-4cfb7c59.js";const q=["onSubmit"],z={class:""},A=["src"],J={class:"grid grid-cols- gap-4 lg:grid-cols-2"},O={class:"flex flex-column gap-2 py-1"},G={class:"w-full",for:"username"},H={class:"flex flex-column gap-2 py-1"},K={class:"w-full t",for:"username"},P={key:0,class:"flex flex-column gap-2"},Q={class:"w-full",for:"username"},X={key:1,class:"flex flex-column gap-2"},Y={class:"w-full",for:"username"},Z={key:2,class:"flex flex-column gap-2"},ee={class:"w-full",for:"username"},le={class:"flex flex-column gap-2 py-1"},ae={class:"w-full",for:"username"},te={class:"flex flex-column gap-2 py-1"},se={class:"w-full",for:"username"},oe={class:"flex flex-column gap-2 py-1"},ne={class:"w-full",for:"username"},ie={class:"flex flex-column gap-2 py-1"},ue={class:"w-full",for:"username"},de={key:0,class:"mt-1 mb-5 text-red-500"},re={class:"flex-column gap-2 py-1 hidden"},pe={class:"w-full",for:"username"},me={key:0,class:"mt-1 mb-5 text-red-500"},ye={__name:"Create",setup(ve){const _=M(),e=o({}),{t:v}=F(),n=o(!1),b=o([]),V=o([]);o([]);const w=o([]),h=o([]);o(""),o(""),o(""),o(""),o([{name:"side profile",id:1},{name:"milestone",id:2},{name:"barrier",id:3},{name:"ablls",id:4},{name:"carolina",id:5}]);const S=o([{name:"Sunday",value:"Sunday"},{name:"Monday",value:"Monday"},{name:"Tuesday",value:"Tuesday"},{name:"Thursday",value:"Thursday"},{name:"Wednesday",value:"Wednesday"},{name:"Friday",value:"Friday"},{name:"Saturday",value:"Saturday"}]),U=l=>{const a=l.target.files[0],r=new FileReader;r.readAsDataURL(a),r.onload=y=>{e.value.image=y.target.result,e.value.file=a,console.log(this.imageSrc)}},C=()=>{const l=new FormData;console.log(e.value.name),l.append("name",e.value.name),l.append("email",e.value.email),l.append("title",e.value.title),l.append("password",e.value.password),e.value.file&&l.append("image",e.value.file),l.append("role",e.value.role),l.append("business_hours",JSON.stringify(h.value)),e.value.spotter&&l.append("spotter",e.value.spotter),e.value.skills&&l.append("skills",e.value.skills),e.value.department&&l.append("department_id",e.value.department),l.append("type",e.value.type),g.post("/api/users/create").then(a=>{_.add({severity:"success",summary:v("success_message"),detail:`${v("element_add_success")}`,life:3e3})}).catch(a=>{console.log(a),_.add({severity:"error",summary:v("error"),detail:`${a.response.data.message}`,life:3e3})})};I(()=>S.value.filter(l=>!h.value.some(a=>a.day===l.value)));const T=()=>[{name:v("driver"),id:1},{name:v("doctor"),id:2},{name:v("Evaluator"),id:5}],B=()=>{g.post("/api/roles").then(l=>{b.value=l.data.roles.data}),g.get("/api/skills").then(l=>{w.value=l.data.data}),g.get("/api/department").then(l=>{V.value=l.data.data})};return E(async()=>{B()}),(l,a)=>{const r=c("InputText"),y=c("Dropdown"),x=c("MultiSelect"),D=c("Button"),L=c("Toast");return p(),N(W,{class:"mx-auto pa-12 pb-8 bg-slate-50",elevation:"8"},{default:j(()=>{var k,$;return[t("form",{onSubmit:R(C,["prevent"])},[t("div",z,[t("div",null,[e.value.image?(p(),m("img",{key:0,onclick:"document.getElementById('filr').click()",class:d(["m-auto rounded-full",{"p-invalid":n.value&&!e.value.image}]),style:{width:"150px",height:"150px"},src:e.value.image},null,10,A)):(p(),m("img",{key:1,onclick:"document.getElementById('filr').click()",class:d(["m-auto rounded-full",{"p-invalid":n.value&&!e.value.image}]),style:{width:"150px",height:"150px"},src:"https://sys.sawa.sawa.academy/public/default.jpg"},null,2))])]),t("div",J,[t("div",O,[t("label",G,i(l.$t("name")),1),u(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":n.value&&!e.value.name}]),modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value.name=s)},null,8,["modelValue","class"])]),t("div",H,[t("label",K,i(l.$t("type")),1),u(y,{id:"pv_id_1",style:{direction:"ltr !important","text-align":"center !important"},modelValue:e.value.type,"onUpdate:modelValue":a[1]||(a[1]=s=>e.value.type=s),"option-value":"id",filter:"",options:T(),optionLabel:"name",class:d({"p-invalid":n.value&&!e.value.name})},null,8,["modelValue","options","class"])]),e.value.type==0||e.value.type==2?(p(),m("div",P,[t("label",Q,i(l.$t("skill_name")),1),u(x,{modelValue:e.value.skills,"onUpdate:modelValue":a[2]||(a[2]=s=>e.value.skills=s),filter:"","option-value":"id",options:w.value,optionLabel:"name",class:d({"p-invalid":n.value&&!e.value.skills})},null,8,["modelValue","options","class"])])):f("",!0),e.value.type==0||e.value.type==2?(p(),m("div",X,[t("label",Y,i(l.$t("department")),1),u(x,{modelValue:e.value.department,"onUpdate:modelValue":a[3]||(a[3]=s=>e.value.department=s),filter:"","option-value":"id",options:V.value,optionLabel:"title",class:d({"p-invalid":n.value&&!e.value.department})},null,8,["modelValue","options","class"])])):f("",!0),e.value.type==0||e.value.type==2?(p(),m("div",Z,[t("label",ee,i(l.$t("Spotter")),1),u(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":n.value&&!e.value.spotter}]),modelValue:e.value.spotter,"onUpdate:modelValue":a[4]||(a[4]=s=>e.value.spotter=s)},null,8,["modelValue","class"])])):f("",!0),t("div",le,[t("label",ae,i(l.$t("email")),1),u(r,{type:"email",class:d(["bg-[#f7f5f5] text-center",{"p-invalid":n.value&&!e.value.email}]),modelValue:e.value.email,"onUpdate:modelValue":a[5]||(a[5]=s=>e.value.email=s)},null,8,["modelValue","class"])]),t("div",te,[t("label",se,i(l.$t("title")),1),u(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":n.value&&!e.value.title}]),modelValue:e.value.title,"onUpdate:modelValue":a[6]||(a[6]=s=>e.value.title=s)},null,8,["modelValue","class"])]),t("div",oe,[t("label",ne,i(l.$t("password")),1),u(r,{class:d(["bg-[#f7f5f5] text-center",{"p-invalid":n.value&&!e.value.password}]),modelValue:e.value.password,"onUpdate:modelValue":a[7]||(a[7]=s=>e.value.password=s)},null,8,["modelValue","class"])]),t("div",ie,[t("label",ue,i(l.$t("roles")),1),u(y,{id:"pv_id_1",style:{direction:"ltr !important","text-align":"center !important"},modelValue:e.value.role,"onUpdate:modelValue":a[8]||(a[8]=s=>e.value.role=s),"option-value":"id",filter:"",options:b.value,optionLabel:"name",class:d({"p-invalid":n.value&&!e.value.role})},null,8,["modelValue","options","class"]),(k=l.error)!=null&&k.role?(p(),m("div",de,i(l.error.role[0]),1)):f("",!0)]),t("div",re,[t("label",pe,i(l.$t("personal_image")),1),u(r,{name:"file",ref:"file",onChange:U,accept:"image/*",id:"filr",type:"file",class:"w-full"},null,512),($=l.error)!=null&&$.image?(p(),m("div",me,i(l.error.image[0]),1)):f("",!0)])]),u(D,{onClick:a[9]||(a[9]=s=>n.value=!0),type:"submit",class:"mt-4 m-auto create w-full",label:l.$t("submit")},null,8,["label"])],40,q),u(L)]}),_:1})}}};export{ye as default};
