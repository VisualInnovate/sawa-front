import{l as N,m as S,q as l,ac as E,X as T,ad as j,r as h,ae as z,i as A,o as p,d as _,e as a,f as o,g as b,w as I,Y as r,t as m,a as x,n as k,j as V,a0 as L,c as C}from"./main-2f96b6c4.js";import{E as U,P}from"./index-42dcc036.js";const W={class:"grid"},Y={class:"col-12"},Z=a("h2",{class:"text-3xl py-1 font-bold text-center text-[#473e3e]"},"Hr Settings",-1),H=["onSubmit"],J={class:"py-3"},K={class:"m-auto w-full"},O={class:"field mb-5"},Q={for:"last"},X={class:"flex"},G={key:0,class:"p-invalid text-red-600"},R={class:"field mb-5"},ee={for:"last"},te={class:"flex"},ae={key:0,class:"p-invalid text-red-600"},se={class:"flex"},ie={__name:"index",setup(le){const{t:v}=N(),w=S(),n=l({name:"",latitude:"",longitude:"",distance:1e3}),$=l(!0);l("");const e=l({});l({editelong:!0,editelate:!0});const M=l({}),i=l(!1);l(Number),E(()=>{D()});const g=()=>{C.get("api/settings").then(t=>{$.value=!1,e.value=t.data.data[0],n.value.latitude=e.value.company_lat,n.value.longitude=e.value.company_long})};function q(t){const s=t.latLng,c=s.lat(),d=s.lng();e.value.company_long=d,e.value.company_lat=c,console.log("Clicked coordinates:",c,d)}T(()=>{g()});const B=()=>{console.log(e.value),C.put("api/settings",e.value).then(t=>{w.add({severity:"success",summary:v("success_message"),detail:`${v("element_update_success")}`,life:3e3}),g()})},D=()=>{M.value={global:{value:null,matchMode:j.CONTAINS}}};return(t,s)=>{const c=h("Toast"),d=h("Button"),F=z("can");return A((p(),_("div",W,[a("div",Y,[o(L,{class:"card max-w-3xl p-[2%] m-auto bg-slate-50"},{default:b(()=>{var f,y;return[Z,o(c),a("form",{onSubmit:I(B,["prevent"]),class:"grid lg:grid-cols-2 grid-cols-1 gap-4"},[a("div",J,[o(r(U),{"api-key":"AIzaSyDZnJeq94aaneiA3QWUZdWYV9uKDEjxjas",onClick:q,style:{width:"100%",height:"400px"},center:{lat:parseFloat(n.value.latitude),lng:parseFloat(n.value.longitude)},zoom:14},{default:b(()=>[o(r(P),{options:{position:{lat:parseFloat(n.value.latitude),lng:parseFloat(n.value.longitude)}}},null,8,["options"])]),_:1},8,["center"])]),a("div",K,[a("div",O,[a("p",Q,m(t.$t("company_long")),1),a("div",X,[o(r(x),{readonly:"",modelValue:e.value.company_long,"onUpdate:modelValue":s[0]||(s[0]=u=>e.value.company_long=u),class:k(["mt-3 w-full",{"p-invalid":i.value&&!e.value.company_long}]),id:"last",required:"",autofocus:""},null,8,["modelValue","class"])]),i.value&&!((f=e.value)!=null&&f.company_long)?(p(),_("small",G,m(t.$t("company_long")+" "+t.$t("required"))+".",1)):V("",!0)]),a("div",R,[a("p",ee,m(t.$t("company_lat")),1),a("div",te,[o(r(x),{readonly:"",class:k(["mt-3 mx-1 w-full",{"p-invalid":i.value&&!e.value.company_lat}]),modelValue:e.value.company_lat,"onUpdate:modelValue":s[1]||(s[1]=u=>e.value.company_lat=u),required:"true"},null,8,["modelValue","class"])]),i.value&&!((y=e.value)!=null&&y.company_lat)?(p(),_("small",ae,m(t.$t("company_lat")+" "+t.$t("required"))+".",1)):V("",!0)]),a("div",se,[o(d,{onClick:s[2]||(s[2]=u=>i.value=!0),type:"submit",label:t.$t("save"),icon:"pi pi-check",class:"create"},null,8,["label"])])])],40,H)]}),_:1})])])),[[F,"hr settings edit"]])}}};export{ie as default};
