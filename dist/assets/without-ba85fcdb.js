import{_ as X,c as v,D as Y,r as g,o as r,d as o,f as d,w as N,e,t as l,g as u,F as _,z as f,X as M,x as q}from"./main-4a8aff72.js";import{S as z}from"./Stimulu-b82d1876.js";const G={components:{Stimulu:z},data(){return{error:{},count:0,evalate_type:"",stimulus_id:"",countlength:1,originalArray:["A","B","C","D","E"],history:[["A","B","C","D","E"]],stimul:" ",pair:{result:[],values:[]},filterarr:[],result:{},childs:[],charset:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",stimulus:[],items:[],arr:[[]],pairs:[]}},methods:{selectItem(t,i){if(this.pair.result[i]=t,console.log(this.pair.result),i===this.arr.length-1){const a=this.arr[i].filter(h=>h!==t);this.arr.push(a)}},deletearray(){this.items.length>0&&(this.items.length--,this.arr[0].length--,this.count--,this.pusharr(),this.getchilde())},goevalute(){this.evalate_type==1&&this.$router.push({name:"ShowSideProfiles",params:{id:this.stimulus_id}}),this.evalate_type==2&&this.$router.push({name:"milestone-evaluation",params:{id:this.stimulus_id}}),this.evalate_type==3&&this.$router.push({name:"barrier-evaluation",params:{id:this.stimulus_id}}),this.evalate_type==4&&this.$router.push({name:"mission-test",params:{id:this.stimulus_id}}),this.evalate_type==5&&this.$router.push({name:"carolina-test",params:{id:this.stimulus_id}})},addarray(){if(this.stimul!==" "){console.log(this.stimul!==""),this.items.push({name:`${this.charset[this.count]}`,value:`${this.stimul}`}),this.arr[0].push(this.charset[this.count]),this.count++,this.stimul=" ",this.pusharr();const t=this.items.map(i=>i.value);this.stimulus=this.stimulus.filter(i=>!t.includes(i.name))}},getanswer(t,i,a){this.countlength++,this.filterarr[a]=i,console.log(this.items)},getchilde(){v.get("api/child").then(t=>{this.childs=t.data.children,this.pair.child_id=parseInt(localStorage.getItem("child_id"))}),v.get("api/stimulus").then(t=>{this.stimulus=t.data.data;const i=this.items.map(a=>a.value);this.stimulus=this.stimulus.filter(a=>!i.includes(a.name))})},createevalation(){this.pair.date=Y(this.pair.date).format("Y-MM-DD"),this.pair.specialist_id=localStorage.getItem("user_id"),this.pair.type=2,this.pair.values=this.items,v.post("api/stimulus-test",this.pair).then(t=>{console.log(t.data.data),this.result=t.data.data,this.stimulus_id=t.data.data.id}).catch(t=>{this.error=t.response.data.errors})},generatePairs(){const t=i=>{let a=[];for(let h=0;h<i.length;h++)for(let s=h+1;s<i.length;s++)a.push([i[h],i[s]]);return a};this.pairs=t(this.arr)},pusharr(){this.arrays=[];for(let t=0;t<1;t++)this.arrays.push([...this.arr])}},mounted(){this.getchilde(),this.evalate_type=localStorage.getItem("evalate_type")}},H={class:"m-auto bg-slate-50 p-[2%] shadow-md grid grid-cols-1 gap-4 lg:grid-cols-2"},J={class:"flex flex-column gap-2"},K={for:"username"},O={key:0,class:"mt-1 mb-5 text-red-500"},Q={class:"m-auto my-5 bg-slate-50 p-[2%] shadow-md grid grid-cols-1 gap-2 lg:grid-cols-3"},R={class:"bg-white p-2 flex justify-between rounded-sm"},W={class:"flex"},Z={class:"my-auto font-bold"},$={class:"font-bold text-sm my-auto text-green-600",style:{"word-wrap":"unset"}},ee={class:"flex"},te={class:"my-auto font-bold"},se={class:"font-bold my-auto text-green-600"},le={class:"m-auto my-5 bg-slate-50 p-[2%] shadow-md grid grid-cols-1 gap-2 lg:grid-cols-2"},ie={class:"shadow-md bg-[#FFFFFF] rounded-sm p-2 min-h-[250px]"},re={class:"flex justify-between py-2"},oe={class:"flex"},ae={class:"font-bold px-1"},ne={key:0,class:"font-bold text-[green]"},de={class:"flex"},ue={class:"text-xl"},ce={key:0,class:"m-auto text-xl text-[green] font-bold"},he={class:"flex justify-between py-2"},pe={class:"flex"},_e={class:"font-bold px-1"},me={key:0,class:"font-bold text-[green]"},ge={class:"flex"},fe={class:"text-xl"},ye={key:0,class:"m-auto text-xl text-[green] font-bold"},ve={class:"flex justify-between py-2"},be={class:"flex"},xe={class:"font-bold px-1"},we={key:0,class:"font-bold text-[green]"},ke={class:"flex"},Ce={class:"text-xl"},Se={key:0,class:"m-auto text-xl text-[green] font-bold"},Fe={class:"w-full h-full rounded-md shadow-md text-sm text-left m-auto rtl:text-right text-gray-500 dark:text-gray-400"},Ve={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},Be={scope:"col",class:"px-6 py-3"},De={scope:"col",class:"px-6 py-3"},Ie={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},je={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ae={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ee=["disabled","onClick","name","value"],Le={key:0},Ne={key:1},Me={key:0,class:"mt-1 mb-5 w-full text-center text-red-500"};function Pe(t,i,a,h,s,p){const P=g("Stimulu"),b=g("Dropdown"),m=g("Button"),T=g("toast");return r(),o(_,null,[d(P),d(M,{class:"p-[2%]"},{default:N(()=>{var x,w,k,C,S,F,V,B,D,I,j,A,E,L;return[e("div",H,[e("div",J,[e("label",K,l(t.$t("child_name")),1),d(b,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:s.pair.child_id,"onUpdate:modelValue":i[0]||(i[0]=n=>s.pair.child_id=n),disabled:"","option-value":"id",options:s.childs,optionLabel:"name",placeholder:t.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(x=s.error)!=null&&x.child_id?(r(),o("div",O,l(s.error.child_id[0]),1)):u("",!0)])]),e("div",Q,[e("div",null,[d(m,{onClick:p.addarray,class:"create m-auto",icon:"pi pi-plus"},null,8,["onClick"]),d(m,{disabled:s.count<=0,onClick:p.deletearray,class:"delete m-auto",icon:"pi pi-minus"},null,8,["disabled","onClick"]),d(b,{modelValue:s.stimul,"onUpdate:modelValue":i[1]||(i[1]=n=>s.stimul=n),class:"hover:ring-0 w-52 mx-2","option-value":"name",filter:"",options:s.stimulus,optionLabel:"name",placeholder:"select item"},null,8,["modelValue","options"])]),(r(!0),o(_,null,f(s.items,(n,c)=>(r(),o("div",R,[e("div",W,[e("h3",Z,l(t.$t("name"))+" :",1),e("p",$,l(n.value),1)]),e("div",ee,[e("h3",te,l(t.$t("ترتيب المعزز"))+" :",1),e("p",se,l(n.name),1)])]))),256))]),e("div",le,[e("div",ie,[e("div",re,[e("div",oe,[e("h2",ae,l(t.$t("highest_preferred"))+" :",1),(w=s.result)!=null&&w.highest_preferred?(r(),o("span",ne,l((k=s.result)==null?void 0:k.highest_preferred[0].letter),1)):u("",!0)]),e("div",de,[e("h4",ue,l(t.$t("percentage"))+" :",1),(C=s.result)!=null&&C.highest_preferred?(r(),o("span",ce,l((S=s.result)==null?void 0:S.highest_preferred[0].percentage),1)):u("",!0)])]),e("div",he,[e("div",pe,[e("h2",_e,l(t.$t("moderately_preferred"))+" :",1),(F=s.result)!=null&&F.moderately_preferred?(r(),o("span",me,l((V=s.result)==null?void 0:V.moderately_preferred[0].letter),1)):u("",!0)]),e("div",ge,[e("h4",fe,l(t.$t("percentage"))+" :",1),(B=s.result)!=null&&B.moderately_preferred?(r(),o("span",ye,l((D=s.result)==null?void 0:D.moderately_preferred[0].percentage),1)):u("",!0)])]),e("div",ve,[e("div",be,[e("h2",xe,l(t.$t("latest_preferred"))+" :",1),(I=s.result)!=null&&I.lowest_preferred?(r(),o("span",we,l((j=s.result)==null?void 0:j.lowest_preferred[0].letter),1)):u("",!0)]),e("div",ke,[e("h4",Ce,l(t.$t("percentage"))+" :",1),(A=s.result)!=null&&A.lowest_preferred?(r(),o("span",Se,l((E=s.result)==null?void 0:E.lowest_preferred[0].percentage),1)):u("",!0)])]),d(m,{onClick:p.createevalation,class:"mt-4 m-auto create w-full",label:t.$t("submit")},null,8,["onClick","label"])]),e("div",null,[e("table",Fe,[e("thead",Ve,[e("tr",null,[e("th",Be,l(t.$t("index")),1),e("th",De,l(t.$t("Selected_item")),1)])]),e("tbody",null,[e("tr",Ie,[e("th",je,[(r(!0),o(_,null,f(s.arr.length-1,(n,c)=>(r(),o("div",null,l(c+1),1))),256))]),e("th",Ae,[(r(!0),o(_,null,f(s.arr,(n,c)=>(r(),o("div",{key:c},[(r(!0),o(_,null,f(n,(y,U)=>(r(),o("span",{key:U},[e("input",{disabled:c!=s.arr.length-1,onClick:Te=>p.selectItem(y,c),style:{border:"1px solid black"},class:"mx-2",type:"radio",name:c,value:s.pair[0]},null,8,Ee),c===s.arr.length-1?(r(),o("button",Le,l(y),1)):(r(),o("button",Ne,l(y),1))]))),128))]))),128))])]),(L=s.error)!=null&&L.result?(r(),o("div",Me,l(s.error.result[0]),1)):u("",!0)])])]),d(M,{class:"w-full text-center col-span-2"},{default:N(()=>[s.stimulus_id?(r(),q(m,{key:0,icon:"pi pi-arrow-right",onClick:p.goevalute,class:"m-4 m-auto create w-44",label:t.$t("مرحله التقييم")},null,8,["onClick","label"])):u("",!0)]),_:1})]),d(T)]}),_:1})],64)}const Ye=X(G,[["render",Pe],["__scopeId","data-v-ceac4f2f"]]);export{Ye as default};
