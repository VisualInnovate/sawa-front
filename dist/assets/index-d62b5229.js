import{m as J,a1 as K,q as o,aj as Q,a2 as W,ak as X,r as c,al as Y,o as h,d as $,e as a,f as l,g as i,i as C,L as Z,t as u,h as P,j as T,c as p}from"./main-944d9351.js";import{B as ee}from"./Barrier-ea266a3b.js";const te={class:"grid"},le={class:"col-12"},se={style:{},class:"shadow-xl"},ae={class:"flex w-full justify-between align-items-center"},oe={class:"m-0 my-auto"},ie={class:"block mt-2 md:mt-0 p-input-icon-left"},ne=a("i",{class:"pi pi-search"},null,-1),ue={class:"flex align-items-center justify-content-center"},re=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ce={key:0},de={class:"flex flex-column gap-2"},ve={class:"w-full text-right",for:"username"},me={key:0,class:"mt-1 mb-5 text-red-500"},pe={class:"w-full text-center"},fe={class:"flex flex-column gap-2"},be={class:"w-full text-right",for:"username"},he={key:0,class:"mt-1 mb-5 text-red-500"},ge={class:"w-full text-center"},we={__name:"index",setup(_e){const x=J();K();const V=o(!0),N=o({}),d=o(""),g=o(null);o(!1);const f=o(!1),_=o(""),L=o(null),U=o(null),k=o({}),v=o(!1),n=o({}),m=o(!1),j=o([]);Q(()=>{E()});const y=()=>{p.get("/api/barrier-subtest").then(e=>{V.value=!1,g.value=e.data.data,console.log(g.value)})},M=()=>{p.get("/api/mileston-levels").then(e=>{j.value=e.data.data})};W(()=>{y(),M()});const R=e=>{p.get(`/api/barrier-subtest/${e}`).then(s=>{V.value=!1,n.value=s.data.data,console.log(g.value)}),_.value=e,m.value=!m.value},q=()=>{p.post(`/api/barrier-subtest/${_.value}`,n.value).then(e=>{console.log(e.data),y(),m.value=!m.value,x.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),n.value=o({})}).catch(e=>{d.value=e.response.data.errors})},F=()=>{v.value=!v.value},I=e=>{console.log(e),f.value=!0,_.value=e},A=()=>{p.post("/api/barrier-subtest",n.value).then(e=>{console.log(e.data),y(),v.value=!v.value,x.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),skill.value=o({})}).catch(e=>{d.value=e.response.data.errors})},z=()=>{p.delete(`/api/barrier-subtest/${_.value}`).then(e=>{console.log(e.data),f.value=!1,y(),x.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},E=()=>{k.value={global:{value:null,matchMode:X.CONTAINS}}};return(e,s)=>{const O=c("Toast"),r=c("Button"),D=c("InputText"),S=c("Column"),G=c("DataTable"),B=c("Dialog"),H=c("va-card"),w=Y("can");return h(),$("div",te,[a("div",le,[l(H,{class:"card"},{default:i(()=>[l(ee),l(O),a("div",se,[C((h(),Z(G,{ref_key:"dt",ref:U,selection:L.value,"onUpdate:selection":s[1]||(s[1]=t=>L.value=t),value:g.value,loading:V.value,"data-key":"id",paginator:!0,rows:10,filters:k.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:i(()=>[a("div",ae,[C(l(r,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:F},null,8,["label"]),[[w,"skills create"]]),a("h5",oe,u(e.$t("Subtest")),1),a("div",null,[a("span",ie,[ne,l(D,{modelValue:k.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=t=>k.value.global.value=t),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:i(()=>[l(S,{"selection-mode":"multiple","header-style":"width: 3rem"}),l(S,{field:"name",header:e.$t("name"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:i(t=>[P(u(t.data.title),1)]),_:1},8,["header"]),l(S,{"header-style":"min-width:10rem;"},{body:i(t=>[a("div",null,[C(l(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:b=>R(t.data.id)},null,8,["onClick"]),[[w,"skills edit"]]),C(l(r,{icon:"pi pi-trash",class:"delete mt-2",onClick:b=>I(t.data.id)},null,8,["onClick"]),[[w,"skills delete"]])])]),_:1})]),_:1},8,["selection","value","loading","filters"])),[[w,"skills list"]]),l(B,{visible:f.value,"onUpdate:visible":s[3]||(s[3]=t=>f.value=t),style:{width:"550px"},header:e.$t("submit"),modal:!0},{footer:i(()=>[l(r,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[2]||(s[2]=t=>f.value=!1)},null,8,["label"]),l(r,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:z},null,8,["label"])]),default:i(()=>[a("div",ue,[re,N.value?(h(),$("span",ce,[P(u(e.$t("remove_item"))+" ",1),a("b",null,u(N.value.first_name),1),P("?")])):T("",!0)])]),_:1},8,["visible","header"]),l(B,{visible:v.value,"onUpdate:visible":s[5]||(s[5]=t=>v.value=t),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:i(()=>{var t;return[a("div",de,[a("label",ve,u(e.$t("title")),1),l(D,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:n.value.title,"onUpdate:modelValue":s[4]||(s[4]=b=>n.value.title=b),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(t=d.value)!=null&&t.title?(h(),$("div",me,u(d.value.title[0]),1)):T("",!0)]),a("div",pe,[l(r,{onClick:A,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),l(B,{visible:m.value,"onUpdate:visible":s[7]||(s[7]=t=>m.value=t),style:{width:"550px"},header:e.$t("submit"),modal:!0},{default:i(()=>{var t;return[a("div",fe,[a("label",be,u(e.$t("title")),1),l(D,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:n.value.title,"onUpdate:modelValue":s[6]||(s[6]=b=>n.value.title=b),placeholder:e.$t("title")},null,8,["modelValue","placeholder"]),(t=d.value)!=null&&t.title?(h(),$("div",he,u(d.value.title[0]),1)):T("",!0)]),a("div",ge,[l(r,{onClick:q,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{we as default};
