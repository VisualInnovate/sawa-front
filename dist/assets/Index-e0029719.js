import{a8 as A,a9 as E,S as o,aa as O,a1 as G,ab as H,l as u,o as _,e as g,h as a,x as t,y as n,t as i,i as y,q as P,z as k}from"./main-e2500f66.js";const J={class:"grid"},K={class:"col-12"},Q=a("div",{class:"my-2"},null,-1),W={style:{},class:"shadow-xl"},X={class:"flex w-full justify-between align-items-center"},Y={class:"m-0 my-auto"},Z={class:"block mt-2 md:mt-0 p-input-icon-left"},ee=a("i",{class:"pi pi-search"},null,-1),le={class:"flex align-items-center justify-content-center"},te=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),se={key:0},ae={class:"flex flex-column gap-2"},oe={class:"w-full text-right",for:"username"},ne={key:0,class:"mt-1 mb-5 text-red-500"},ie={class:"w-full text-center"},de={class:"flex flex-column gap-2"},ue={class:"w-full text-right",for:"username"},re={key:0,class:"mt-1 mb-5 text-red-500"},ce={class:"w-full text-center"},ve={__name:"Index",setup(me){const w=A();E();const S=o(!0),T=o({}),r=o(""),x=o(null);o(!1);const m=o(!1),D=o(""),N=o(null),U=o(null),p=o({}),v=o(!1),d=o({}),f=o(!1);O(()=>{I()});const h=()=>{k.post("/api/permissions").then(e=>{S.value=!1,x.value=e.data.permissions,console.log(x.value)})};G(()=>{h()});const B=()=>{k.put(`/api/skills/${D.value}`,d.value).then(e=>{console.log(e.data),h(),f.value=!f.value,w.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3}),d.value=o({})}).catch(e=>{r.value=e.response.data.errors})},L=()=>{k.post("/api/skills",d.value).then(e=>{console.log(e.data),h(),v.value=!v.value,w.add({severity:"success",summary:"Successful",detail:"price Created",life:3e3}),d.value=o({})}).catch(e=>{r.value=e.response.data.errors})},M=()=>{k.delete(`/api/skills/${D.value}`).then(e=>{console.log(e.data),m.value=!1,h(),w.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},j=()=>{U.value.exportCSV()},I=()=>{p.value={global:{value:null,matchMode:H.CONTAINS}}};return(e,s)=>{const c=u("Button"),R=u("Toolbar"),q=u("Toast"),$=u("InputText"),b=u("Column"),F=u("DataTable"),C=u("Dialog"),z=u("va-card");return _(),g("div",J,[a("div",K,[t(z,{class:"card"},{default:n(()=>[t(R,{class:"mb-4 shadow-md"},{start:n(()=>[Q]),end:n(()=>[t(c,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:s[0]||(s[0]=l=>j(l))},null,8,["label"])]),_:1}),t(q),a("div",W,[t(F,{ref_key:"dt",ref:U,selection:N.value,"onUpdate:selection":s[2]||(s[2]=l=>N.value=l),value:x.value,loading:S.value,"data-key":"id",paginator:!0,rows:10,filters:p.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:n(()=>[a("div",X,[a("h5",Y,i(e.$t("permissions")),1),a("div",null,[a("span",Z,[ee,t($,{modelValue:p.value.global.value,"onUpdate:modelValue":s[1]||(s[1]=l=>p.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:n(()=>[t(b,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(b,{field:"index",header:e.$t("index"),sortable:!0,"header-style":"width:14%; min-width:15rem;",class:"ltr:text-justify"},{body:n(l=>[y(i(l.data.id),1)]),_:1},8,["header"]),t(b,{field:"name",header:e.$t("name"),sortable:!0,"header-style":"width:14%; min-width:15rem;",class:"ltr:text-justify"},{body:n(l=>[y(i(l.data.name),1)]),_:1},8,["header"]),t(b,{"header-style":"min-width:10rem;"},{body:n(l=>[]),_:1})]),_:1},8,["selection","value","loading","filters"]),t(C,{visible:m.value,"onUpdate:visible":s[4]||(s[4]=l=>m.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:n(()=>[t(c,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:s[3]||(s[3]=l=>m.value=!1)},null,8,["label"]),t(c,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:M},null,8,["label"])]),default:n(()=>[a("div",le,[te,T.value?(_(),g("span",se,[y(i(e.$t("remove_item"))+" ",1),a("b",null,i(T.value.first_name),1),y("?")])):P("",!0)])]),_:1},8,["visible","header"]),t(C,{visible:v.value,"onUpdate:visible":s[6]||(s[6]=l=>v.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l;return[a("div",ae,[a("label",oe,i(e.$t("skill_name")),1),t($,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:d.value.name,"onUpdate:modelValue":s[5]||(s[5]=V=>d.value.name=V),placeholder:e.$t("skill_name")},null,8,["modelValue","placeholder"]),(l=r.value)!=null&&l.name?(_(),g("div",ne,i(r.value.name[0]),1)):P("",!0)]),a("div",ie,[t(c,{onClick:L,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"]),t(C,{visible:f.value,"onUpdate:visible":s[8]||(s[8]=l=>f.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{default:n(()=>{var l;return[a("div",de,[a("label",ue,i(e.$t("skill_name")),1),t($,{required:"",class:"bg-[#f7f5f5] text-center",modelValue:d.value.name,"onUpdate:modelValue":s[7]||(s[7]=V=>d.value.name=V),placeholder:e.$t("skill_name")},null,8,["modelValue","placeholder"]),(l=r.value)!=null&&l.name?(_(),g("div",re,i(r.value.name[0]),1)):P("",!0)]),a("div",ce,[t(c,{onClick:B,class:"create m-auto w-[50%] my-4",label:e.$t("submit")},null,8,["label"])])]}),_:1},8,["visible","header"])])]),_:1})])])}}};export{ve as default};
