import{_ as L,c,r as u,o,d as a,f as d,w as f,e as l,x as z,V as A,g as i,D as P,t as n,K as R,F as m,z as v,T as j,L as E,O as K}from"./main-3e20b4b3.js";const O="/assets/hhh-e88c7662.jfif",G="/assets/nnn-0bb0e021.png";const H={components:{},data(){return{change:{status:"1"},strart_evaluate:!1,alert_text:"",answers:{answers:[]},type:4,score:[],answer:{color:"00a2ff"},allquestion:{},childs:{},qustions:{},error:{},maxDate:new Date,notanswer:[]}},methods:{Therapeutic(){this.$router.push({name:"answer"})},showContrast(){this.$toast.add({severity:"success",summary:"Success Message",detail:"Message Content",life:3e3})},getanswerscore(e,t,S){console.log(e.value),this.answer.mission_id=t,this.answers.answers[t]={mission_id:t,score:e.value,color:this.answer.color,child_id:this.answer.child_id,date:this.answer.date,child_age:this.answer.child_age,evaluation_id:this.answer.evaluation_id},console.log(this.answers.answers)},createevalutae(e){console.log(e),c.post("api/evaluations/create",{type:4,title:this.answer.title,child_id:this.answer.child_id,specialist_id:localStorage.getItem("user_id"),date:this.answer.date}).then(t=>{this.answer.evaluation_id=t.data.evaluation.id,this.strart_evaluate=!this.strart_evaluate})},anserdata(e,t){console.log(e),console.log(t)},getcolor(e){this.answer.color=e.target.value},getquation(e){c.get("api/able-mission/1").then(t=>{console.log(t.data.data),this.allquestion=t.data.data})},getage(){c.post("api/milestone-answers/get-age-child",{date:this.answer.date,child_id:this.answer.child_id}).then(e=>{this.answer.child_age=e.data})},getanswer(){c.post("/api/able-answer",this.answers).then(e=>{this.change_status,c.post(`/api/evaluation-request/change-status/${localStorage.getItem("eavl_id")}`,this.change),this.$router.push({name:"ablls-resulte",params:{id:this.answer.evaluation_id}})}).catch(e=>{this.alert_text="please answer all questions",setTimeout(()=>{this.alert_text=""},2500)})},change_status(){c.post("/api/evaluation-request/change-status",this.answers)},getusers(){c.get("api/child").then(e=>{this.childs=e.data.children,this.answer.child_id=parseInt(localStorage.getItem("child_id")),this.answer.evaluation_id=parseInt(this.$route.params.evaluation)}),c.get("api/able-category/grouped/category").then(e=>{console.log(e.data.data),this.qustions=e.data.data})},createtreatment(){c.post("/api/milestone-answers/check/answers",{child_id:this.answer.child_id,level_id:this.answer.level_id}).then(e=>{console.log(e.data.data),this.notanswer=e.data.data,this.notanswer==""&&this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{console.log(e.response.data.errors.name),this.error=e.response.data.errors})}},mounted(){this.getusers(),this.getquation()}},p=e=>(E("data-v-c564637b"),e=e(),K(),e),J=p(()=>l("div",null,null,-1)),Q={class:"flex flex-column gap-2"},W={for:"username"},X={key:0,class:"mt-1 mb-5 text-red-500"},Y={class:"flex flex-column gap-2"},Z={for:"username"},$={key:0,class:"mt-1 mb-5 text-red-500"},ee={key:0,class:"flex flex-column gap-2"},se={for:"username"},te={key:0,class:"mt-1 mb-5 text-red-500"},le={key:1,class:"flex flex-column gap-2"},oe={for:"username"},ae={key:0,class:"mt-1 mb-5 text-red-500"},re={key:2,class:"flex flex-column gap-2"},ne={for:"username"},ie={class:"flex"},de={key:0,class:"mt-1 mb-5 text-red-500"},ce={key:3,class:"col-span-2"},ue=["href"],he={class:"col-span-2 flex flex-column gap-2"},_e={style:{border:"1px solid black"},class:"p-2"},me=["id"],pe={class:"text-base font-semibold"},ge={class:"py-2 px-4"},we=p(()=>l("img",{src:O,height:"30",width:"30"},null,-1)),fe=p(()=>l("img",{src:G,height:"34",width:"34"},null,-1)),ve={key:5,class:"flex flex-column gap-2 w-full"},be={style:{visibility:"hidden"},for:"username"},ye=p(()=>l("small",{id:"username-help"},null,-1));function xe(e,t,S,ke,s,_){const D=u("InputText"),B=u("Dropdown"),U=u("Calendar"),T=u("InputNumber"),q=u("ColorPicker"),b=u("Button"),F=u("Rating"),M=u("toast");return o(),a(m,null,[J,d(j,null,{default:f(()=>{var y,x,k,V,C;return[l("div",null,[s.alert_text?(o(),z(A,{key:0,title:"Alert title",text:s.alert_text,closable:"",type:"error",class:"absolute w-full"},null,8,["text"])):i("",!0),l("form",{style:{"max-height":"80vh","overflow-y":"scroll"},"fast-fail":"",ref:"form",onSubmit:t[5]||(t[5]=P((...r)=>_.getanswer&&_.getanswer(...r),["prevent"])),class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4"},[l("div",Q,[l("label",W,n(e.$t("evaluation_name")),1),d(D,{invalid:"",class:"bg-[#f7f5f5]",modelValue:s.answer.title,"onUpdate:modelValue":t[0]||(t[0]=r=>s.answer.title=r),placeholder:e.$t("evaluation_name")},null,8,["modelValue","placeholder"]),(y=s.error)!=null&&y.title?(o(),a("div",X,n(s.error.title[0]),1)):i("",!0)]),l("div",Y,[l("label",Z,n(e.$t("child_name")),1),d(B,{disabled:"",filter:"",required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:s.answer.child_id,"onUpdate:modelValue":t[1]||(t[1]=r=>s.answer.child_id=r),"option-value":"id",options:s.childs,optionLabel:"name",placeholder:e.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(x=s.error)!=null&&x.child_id?(o(),a("div",$,n(s.error.child_id[0]),1)):i("",!0)]),s.answer.child_id?(o(),a("div",ee,[l("label",se,n(e.$t("date")),1),d(U,{"onUpdate:modelValue":[_.getage,t[2]||(t[2]=r=>s.answer.date=r)],style:{width:"100%"},showButtonBar:"",modelValue:s.answer.date,modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("date")},null,8,["onUpdate:modelValue","modelValue","placeholder"]),(k=s.error)!=null&&k.child_age?(o(),a("div",te,n(s.error.child_age[0]),1)):i("",!0)])):i("",!0),s.answer.date?(o(),a("div",le,[l("label",oe,n(e.$t("age")),1),d(T,{readonly:"",required:"",class:"bg-[#f7f5f5]",modelValue:s.answer.child_age,"onUpdate:modelValue":t[3]||(t[3]=r=>s.answer.child_age=r),placeholder:e.$t("age")},null,8,["modelValue","placeholder"]),(V=s.error)!=null&&V.child_age?(o(),a("div",ae,n(s.error.child_age[0]),1)):i("",!0)])):i("",!0),s.answer.child_age&&s.answer.title?(o(),a("div",re,[l("label",ne,n(e.$t("color")),1),l("div",ie,[d(q,{style:R({"background-color":"#"+s.answer.color}),class:"w-full h-[50px]",modelValue:s.answer.color,"onUpdate:modelValue":t[4]||(t[4]=r=>s.answer.color=r)},null,8,["style","modelValue"]),d(b,{onClick:_.createevalutae,class:"create m-auto w-full h-[50px]",label:e.$t("strart_evaluate")},null,8,["onClick","label"])]),(C=s.error)!=null&&C.color?(o(),a("div",de,n(s.error.color[0]),1)):i("",!0)])):i("",!0),s.strart_evaluate?(o(),a("div",ce,[(o(!0),a(m,null,v(s.qustions,(r,g)=>(o(),a("a",{style:{color:"blue"},class:"text-xl mx-[2%] underline",href:"#"+g},n(r.category),9,ue))),256))])):i("",!0),s.strart_evaluate?(o(!0),a(m,{key:4},v(s.qustions,(r,g)=>(o(),a("div",he,[l("div",_e,[l("a",{id:g,class:"text-xl font-bold underline text-blue-900 py-1"},n(r.category),9,me),(o(!0),a(m,null,v(r.missions,(h,N)=>{var I;return o(),a("div",null,[l("h3",pe,n(h.question),1),l("div",ge,[d(F,{required:"",onChange:w=>_.getanswerscore(w,h.id,N),modelValue:s.score[h.id],"onUpdate:modelValue":w=>s.score[h.id]=w,cancel:!1,stars:(I=h==null?void 0:h.benchmarks)==null?void 0:I.length},{onicon:f(()=>[we]),officon:f(()=>[fe]),_:2},1032,["onChange","modelValue","onUpdate:modelValue","stars"])])])}),256))])]))),256)):i("",!0),s.strart_evaluate?(o(),a("div",ve,[l("label",be,n(e.$t("gruop_sessaion")),1),d(b,{onClick:_.getanswer,class:"create m-auto w-full",label:e.$t("submit")},null,8,["onClick","label"]),ye])):i("",!0)],544),d(M)])]}),_:1})],64)}const Ce=L(H,[["render",xe],["__scopeId","data-v-c564637b"]]);export{Ce as default};
