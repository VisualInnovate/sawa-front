import{_ as y,c as m,r as v,o as h,d as E,L as f,a9 as b,j as g,e as l,f as i,i as x,c4 as V,g as a,h as s,t as r,ab as S,ag as w,ao as P,aa as F,bC as B,V as u,a7 as $,F as I}from"./main-944d9351.js";import{S as N}from"./Sideprofiletap-5fb4cbde.js";const O={components:{Sideprofiletap:N},data(){return{search:"",headers:[],sideProfile:[],alert_text:null,loading:!0,groupBy:[{key:"side_profile_title"}],active:!1}},methods:{getSideProfile(){m.get("/api/side-profiles/all-evaluations").then(e=>{this.sideProfile=e.data.evaluations,console.log(this.sideProfile),this.loading=!1})},editItem(e){this.$router.push({name:"EditSideProfiles",params:{id:e}})},deleteItem(e){console.log(e),m.delete(`/api/side-profiles/${e}/delete`).then(d=>{d.data.status==200&&(this.alert_text="side profile deleted successfully ",this.sideProfile=d.data.sideProfile)})},create(){this.$router.push({name:"CreateSideProfiles"})},showItem(e){this.$router.push({name:"ShowSideProfiles",params:{id:e}})},onClickOutside(){this.active=!1},editEvaluation(e){this.$router.push({name:"EditEvaluations",params:{id:e}})},deleteEvaluation(e){console.log(e),m.delete(`/api/evaluations/${e}/delete`).then(d=>{d.data.status==200&&(this.alert_text="evaluation deleted successfully ",this.getSideProfile())})},createEvaluation(e){this.$router.push({name:"CreateEvaluations",params:{sideProfile_id:e}})},showEvaluation(e){this.$router.push({name:"ShowEvaluations",params:{id:e}})}},mounted(){this.getSideProfile()},computed:{header(){return this.headers=[{key:"evaluation_title",title:this.$t("evaluation_title")},{title:this.$t("operation")}]}}},T={class:"relative"},D=["onClick"],L=["onClick"],j={style:{"background-color":"#EFEFEF"}};function A(e,d,U,q,o,n){const k=v("Sideprofiletap"),C=v("v-data-table");return h(),E(I,null,[o.alert_text!=null?(h(),f(b,{key:0,type:"success",variant:"tonal",border:"start",elevation:"2",closable:"","close-label":e.$t("close"),text:o.alert_text,class:"mb-8"},null,8,["close-label","text"])):g("",!0),l("div",T,[i(k),x((h(),f(S,{text:"Create",color:"green",height:"45",class:"p-button-success mr-2 absolute top-3",onClick:n.create},{default:a(()=>[s(r(e.$t("create_button")),1)]),_:1},8,["onClick"])),[[V,n.onClickOutside]])]),i($,null,{default:a(()=>[i(w,null,{default:a(()=>[s(r(e.$t("side_profile"))+" ",1),i(P),i(F,{modelValue:o.search,"onUpdate:modelValue":d[0]||(d[0]=t=>o.search=t),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),i(C,{headers:n.header,items:o.sideProfile,search:o.search,loading:!0,"group-by":o.groupBy,"item-key":"name","show-group-by":""},{top:a(()=>[o.loading?(h(),f(B,{key:0,slot:"progress",style:{color:"#135c65"},indeterminate:""})):g("",!0)]),headers:a(()=>[l("tr",null,[l("td",null,r(e.$t("evaluation_type")),1),l("td",null,r(o.headers[0].title),1),l("td",null,r(o.headers[1].title),1)])]),"group-header":a(({item:t,isGroupOpen:_,toggleGroup:c,columns:z,props:H})=>[l("tr",null,[l("td",{onClick:p=>c(t),style:{cursor:"pointer","background-color":"#EFEFEF"}},[i(u,null,{default:a(()=>[s(r(_(t)?"mdi-chevron-down":"mdi-chevron-right"),1)]),_:2},1024),s(" "+r(t.value),1)],8,D),l("td",{onClick:p=>c(t),style:{cursor:"pointer","background-color":"#EFEFEF"}},null,8,L),l("td",j,[i(u,{small:"",color:"primary",class:"mx-3",onClick:p=>n.createEvaluation(t.items[0].raw.side_profile_id)},{default:a(()=>[s("mdi-plus-box")]),_:2},1032,["onClick"]),i(u,{small:"",color:"primary",class:"mx-3",onClick:p=>n.editItem(t.items[0].raw.side_profile_id)},{default:a(()=>[s("mdi-pencil")]),_:2},1032,["onClick"])])])]),item:a(({item:t,index:_})=>[l("tr",null,[l("td",null,r(e.colgroup),1),l("td",null,r(t.columns.evaluation_title),1),l("td",null,[i(u,{small:"",color:"primary",class:"mx-3",onClick:c=>n.showEvaluation(t.raw.evaluation_id)},{default:a(()=>[s("mdi-eye")]),_:2},1032,["onClick"]),i(u,{small:"",color:"primary",class:"mx-3",onClick:c=>n.editEvaluation(t.raw.evaluation_id)},{default:a(()=>[s("mdi-pencil")]),_:2},1032,["onClick"]),i(u,{small:"",color:"error mx-3",onClick:c=>n.deleteEvaluation(t.raw.evaluation_id)},{default:a(()=>[s("mdi-delete")]),_:2},1032,["onClick"])])])]),_:1},8,["headers","items","search","group-by"])]),_:1})],64)}const M=y(O,[["render",A]]);export{M as default};
