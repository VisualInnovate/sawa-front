import{a9 as S,Q as F,R as l,S as M,r as w,o as d,d as r,e as s,f as c,w as h,E as N,t as n,G as U,T as A,h as I,F as y,B as L,X as O,c as f}from"./main-ae5b4056.js";import"./editor.esm-11b3b755.js";import{g as q}from"./flowbite-vue-333b1b40.js";import{V as z}from"./VTextarea-a7d7f642.js";const G={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},H={class:"col-12"},P=["onSubmit"],Q={class:"flex flex-column gap-2 py-1 w-[50%]"},X={class:"flex"},Z={class:"text-right"},j=s("svg",{class:"my-auto mx-1",width:"7",height:"5",viewBox:"0 0 6 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{opacity:"0.8",d:"M1.859 5.008L1.196 4.527L1.95 3.253L0.624 2.668L0.871 1.888L2.288 2.213L2.431 0.744H3.25L3.393 2.213L4.823 1.888L5.07 2.668L3.731 3.253L4.485 4.527L3.822 5.008L2.847 3.877L1.859 5.008Z",fill:"#DA1414"})],-1),J={class:"flex flex-column mx-2 items-stretch"},K={class:"text-right invisible"},W={class:"grid md:grid-cols-3 lg:grid-cols-4 grid-cols-1"},Y={class:"mx-2 font-bold text-lg text-slate-800"},ee=["checked","onChange"],se=["onClick"],te={class:""},le={class:"flex flex-column gap-2"},ae={class:"w-full text-right",for:"username"},re={__name:"Show",setup(oe){S();const v=F(),x=l(!1),_=l(!0),k=l({}),p=l(""),g=l(null),m=l(!1),i=l({});l(""),l(null),l(null),l({}),l(!1),l({}),l(!1);const o=l([]),C=()=>{f.get("/api/permissions").then(e=>{_.value=!1,g.value=e.data.permissions})},V=()=>{f.get(`/api/roles/${v.currentRoute.value.params.id}`).then(e=>{_.value=!1,i.value.name=e.data.role.name;for(let t=0;t<e.data.role.permissions.length;t++)o.value.push(e.data.role.permissions[t].id)})},$=()=>{f.put(`/api/roles/${v.currentRoute.value.params.id}/edit`,{permissions:o.value,name:i.value.name}).then(e=>{v.push({name:"Roles"})})};M(()=>{C(),V()});const D=e=>{m.value=!m.value,p.value=e.description,k.value=e},T=e=>{const t=o.value.indexOf(e);t===-1?o.value.push(e):o.value.splice(t,1),console.log(o.value)};return(e,t)=>{const B=w("InputText"),E=w("Dialog");return d(),r("div",G,[s("div",H,[c(O,{class:"card shadow-md"},{default:h(()=>[s("form",{class:"flex",onSubmit:N($,["prevent"])},[s("div",Q,[s("div",X,[s("label",Z,n(e.$t("اسم الرول")),1),j]),c(B,{class:U(["bg-[#f7f5f5] text-center",{"p-invalid":x.value&&!i.value.name}]),modelValue:i.value.name,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value.name=a),required:""},null,8,["modelValue","class"])]),s("div",J,[s("label",K,n(e.$t("اسم الرول")),1),c(A(q),{type:"submit",onClick:t[1]||(t[1]=a=>x.value=!0),class:"create my-auto"},{default:h(()=>[I(n(e.$t("submit")),1)]),_:1})])],40,P),s("div",W,[(d(!0),r(y,null,L(g.value,(a,b)=>(d(),r("div",{class:"p-4",key:b},[s("h3",Y,n(b),1),(d(!0),r(y,null,L(a,u=>(d(),r("div",{class:"flex py-[1px]",key:u.id},[s("input",{class:"border my-auto mx-2",type:"checkbox",checked:o.value.includes(u.id),onChange:R=>T(u.id)},null,40,ee),s("p",null,n(u.name),1),s("i",{onClick:R=>D(u),class:"pi pi-arrow-left px-4 my-auto text-base text-[#135C65]"},null,8,se)]))),128))]))),128))]),c(E,{visible:m.value,"onUpdate:visible":t[3]||(t[3]=a=>m.value=a),style:{width:"550px"},header:e.$t("submit"),modal:!0},{default:h(()=>[s("div",te,[s("div",le,[s("label",ae,n(e.$t("description")),1),c(z,{disabled:"",readonly:"true","bg-color":"#EAE8E9",rows:"3",modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=a=>p.value=a)},null,8,["modelValue"])])])]),_:1},8,["visible","header"])]),_:1})])])}}};export{re as default};
