import{j as k,o as d,d as u,q as h,e as l,t as g,g as v,_ as M,M as V,A as C,K as R,b as F,c as b,r as m,f as p,i as c,v as f,B as D}from"./main-8ffdd353.js";import{S}from"./Sidbar-4b2d2143.js";var x={name:"Knob",extends:k,emits:["update:modelValue","change"],props:{modelValue:{type:Number,default:null},size:{type:Number,default:100},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},valueColor:{type:String,default:"var(--primary-color, Black)"},rangeColor:{type:String,default:"var(--surface-border, LightGray)"},textColor:{type:String,default:"var(--text-color-secondary, Black)"},strokeWidth:{type:Number,default:14},showValue:{type:Boolean,default:!0},valueTemplate:{type:String,default:"{value}"},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},data(){return{radius:40,midX:50,midY:50,minRadians:4*Math.PI/3,maxRadians:-Math.PI/3}},methods:{updateValue(e,t){let a=e-this.size/2,o=this.size/2-t,s=Math.atan2(o,a),i=-Math.PI/2-Math.PI/6;this.updateModel(s,i)},updateModel(e,t){let a;if(e>this.maxRadians)a=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else if(e<t)a=this.mapRange(e+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max);else return;let o=Math.round((a-this.min)/this.step)*this.step+this.min;this.$emit("update:modelValue",o),this.$emit("change",o)},updateModelValue(e){e>this.max?this.$emit("update:modelValue",this.max):e<this.min?this.$emit("update:modelValue",this.min):this.$emit("update:modelValue",e)},mapRange(e,t,a,o,s){return(e-t)*(s-o)/(a-t)+o},onClick(e){!this.disabled&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)},onMouseDown(e){!this.disabled&&!this.readonly&&(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),e.preventDefault())},onMouseUp(e){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),e.preventDefault())},onTouchStart(e){!this.disabled&&!this.readonly&&(window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.preventDefault())},onTouchEnd(e){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.preventDefault())},onMouseMove(e){!this.disabled&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())},onTouchMove(e){if(!this.disabled&&!this.readonly&&e.touches.length==1){const t=this.$el.getBoundingClientRect(),a=e.targetTouches.item(0),o=a.clientX-t.left,s=a.clientY-t.top;this.updateValue(o,s)}},onKeyDown(e){if(!this.disabled&&!this.readonly)switch(e.code){case"ArrowRight":case"ArrowUp":{e.preventDefault(),this.updateModelValue(this.modelValue+1);break}case"ArrowLeft":case"ArrowDown":{e.preventDefault(),this.updateModelValue(this.modelValue-1);break}case"Home":{e.preventDefault(),this.$emit("update:modelValue",this.min);break}case"End":{e.preventDefault(),this.$emit("update:modelValue",this.max);break}case"PageUp":{e.preventDefault(),this.updateModelValue(this.modelValue+10);break}case"PageDown":{e.preventDefault(),this.updateModelValue(this.modelValue-10);break}}}},computed:{containerClass(){return["p-knob p-component",{"p-disabled":this.disabled}]},rangePath(){return`M ${this.minX} ${this.minY} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX} ${this.maxY}`},valuePath(){return`M ${this.zeroX} ${this.zeroY} A ${this.radius} ${this.radius} 0 ${this.largeArc} ${this.sweep} ${this.valueX} ${this.valueY}`},zeroRadians(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)},valueRadians(){return this.mapRange(this.modelValue,this.min,this.max,this.minRadians,this.maxRadians)},minX(){return this.midX+Math.cos(this.minRadians)*this.radius},minY(){return this.midY-Math.sin(this.minRadians)*this.radius},maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius},maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius},zeroX(){return this.midX+Math.cos(this.zeroRadians)*this.radius},zeroY(){return this.midY-Math.sin(this.zeroRadians)*this.radius},valueX(){return this.midX+Math.cos(this.valueRadians)*this.radius},valueY(){return this.midY-Math.sin(this.valueRadians)*this.radius},largeArc(){return Math.abs(this.zeroRadians-this.valueRadians)<Math.PI?0:1},sweep(){return this.valueRadians>this.zeroRadians?0:1},valueToDisplay(){return this.valueTemplate.replace(/{value}/g,this.modelValue)}}};const z=["width","height","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-labelledby","aria-label"],T=["d","stroke-width","stroke"],P=["d","stroke-width","stroke"],E=["fill"];function B(e,t,a,o,s,i){return d(),u("div",h({class:i.containerClass},e.ptm("root")),[(d(),u("svg",h({viewBox:"0 0 100 100",role:"slider",width:a.size,height:a.size,tabindex:a.readonly||a.disabled?-1:a.tabindex,"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.modelValue,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onClick:t[0]||(t[0]=(...r)=>i.onClick&&i.onClick(...r)),onKeydown:t[1]||(t[1]=(...r)=>i.onKeyDown&&i.onKeyDown(...r)),onMousedown:t[2]||(t[2]=(...r)=>i.onMouseDown&&i.onMouseDown(...r)),onMouseup:t[3]||(t[3]=(...r)=>i.onMouseUp&&i.onMouseUp(...r)),onTouchstart:t[4]||(t[4]=(...r)=>i.onTouchStart&&i.onTouchStart(...r)),onTouchend:t[5]||(t[5]=(...r)=>i.onTouchEnd&&i.onTouchEnd(...r))},e.ptm("svg")),[l("path",h({d:i.rangePath,"stroke-width":a.strokeWidth,stroke:a.rangeColor,class:"p-knob-range"},e.ptm("range")),null,16,T),l("path",h({d:i.valuePath,"stroke-width":a.strokeWidth,stroke:a.valueColor,class:"p-knob-value"},e.ptm("value")),null,16,P),a.showValue?(d(),u("text",h({key:0,x:50,y:57,"text-anchor":"middle",fill:a.textColor,class:"p-knob-text"},e.ptm("label")),g(i.valueToDisplay),17,E)):v("",!0)],16,z))],16)}function U(e,t){t===void 0&&(t={});var a=t.insertAt;if(!(!e||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&o.firstChild?o.insertBefore(s,o.firstChild):o.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var X=`
@keyframes dash-frame {
100% {
        stroke-dashoffset: 0;
}
}
.p-knob-range {
    fill: none;
    transition: stroke 0.1s ease-in;
}
.p-knob-value {
    animation-name: dash-frame;
    animation-fill-mode: forwards;
    fill: none;
}
.p-knob-text {
    font-size: 1.3rem;
    text-align: center;
}
`;U(X);x.render=B;const Y={components:{Map:V,Sidbar:S,About:C,Knob:x,FileUpload:R},data(){return{imageSrc:null,image:null,parentStore:F(),parent:{fname:"",lname:"",email:"",password:"",image:null},alert_text:"",show_alert:!1,showsider:!1,value:65,editableValue:"Edit me!",editing:!1}},methods:{toggleEditing(){this.editing=!this.editing},toggle(){this.showsider=!this.showsider},getUserProfile(){b.get("/api/parent/user").then(e=>{this.parent=e.data.user,this.imageSrc=this.parent.image,console.log(e)}).catch(e=>{console.log(e)})},openFile(){this.$refs.fileInput.click()},handleFileUpload(e){const t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=o=>{this.imageSrc=o.target.result,this.parent.image=t,console.log(this.imageSrc)}},updateProfile(){this.show_alert=!1,this.alert_text=null;const e=new FormData;e.append("fname",this.parent.fname),e.append("lname",this.parent.lname),e.append("email",this.parent.email),this.$refs.fileInput.files[0]!=null&&e.append("image",this.$refs.fileInput.files[0]),this.parent.password!=null&&e.append("password",this.parent.password),b.post("/api/parent/profile",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.show_alert=!0,this.alert_text=this.$t("profile_updated"),this.parentStore.parent.image=t.data.profile.image,console.log(t)}).catch(t=>{console.log(t)})}},computed:{imageClass(){return this.imageSrc?["w-40","h-0"]:""}},mounted(){this.getUserProfile()}},A={class:""},L={class:"w-full border-b-2 border-x-cyan-950 border-solid"},N={class:"m-auto w-full"},I={class:"text-center p-4 text-2xl text-[#6EB7BF]"},K={class:"relative flex selection max-h-full"},j={class:"flex-1 space-y-10"},G={class:"bg-white text-2xl font-bold text-[#6EB7BF] py-4 px-2"},W={class:"font-bold"},H={key:0,class:"text-center text-xl font-bold tracking-wide",style:{color:"green"}},q={class:"p-2"},J={class:"block max-w-lg m-auto rounded-lg space-y-6 bg-white"},O={class:"relative m-auto"},Q=["src"],Z=D('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#29CCFF" d="M21 3H3C1.35 3 0 4.35 0 6v12c0 1.55 1.19 2.83 2.7 2.98.1.01.2.02.3.02h18c.1 0 .2 0 .29-.02.03 0 .06-.01.09-.01C22.86 20.78 24 19.52 24 18V6c0-1.65-1.35-3-3-3zm1 13.53l-2.21-4.42c-.25-.5-.69-.87-1.22-1.03-.19-.05-.38-.08-.57-.08-.35 0-.7.09-1.01.27l-6.41 3.74-2.46-1.67C7.78 13.11 7.39 13 7 13c-.52 0-1.03.2-1.41.59L2 17.18V6c0-.55.45-1 1-1h18c.55 0 1 .45 1 1v10.53z"></path><circle fill="#29CCFF" cx="11" cy="10" r="2"></circle></g>',3),$=[Z],ee={style:{"font-size":"16px"},class:"flex"},te=l("p",{class:"m-auto text-center text-[#FF3765]"}," تنبيه هام : برجاء اختيار حجم الصوره 440 بسكل * 660 بسكيل ",-1),ae={class:"px-1 card flex justify-content-center"},se={class:"grid grid-cols-2"},ie={class:"m-auto ml-4 bg-[#F8F8F8]",style:{display:"flex","align-items":"center","border-bottom":"2px solid rgb(0, 0, 0)"}},le=["placeholder"],oe={class:"m-auto ml-4 bg-[#F8F8F8]",style:{display:"flex","align-items":"center","border-bottom":"2px solid rgb(0, 0, 0)"}},ne=["placeholder"],re={class:"m-auto bg-[#F8F8F8]",style:{display:"flex","align-items":"center","border-bottom":"2px solid rgb(0, 0, 0)"}},de=["placeholder"],ue={class:"m-auto bg-[#F8F8F8]",style:{display:"flex","align-items":"center","border-bottom":"2px solid rgb(0, 0, 0)"}};function he(e,t,a,o,s,i){const r=m("Map"),w=m("sidbar"),y=m("Knob"),_=m("About");return d(),u("div",A,[p(r),l("div",L,[l("div",N,[l("p",I,g(e.$t("Profile_personly")),1)])]),l("div",K,[p(w,{class:"",sole:s.showsider},null,8,["sole"]),l("div",j,[l("div",G,[l("button",W,g(e.$t("Modify_profile")),1)]),s.show_alert?(d(),u("p",H,g(s.alert_text),1)):v("",!0),l("div",q,[l("div",J,[l("div",O,[l("input",{type:"file",ref:"fileInput",name:"image",id:"image",hidden:"",onChange:t[0]||(t[0]=(...n)=>i.handleFileUpload&&i.handleFileUpload(...n))},null,544),l("img",{onClick:t[1]||(t[1]=(...n)=>i.openFile&&i.openFile(...n)),src:s.imageSrc,class:"uploaded-image relative m-auto cursor-pointer rounded-full"},null,8,Q),(d(),u("svg",{onClick:t[2]||(t[2]=(...n)=>i.openFile&&i.openFile(...n)),class:"cursor-pointer absolute left-[50%] m-auto bottom-0 bg-white rounded-full p-1 h-8 w-8",viewBox:"-2.4 -2.4 28.80 28.80",xmlns:"http://www.w3.org/2000/svg",fill:"#29CCFF",transform:"matrix(-1, 0, 0, 1, 0, 0)"},$))]),l("div",ee,[te,l("div",ae,[p(y,{"text-color":"#FFD02B",rangeColor:"white",valueColor:"#FFD02B",strokeWidth:5,size:70,class:"h-28",modelValue:s.value,"onUpdate:modelValue":t[3]||(t[3]=n=>s.value=n)},null,8,["modelValue"])])]),l("div",se,[l("div",ie,[c(l("input",{style:{"font-size":"20px"},class:"backdrop-blur-md bg-white/30 focus:ring-0 w-full p-2 text-center border-0",type:"text","onUpdate:modelValue":t[4]||(t[4]=n=>s.parent.lname=n),placeholder:e.$t("first_name")},null,8,le),[[f,s.parent.lname]])]),l("div",oe,[c(l("input",{style:{"font-size":"20px"},class:"backdrop-blur-md bg-white/30 focus:ring-0 w-full p-2 text-center border-0",type:"text","onUpdate:modelValue":t[5]||(t[5]=n=>s.parent.fname=n),placeholder:e.$t("family_name")},null,8,ne),[[f,s.parent.fname]])])]),l("div",re,[c(l("input",{style:{"font-size":"18px"},class:"backdrop-blur-md bg-white/30 focus:ring-0 w-full p-2 text-center border-0",type:"email","onUpdate:modelValue":t[6]||(t[6]=n=>s.parent.email=n),placeholder:e.$t("email")},null,8,de),[[f,s.parent.email]])]),l("div",ue,[c(l("input",{style:{"font-size":"18px"},class:"backdrop-blur-md bg-white/30 focus:ring-0 w-full p-2 text-center border-0",type:"password",placeholder:"password","onUpdate:modelValue":t[7]||(t[7]=n=>s.parent.password=n)},null,512),[[f,s.parent.password]])]),l("button",{onClick:t[8]||(t[8]=(...n)=>i.updateProfile&&i.updateProfile(...n)),class:"p-4 mt-10 text-center bg-[#148A98] text-white w-full rounded-2xl text-xl"}," حفظ التغيرات ")])])])]),p(_)])}const ce=M(Y,[["render",he]]);export{ce as default};
