import{a9 as z,aa as A,T as n,ab as E,a2 as q,ac as O,l as d,o as k,e as $,h as a,x as t,y as s,t as r,i as p,q as G,z as x}from"./main-e5db43fd.js";const H={class:"grid"},J={class:"col-12"},K={class:"my-2"},Q={style:{},class:"shadow-xl"},W={class:"flex w-full justify-between align-items-center"},X={class:"m-0 my-auto"},Y={class:"block mt-2 md:mt-0 p-input-icon-left"},Z=a("i",{class:"pi pi-search"},null,-1),ee={class:"flex align-items-center justify-content-center"},te=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),le={key:0},oe={__name:"Index",setup(ae){const T=z(),h=A(),_=n(!0),f=n({});n("");const v=n(null);n(!1);const c=n(!1),b=n(""),g=n(null),y=n(null),m=n({});E(()=>{L()});const w=()=>{x.get("/api/child").then(e=>{_.value=!1,v.value=e.data.children,console.log(v.value)})};q(()=>{w()});const D=e=>{h.push({name:"EditChildren",params:{id:e}})},V=e=>{h.push({name:"ShowChildren",params:{id:e}})},N=()=>{h.push({name:"CreateChildren"})},P=e=>{console.log(e),c.value=!0,b.value=e},S=()=>{x.delete(`/api/child/${b.value}/delete`).then(e=>{console.log(e.data),c.value=!1,w(),T.add({severity:"success",summary:"Successful",detail:"Successful",life:3e3})}).catch(()=>{})},B=()=>{y.value.exportCSV()},L=()=>{m.value={global:{value:null,matchMode:O.CONTAINS}}};return(e,o)=>{const i=d("Button"),j=d("Toolbar"),I=d("Toast"),M=d("InputText"),u=d("Column"),R=d("DataTable"),F=d("Dialog"),U=d("va-card");return k(),$("div",H,[a("div",J,[t(U,{class:"card"},{default:s(()=>[t(j,{class:"mb-4 shadow-md"},{start:s(()=>[a("div",K,[t(i,{label:e.$t("create_button"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:N},null,8,["label"])])]),end:s(()=>[t(i,{label:e.$t("export"),icon:"pi pi-upload",class:"export",onClick:o[0]||(o[0]=l=>B(l))},null,8,["label"])]),_:1}),t(I),a("div",Q,[t(R,{ref_key:"dt",ref:y,selection:g.value,"onUpdate:selection":o[2]||(o[2]=l=>g.value=l),value:v.value,loading:_.value,"data-key":"id",paginator:!0,rows:10,filters:m.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[5,10,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll"},{header:s(()=>[a("div",W,[a("h5",X,r(e.$t("children")),1),a("div",null,[a("span",Y,[Z,t(M,{modelValue:m.value.global.value,"onUpdate:modelValue":o[1]||(o[1]=l=>m.value.global.value=l),placeholder:e.$t("search")},null,8,["modelValue","placeholder"])])])])]),default:s(()=>[t(u,{"selection-mode":"multiple","header-style":"width: 3rem"}),t(u,{field:"id",header:e.$t("index"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:s(l=>[p(r(l.data.id),1)]),_:1},8,["header"]),t(u,{field:"name",header:e.$t("child_name"),sortable:!0,"header-style":"width:17%; min-width:10rem;",class:"ltr:text-justify"},{body:s(l=>[p(r(l.data.name),1)]),_:1},8,["header"]),t(u,{field:"birth_date",header:e.$t("birth_date"),sortable:!0,"header-style":"width:14%; min-width:10rem;",class:"ltr:text-justify"},{body:s(l=>[p(r(l.data.birth_date),1)]),_:1},8,["header"]),t(u,{"header-style":"min-width:10rem;"},{body:s(l=>[a("div",null,[t(i,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:C=>D(l.data.id)},null,8,["onClick"]),t(i,{icon:"pi pi-eye",class:"details mt-2",onClick:C=>V(l.data.id)},null,8,["onClick"]),t(i,{icon:"pi pi-trash",class:"delete mt-2",onClick:C=>P(l.data.id)},null,8,["onClick"]),t(i,{icon:"pi pi-user",class:"show mt-2"})])]),_:1})]),_:1},8,["selection","value","loading","filters"]),t(F,{visible:c.value,"onUpdate:visible":o[4]||(o[4]=l=>c.value=l),style:{width:"450px"},header:e.$t("submit"),modal:!0},{footer:s(()=>[t(i,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:o[3]||(o[3]=l=>c.value=!1)},null,8,["label"]),t(i,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:S},null,8,["label"])]),default:s(()=>[a("div",ee,[te,f.value?(k(),$("span",le,[p(r(e.$t("remove_item"))+" ",1),a("b",null,r(f.value.first_name),1),p("?")])):G("",!0)])]),_:1},8,["visible","header"])])]),_:1})])])}}};export{oe as default};
