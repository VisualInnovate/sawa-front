import{aa as E,R as F,S as s,ab as I,T as N,ac as S,r as m,ad as U,i as A,o as n,d as c,e as t,t as d,f as i,g as v,F as w,l as k,Y as R,c as h}from"./main-13ecf15d.js";import"./editor.esm-11b3b755.js";import{V as j}from"./VTextarea-b57c3d71.js";const L={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},O={class:"flex w-full pb-4 px-4 justify-between align-items-center"},Y={class:"m-0 my-auto"},q={class:"block mt-2 md:mt-0 p-input-icon-left"},z=t("i",{class:"pi pi-search"},null,-1),G={class:"col-12"},H={class:"grid md:grid-cols-3 lg:grid-cols-4 grid-cols-1"},J={class:"font-bold text-lg text-slate-800"},K={class:""},P=["onClick"],Q={class:""},W={class:"flex flex-column gap-2"},X={class:"w-full text-right",for:"username"},ae={__name:"Index",setup(Z){E(),F();const _=s(!0),f=s({}),r=s(""),u=s(null),a=s(!1);s(!1),s(""),s(null),s(null);const y=s({});s(!1),s({}),s(!1),I(()=>{D()});const g=e=>{h.get("/api/permissions").then(l=>{_.value=!1,u.value=l.data.permissions})},$=e=>{h.get(`/api/permissions?search=${e}`).then(l=>{_.value=!1,u.value=l.data.permissions})},C=()=>{h.put(`/api/permissions/${f.value.id}/edit`,{description:r.value}).then(e=>{g(),a.value=!a.value})};N(()=>{g()});const V=e=>{a.value=!a.value,r.value=e.description,f.value=e},D=()=>{y.value={global:{value:null,matchMode:S.CONTAINS}}};return(e,l)=>{const B=m("InputText"),b=m("Button"),T=m("Dialog"),M=U("can");return A((n(),c("div",L,[t("div",O,[t("h5",Y,d(e.$t("permissions")),1),t("div",null,[t("span",q,[z,i(B,{"onUpdate:modelValue":$,placeholder:e.$t("search")},null,8,["placeholder"])])])]),t("div",G,[i(R,{class:"card shadow-md"},{default:v(()=>[t("div",H,[(n(!0),c(w,null,k(u.value,(o,x)=>(n(),c("div",{class:"p-4",key:x},[t("h3",J,d(x),1),(n(!0),c(w,null,k(o,p=>(n(),c("div",{class:"flex py-[1px]",key:p.id},[t("p",K,d(p.name),1),t("i",{onClick:ee=>V(p),class:"pi pi-arrow-left px-4 my-auto text-base text-[#135C65]"},null,8,P)]))),128))]))),128))]),i(T,{visible:a.value,"onUpdate:visible":l[2]||(l[2]=o=>a.value=o),style:{width:"550px"},header:e.$t("submit"),modal:!0},{footer:v(()=>[i(b,{label:e.$t("no"),icon:"pi pi-times",class:"p-button-text",onClick:l[1]||(l[1]=o=>a.value=!1)},null,8,["label"]),i(b,{label:e.$t("yes"),icon:"pi pi-check",class:"p-button-text",onClick:C},null,8,["label"])]),default:v(()=>[t("div",Q,[t("div",W,[t("label",X,d(e.$t("description")),1),i(j,{"bg-color":"#EAE8E9",rows:"3",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=o=>r.value=o)},null,8,["modelValue"])])])]),_:1},8,["visible","header"])]),_:1})])])),[[M,"permissions list"]])}}};export{ae as default};
