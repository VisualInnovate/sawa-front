import{_ as w,c as n,r as s,al as b,o as S,d as P,f as i,e as t,g as a,t as $,i as f,y as C,z as E}from"./main-7f465f8a.js";import{S as R}from"./Sideprofiletap-fdb31661.js";const D={components:{Sideprofiletap:R},data(){return{search:"",headers:[],sideProfile:[],alert_text:null,loading:!0,groupBy:[{key:"side_profile_title"}],active:!1,expandedRows:[]}},methods:{getSideProfile(){n.get("/api/side-profile-types").then(e=>{this.sideProfile=e.data.data,this.sideProfile.length=5,console.log(this.sideProfile),this.loading=!1})},editItem(e){this.$router.push({name:"EditSideProfiles",params:{id:e}})},deleteItem(e){console.log(e),n.delete(`/api/side-profiles/${e}/delete`).then(o=>{o.data.status==200&&(this.alert_text="Side profile deleted successfully",this.sideProfile=o.data.sideProfile)})},create(){this.$router.push({name:"CreateSideProfiles"})},showItem(e){this.$router.push({name:"ShowSideProfiles",params:{id:e}})},onClickOutside(){this.active=!1},editEvaluation(e){this.$router.push({name:"EditEvaluations",params:{id:e}})},deleteEvaluation(e){this.$confirm.require({message:"Are you sure you want to delete this evaluation?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{n.delete(`/api/evaluations/${e}/delete`).then(o=>{o.data.status==200&&(this.$toast.add({severity:"success",summary:"Success",detail:"Evaluation deleted successfully",life:3e3}),this.getSideProfile())})},reject:()=>{this.$toast.add({severity:"info",summary:"Cancelled",detail:"Delete operation cancelled",life:3e3})}})},createEvaluation(e){this.$router.push({name:"CreateEvaluations",params:{sideProfile_id:e}})},showEvaluation(e){this.$router.push({name:"ShowEvaluations",params:{id:e}})},onRowExpand(e){this.$toast.add({severity:"info",summary:"Profile Expanded",detail:`Showing evaluations for ${e.data.side_profile_title}`,life:3e3})},onRowCollapse(e){this.$toast.add({severity:"info",summary:"Profile Collapsed",detail:`Hiding evaluations for ${e.data.side_profile_title}`,life:3e3})},toggleRow(e){this.expandedRows.includes(e)?this.expandedRows=this.expandedRows.filter(o=>o.id!==e.id):this.expandedRows.push(e)}},mounted(){this.getSideProfile()},computed:{header(){return[{field:"evaluation_title",header:this.$t("evaluation_title")},{header:this.$t("operation"),sortable:!1}]}}},h=e=>(C("data-v-94feb94f"),e=e(),E(),e),k={class:"card"},I={class:"relative"},B={class:"card p-fluid"},T=h(()=>t("div",null,[t("span",{class:"text-xl text-900 font-bold w-[20%] m-auto"},"Side Profiles")],-1)),F={class:"font-semibold"},N={class:"flex gap-2"},V=h(()=>t("div",{class:"text-center py-5"},[t("i",{class:"pi pi-database text-5xl text-400 mb-3"}),t("p",{class:"text-900 font-semibold text-xl"},"No records found"),t("p",{class:"text-600"},"Create a new side profile to get started")],-1)),j={class:"flex items-center justify-center p-5"};function A(e,o,q,z,d,r){const _=s("Toast"),m=s("ConfirmDialog"),v=s("Sideprofiletap"),p=s("Column"),c=s("Button"),x=s("ProgressSpinner"),g=s("DataTable"),u=b("tooltip");return S(),P("div",k,[i(_),i(m),t("div",I,[i(v)]),t("div",B,[i(g,{value:d.sideProfile,loading:d.loading,sortMode:"multiple",removableSort:"",rows:5,currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",filterDisplay:"menu",globalFilterFields:["title","evaluations.evaluation_title"],stripedRows:"",showGridlines:"",responsiveLayout:"scroll"},{header:a(()=>[T]),empty:a(()=>[V]),loading:a(()=>[t("div",j,[i(x,{style:{width:"50px",height:"50px"},strokeWidth:"4"})])]),default:a(()=>[i(p,{field:"title",header:"Profile Title",sortable:""},{body:a(({data:l})=>[t("span",F,$(l.title),1)]),_:1}),i(p,{header:"Actions",exportable:!1,style:{"min-width":"10rem"}},{body:a(({data:l})=>[t("div",N,[f(i(c,{icon:"pi pi-eye",class:"p-button-rounded p-button-info p-button-text",onClick:y=>r.showEvaluation(l.id)},null,8,["onClick"]),[[u,"View Details",void 0,{top:!0}]]),f(i(c,{icon:"pi pi-pencil",class:"p-button-rounded p-button-warning p-button-text",onClick:y=>r.editEvaluation(l.id)},null,8,["onClick"]),[[u,"Edit Evaluation",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading","globalFilterFields"])])])}const L=w(D,[["render",A],["__scopeId","data-v-94feb94f"]]);export{L as default};
