import{_ as P,c as u,r as c,o as l,d as a,f as n,w as m,e as o,E as R,t as r,g as d,P as j,F as w,z as C,X as z,Q as E,R as L}from"./main-0ef3d56d.js";import{V as q}from"./VForm-fe63640f.js";const O="/assets/hhh-e88c7662.jfif",Q="/assets/nnn-0bb0e021.png";const X={components:{},data(){return{strart_evaluate:!1,answers:{answers:[]},type:4,score:[],answer:{color:"00a2ff"},allquestion:{},childs:{},qustions:{},error:{},maxDate:new Date,notanswer:[]}},methods:{Therapeutic(){this.$router.push({name:"answer"})},validateForm(){return this.error={},this.answer.title||(this.error.title=["الاسم مطلوب"]),this.answer.child_id||(this.error.child_id=["اسم الطفل مطلوب"]),this.answer.date||(this.error.date=["التاريخ مطلوب"]),this.answer.child_age||(this.error.child_age=["العمر مطلوب"]),this.answer.color||(this.error.color=["اللون مطلوب"]),Object.keys(this.error).length===0},validation(){this.validateForm()?this.createevalutae():alert("الرجاء تصحيح الأخطاء في النموذج.")},getanswerscore(e,t,I){console.log(e.value),this.answer.mission_id=t,this.answers.answers[t]={mission_id:t,score:e.value,color:this.answer.color,child_id:this.answer.child_id,date:this.answer.date,child_age:this.answer.child_age,evaluation_id:this.answer.evaluation_id},console.log(this.answers.answers)},createevalutae(e){console.log(e),u.post("api/evaluations/create",{type:4,title:this.answer.title,child_id:this.answer.child_id,specialist_id:localStorage.getItem("user_id"),date:this.answer.date,stimulus_test_id:parseInt(this.$route.params.id)}).then(t=>{this.answer.evaluation_id=t.data.evaluation.id,this.strart_evaluate=!this.strart_evaluate})},anserdata(e,t){console.log(e),console.log(t)},getcolor(e){this.answer.color=e.target.value},getquation(e){u.get("api/able-mission/1").then(t=>{console.log(t.data.data),this.allquestion=t.data.data})},getage(){u.post("api/milestone-answers/get-age-child",{date:this.answer.date,child_id:this.answer.child_id}).then(e=>{this.answer.child_age=e.data})},getanswer(){u.post("/api/able-answer",this.answers).then(e=>{this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{this.error=e.response.data.errors})},getusers(){u.get("api/child").then(e=>{this.childs=e.data.children,this.answer.child_id=parseInt(localStorage.getItem("child_id")),this.answer.evaluation_id=parseInt(this.$route.params.evaluation)}),u.get("api/able-category/grouped/category").then(e=>{console.log(e.data.data),this.qustions=e.data.data})},createtreatment(){u.post("/api/milestone-answers/check/answers",{child_id:this.answer.child_id,level_id:this.answer.level_id}).then(e=>{console.log(e.data.data),this.notanswer=e.data.data,this.notanswer==""&&this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{console.log(e.response.data.errors.name),this.error=e.response.data.errors})}},mounted(){this.getusers(),this.getquation()}},p=e=>(E("data-v-20ce8ed8"),e=e(),L(),e),A=p(()=>o("div",null,null,-1)),G={class:"flex flex-column gap-2"},H={for:"username"},J={key:0,class:"mt-1 mb-5 text-red-500"},K={class:"flex flex-column gap-2"},W={for:"username"},Y={key:0,class:"mt-1 mb-5 text-red-500"},Z={key:0,class:"flex flex-column gap-2"},$={for:"username"},ee={key:0,class:"mt-1 mb-5 text-red-500"},se={key:1,class:"flex flex-column gap-2"},te={for:"username"},oe={key:0,class:"mt-1 mb-5 text-red-500"},le={key:2,class:"flex flex-column gap-2"},ae={for:"username"},re={class:"flex"},ie={key:0,class:"mt-1 mb-5 text-red-500"},ne={class:"col-span-2 flex flex-column gap-2"},de={style:{border:"1px solid black"},class:"p-2"},ce={class:"text-xl font-bold underline text-blue-900 py-1"},he={class:"text-base font-semibold"},ue={class:"py-2 px-4"},_e=p(()=>o("img",{src:O,height:"30",width:"30"},null,-1)),me=p(()=>o("img",{src:Q,height:"34",width:"34"},null,-1)),pe={key:4,class:"flex flex-column gap-2 w-full"},ge={style:{visibility:"hidden"},for:"username"},we=p(()=>o("small",{id:"username-help"},null,-1));function fe(e,t,I,ve,s,_){const S=c("InputText"),D=c("Dropdown"),F=c("Calendar"),U=c("InputNumber"),B=c("ColorPicker"),f=c("Button"),N=c("Rating"),T=c("toast");return l(),a(w,null,[A,n(z,null,{default:m(()=>[o("div",null,[n(q,{style:{"max-height":"80vh","overflow-y":"scroll"},"fast-fail":"",ref:"form",onSubmit:R(_.validation,["prevent"]),class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4"},{default:m(()=>{var v,b,y,x,V;return[o("div",G,[o("label",H,r(e.$t("evaluation_name")),1),n(S,{invalid:"",class:"bg-[#f7f5f5]",modelValue:s.answer.title,"onUpdate:modelValue":t[0]||(t[0]=i=>s.answer.title=i),placeholder:e.$t("evaluation_name")},null,8,["modelValue","placeholder"]),(v=s.error)!=null&&v.title?(l(),a("div",J,r(s.error.title[0]),1)):d("",!0)]),o("div",K,[o("label",W,r(e.$t("child_name")),1),n(D,{disabled:"",filter:"",required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:s.answer.child_id,"onUpdate:modelValue":t[1]||(t[1]=i=>s.answer.child_id=i),"option-value":"id",options:s.childs,optionLabel:"name",placeholder:e.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(b=s.error)!=null&&b.child_id?(l(),a("div",Y,r(s.error.child_id[0]),1)):d("",!0)]),s.answer.child_id?(l(),a("div",Z,[o("label",$,r(e.$t("date")),1),n(F,{"onUpdate:modelValue":[_.getage,t[2]||(t[2]=i=>s.answer.date=i)],style:{width:"100%"},showButtonBar:"",modelValue:s.answer.date,modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("date")},null,8,["onUpdate:modelValue","modelValue","placeholder"]),(y=s.error)!=null&&y.child_age?(l(),a("div",ee,r(s.error.child_age[0]),1)):d("",!0)])):d("",!0),s.answer.date?(l(),a("div",se,[o("label",te,r(e.$t("age")),1),n(U,{readonly:"",required:"",class:"bg-[#f7f5f5]",modelValue:s.answer.child_age,"onUpdate:modelValue":t[3]||(t[3]=i=>s.answer.child_age=i),placeholder:e.$t("age")},null,8,["modelValue","placeholder"]),(x=s.error)!=null&&x.child_age?(l(),a("div",oe,r(s.error.child_age[0]),1)):d("",!0)])):d("",!0),s.answer.child_age&&s.answer.title?(l(),a("div",le,[o("label",ae,r(e.$t("color")),1),o("div",re,[n(B,{style:j({"background-color":"#"+s.answer.color}),class:"w-full h-[50px]",modelValue:s.answer.color,"onUpdate:modelValue":t[4]||(t[4]=i=>s.answer.color=i)},null,8,["style","modelValue"]),n(f,{onClick:_.createevalutae,class:"create m-auto w-full h-[50px]",label:e.$t("strart_evaluate")},null,8,["onClick","label"])]),(V=s.error)!=null&&V.color?(l(),a("div",ie,r(s.error.color[0]),1)):d("",!0)])):d("",!0),s.strart_evaluate?(l(!0),a(w,{key:3},C(s.qustions,(i,be)=>(l(),a("div",ne,[o("div",de,[o("p",ce,r(i.category),1),(l(!0),a(w,null,C(i.missions,(h,M)=>{var k;return l(),a("div",null,[o("h3",he,r(h.question),1),o("div",ue,[n(N,{onChange:g=>_.getanswerscore(g,h.id,M),modelValue:s.score[h.id],"onUpdate:modelValue":g=>s.score[h.id]=g,cancel:!1,stars:(k=h==null?void 0:h.benchmarks)==null?void 0:k.length},{onicon:m(()=>[_e]),officon:m(()=>[me]),_:2},1032,["onChange","modelValue","onUpdate:modelValue","stars"])])])}),256))])]))),256)):d("",!0),s.strart_evaluate?(l(),a("div",pe,[o("label",ge,r(e.$t("gruop_sessaion")),1),n(f,{onClick:_.getanswer,class:"create m-auto w-full",label:e.$t("submit")},null,8,["onClick","label"]),we])):d("",!0)]}),_:1},8,["onSubmit"]),n(T)])]),_:1})],64)}const Ve=P(X,[["render",fe],["__scopeId","data-v-20ce8ed8"]]);export{Ve as default};
