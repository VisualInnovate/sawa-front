import{_ as y,c as g,r as a,o as d,d as f,f as i,e as t,L as v,g as w,h as k,t as m,j as h,w as x,n as P,y as S,z as C}from"./main-7f465f8a.js";const B={data:()=>({NameRules:[e=>(e==null?void 0:e.length)>=3?!0:"Name must be at least 3 characters."],sideProfile:{title:""},loading:!1,alert_text:null,alert_severity:"success"}),methods:{async submit(){var e,s;if(this.validateForm()){this.loading=!0;try{(await g.post("/api/side-profiles/create",this.sideProfile)).data.status==200&&(this.showSuccess("Side profile added successfully"),this.sideProfile.title="")}catch(o){this.showError(((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||"An error occurred")}finally{this.loading=!1}}},validateForm(){var e;return((e=this.sideProfile.title)==null?void 0:e.length)<3?(this.showError("Name must be at least 3 characters"),!1):!0},showSuccess(e){this.alert_text=e,this.alert_severity="success",this.$toast.add({severity:"success",summary:"Success",detail:e,life:3e3})},showError(e){this.alert_text=e,this.alert_severity="error",this.$toast.add({severity:"error",summary:"Error",detail:e,life:3e3})},goBack(){this.$router.go(-1)}}},N=e=>(S("data-v-a6bd00bf"),e=e(),C(),e),E={class:"card"},V={class:"flex justify-content-start mb-5"},I={class:"surface-card p-4 shadow-2 border-round",style:{"max-width":"800px",margin:"0 auto"}},$=N(()=>t("div",{class:"text-center mb-5"},[t("div",{class:"text-900 text-3xl font-medium mb-3"},"Create Side Profile"),t("span",{class:"text-600 font-medium line-height-3"},"Enter the details below")],-1)),T={class:"field"},M={for:"title",class:"block text-900 font-medium mb-2"},j={key:0,class:"p-error"};function z(e,s,o,F,A,r){var c,u;const p=a("Toast"),n=a("Button"),_=a("Message"),b=a("InputText");return d(),f("div",E,[i(p),t("div",V,[i(n,{icon:"pi pi-arrow-left",label:e.$t("back"),class:"p-button-outlined p-button-secondary",onClick:r.goBack},null,8,["label","onClick"])]),t("div",I,[$,e.alert_text?(d(),v(_,{key:0,severity:e.alert_severity,closable:!0,class:"mb-4"},{default:w(()=>[k(m(e.alert_text),1)]),_:1},8,["severity"])):h("",!0),t("form",{onSubmit:s[1]||(s[1]=x((...l)=>r.submit&&r.submit(...l),["prevent"]))},[t("div",T,[t("label",M,m(e.$t("side_profile_title")),1),i(b,{id:"title",modelValue:e.sideProfile.title,"onUpdate:modelValue":s[0]||(s[0]=l=>e.sideProfile.title=l),class:P(["w-full mb-3",{"p-invalid":((c=e.sideProfile.title)==null?void 0:c.length)>0&&e.sideProfile.title.length<3}]),placeholder:"Enter profile title"},null,8,["modelValue","class"]),((u=e.sideProfile.title)==null?void 0:u.length)>0&&e.sideProfile.title.length<3?(d(),f("small",j," Name must be at least 3 characters ")):h("",!0)]),i(n,{type:"submit",label:"Submit",icon:"pi pi-check",class:"w-full",loading:e.loading},null,8,["loading"])],32)])])}const L=y(B,[["render",z],["__scopeId","data-v-a6bd00bf"]]);export{L as default};
