import{_ as b,c as n,r,o as y,d as V,e as i,t as o,f as l,g as w,w as C,n as d,i as m,v as c,a7 as F,F as D}from"./main-944d9351.js";import"./moment-fbc5633a.js";import{E as x,S as q}from"./index-bf2921fa.js";const T={components:{GoogleMap:x,Circle:q},data(){return{center:{lat:37.09,lng:8.712},cities:{chicago:{center:{lat:41.878,lng:45.629},population:5e3}},circles:{},student:{is_active:!0},drivers:{},vehicle:{},areas:{},error:{},studenttransportation:{},maxDate:new Date}},computed:{computedCircles(){const t={};for(const s in this.cities)t[s]={center:this.cities[s].center,radius:Math.sqrt(this.cities[s].population)*100,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35};return t}},methods:{setupCircles(){this.circles=this.computedCircles},Therapeutic(){this.$router.push({name:"transportation-schedule"})},getonetrip(){n.get(`api/transportation-schedule/${this.$route.params.id}`).then(t=>{console.log(t.data.data),this.student.driver_id=t.data.data.driver_id,this.student.vehicle_id=t.data.data.vehicle_id,this.student.available_seats=t.data.data.available_seats,this.student.student_transportation_id=t.data.data.student_transportation_id,this.student.from=t.data.data.from,this.student.to=t.data.data.to,this.student.date=t.data.data.date,t.data.data.is_active==1&&(this.student.is_active=!0),t.data.data.is_active==0&&(this.student.is_active=!1)}).catch(t=>{console.error("Error retrieving Appointment Types:",t)})},getDrivers(){n.get("api/driver").then(t=>{console.log(t.data.data),this.drivers=t.data.driver,this.getonetrip()})},getareas(){n.get("api/region").then(t=>{console.log(t.data.data),this.areas=t.data.data}).catch(t=>{console.error("Error retrieving Appointment Types:",t)})},getareas(){n.get("api/student-transportation").then(t=>{console.log(t.data.data),this.studenttransportation=t.data.data,this.getonetrip()}).catch(t=>{console.error("Error retrieving Appointment Types:",t)})},getvehicle(){n.get("api/vehicle").then(t=>{console.log(t.data.data),this.vehicle=t.data.data}).catch(t=>{console.error("Error retrieving Appointment Types:",t)})},arr(){return this.roomType=[{name:"angel car",value:0},{name:"bus",value:1},{name:"Minibus",value:2}]},trip(){return this.roomType=[{name:this.$t("One_way"),value:0},{name:this.$t("tow_way"),value:1}]},submitForm(){this.student.is_active==!0&&(this.student.is_active=1),this.student.is_active==!1&&(this.student.is_active=0),n.post(`/api/transportation-schedule/${this.$route.params.id}`,this.student).then(t=>{this.$toast.add({severity:"success",summary:this.$t("success_message"),detail:`${this.$t("element_update_success")}`,life:3e3})}).catch(t=>{this.$toast.add({severity:"error",summary:this.$t("error"),detail:`${t.response.data.message}`,life:3e3})})}},mounted(){this.setupCircles(),this.getvehicle(),this.getareas(),this.getDrivers()}},U={class:"text-xl p-4 text-[#135C65] cursor-pointer font-bold"},k={class:"flex flex-column gap-2"},B={for:"username"},E={class:"flex flex-column gap-2"},I={for:"username"},M={class:"flex flex-column gap-2"},S={for:"username"},$={class:"flex flex-column gap-2"},A={for:"username"},N={class:"flex flex-column gap-2"},L={for:"username"},O={class:"flex flex-column gap-2"},z={for:"username"},G={class:"flex flex-column gap-2"},W={for:"username"},j={class:"flex flex-column w-[70%]"},H={for:"username"},J={class:"flex"};function K(t,s,P,Q,e,p){const u=r("Dropdown"),_=r("Calendar"),h=r("InputNumber"),v=r("InputSwitch"),f=r("Button"),g=r("toast");return y(),V(D,null,[i("div",null,[i("div",null,[i("p",U,o(t.$t("transportation_schedule")),1)])]),l(F,null,{default:w(()=>[i("div",null,[i("form",{class:"p-[2%] c shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4",ref:"myForm",onSubmit:s[9]||(s[9]=C((...a)=>p.submitForm&&p.submitForm(...a),["prevent"]))},[i("div",k,[i("label",B,o(t.$t("driver_name")),1),l(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:e.student.driver_id,"onUpdate:modelValue":s[0]||(s[0]=a=>e.student.driver_id=a),"option-value":"id",options:e.drivers,optionLabel:"name",placeholder:t.$t("driver_name"),class:d({"p-invalid":t.submitted&&!e.student.driver_id})},null,8,["modelValue","options","placeholder","class"])]),i("div",E,[i("label",I,o(t.$t("vecile_type")),1),l(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:e.student.vehicle_id,"onUpdate:modelValue":s[1]||(s[1]=a=>e.student.vehicle_id=a),"option-value":"id",options:e.vehicle,optionLabel:"plate_number",placeholder:t.$t("vecile_type"),class:d({"p-invalid":t.submitted&&!e.student.vehicle_id})},null,8,["modelValue","options","placeholder","class"])]),i("div",M,[i("label",S,o(t.$t("student_tans")),1),l(u,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:e.student.student_transportation_id,"onUpdate:modelValue":s[2]||(s[2]=a=>e.student.student_transportation_id=a),"option-value":"id",options:e.studenttransportation,optionLabel:"location_url",placeholder:t.$t("student_tans"),class:d({"p-invalid":t.submitted&&!e.student.student_transportation_id})},null,8,["modelValue","options","placeholder","class"])]),i("div",$,[i("label",A,o(t.$t("start_date")),1),l(_,{required:"",style:{width:"100%"},showButtonBar:"",modelValue:e.student.date,"onUpdate:modelValue":s[3]||(s[3]=a=>e.student.date=a),modelModifiers:{number:!0},showIcon:"",placeholder:t.$t("start_date"),minDate:e.maxDate,class:d({"p-invalid":t.submitted&&!e.student.date})},null,8,["modelValue","placeholder","minDate","class"])]),i("div",N,[i("label",L,o(t.$t("seats_number")),1),l(h,{required:"",class:d(["bg-[#f7f5f5]",{"p-invalid":t.submitted&&!e.student.available_seats}]),modelValue:e.student.available_seats,"onUpdate:modelValue":s[4]||(s[4]=a=>e.student.available_seats=a),placeholder:t.$t("seats_number")},null,8,["modelValue","placeholder","class"])]),i("div",O,[i("label",z,o(t.$t("from")),1),m(i("input",{class:d(["bg-[#F7F5F5] py-2",{"p-invalid":t.submitted&&!e.student.from}]),type:"time",name:"time_end",id:"time_end","onUpdate:modelValue":s[5]||(s[5]=a=>e.student.from=a),style:{"border-radius":"5px"}},null,2),[[c,e.student.from]])]),i("div",G,[i("label",W,o(t.$t("to")),1),m(i("input",{required:"",class:"bg-[#F7F5F5] py-2",type:"time",name:"time_end",id:"pv_id_1","onUpdate:modelValue":s[6]||(s[6]=a=>e.student.to=a)},null,512),[[c,e.student.to]])]),i("div",j,[i("label",H,o(t.$t("Active")),1),i("div",J,[l(v,{required:"",class:"m-auto px-3",modelValue:e.student.is_active,"onUpdate:modelValue":s[7]||(s[7]=a=>e.student.is_active=a)},null,8,["modelValue"]),l(f,{type:"submit",class:"create m-auto w-full",onClick:s[8]||(s[8]=a=>t.submitted=!0),label:t.$t("submit")},null,8,["label"])])])],544),l(g)])]),_:1})],64)}const Z=b(T,[["render",K],["__scopeId","data-v-05f51c18"]]);export{Z as default};
