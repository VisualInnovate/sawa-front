import{m as N,a1 as S,q as s,aj as A,a2 as I,ak as U,r as _,o as d,d as u,e,f as c,g as p,w as O,t as n,n as R,a3 as j,h as q,F as g,x as b,a7 as z,c as w}from"./main-07c0fdcf.js";import"./editor.esm-8c1fc76a.js";import{g as H}from"./flowbite-vue-e4719fec.js";import{V as P}from"./VTextarea-9693f886.js";const Z={class:"grid",style:{"max-height":"90vh !important","overflow-y":"scroll"}},G={class:"col-12"},J=["onSubmit"],K={class:"flex flex-column gap-2 py-1 w-[50%]"},Q={class:"flex"},W={class:"text-right"},X=e("svg",{class:"my-auto mx-1",width:"7",height:"5",viewBox:"0 0 6 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{opacity:"0.8",d:"M1.859 5.008L1.196 4.527L1.95 3.253L0.624 2.668L0.871 1.888L2.288 2.213L2.431 0.744H3.25L3.393 2.213L4.823 1.888L5.07 2.668L3.731 3.253L4.485 4.527L3.822 5.008L2.847 3.877L1.859 5.008Z",fill:"#DA1414"})],-1),Y={class:"flex flex-column mx-2 items-stretch"},ee={class:"text-right invisible"},se={class:"grid md:grid-cols-3 lg:grid-cols-4 grid-cols-1"},te={class:"mx-2 font-bold text-lg text-slate-800"},le=["checked","onChange"],oe=["onClick"],ae={class:""},ne={class:"flex flex-column gap-2"},ie={class:"w-full text-right",for:"username"},ve={__name:"Edit",setup(de){N();const y=S(),h=s(!1),L=s(!0),k=s({}),v=s(""),f=s(null),r=s(!1),m=s({});s(""),s(null),s(null);const C=s({});s(!1),s({}),s(!1);const a=s([]);A(()=>{D()});const V=()=>{w.get("/api/permissions").then(t=>{L.value=!1,f.value=t.data.permissions})},$=()=>{w.post("/api/roles/create",{permissions:a.value,name:m.value.name}).then(t=>{y.push({name:"Roles"})})};I(()=>{V()});const M=t=>{r.value=!r.value,v.value=t.description,k.value=t},D=()=>{C.value={global:{value:null,matchMode:U.CONTAINS}}},T=t=>{const l=a.value.indexOf(t);l===-1?a.value.push(t):a.value.splice(l,1),console.log(a.value)};return(t,l)=>{const B=_("InputText"),E=_("Dialog");return d(),u("div",Z,[e("div",G,[c(z,{class:"card shadow-md"},{default:p(()=>[e("form",{class:"flex",onSubmit:O($,["prevent"])},[e("div",K,[e("div",Q,[e("label",W,n(t.$t("اسم الرول")),1),X]),c(B,{class:R(["bg-[#f7f5f5] text-center",{"p-invalid":h.value&&!m.value.name}]),modelValue:m.value.name,"onUpdate:modelValue":l[0]||(l[0]=o=>m.value.name=o)},null,8,["modelValue","class"])]),e("div",Y,[e("label",ee,n(t.$t("اسم الرول")),1),c(j(H),{type:"submit",onClick:l[1]||(l[1]=o=>h.value=!0),class:"create my-auto"},{default:p(()=>[q(n(t.$t("submit")),1)]),_:1})])],40,J),e("div",se,[(d(!0),u(g,null,b(f.value,(o,x)=>(d(),u("div",{class:"p-4",key:x},[e("h3",te,n(x),1),(d(!0),u(g,null,b(o,i=>(d(),u("div",{class:"flex py-[1px]",key:i.id},[e("input",{class:"border my-auto mx-2",type:"checkbox",checked:a.value.includes(i.id),onChange:F=>T(i.id)},null,40,le),e("p",null,n(i.name),1),e("i",{onClick:F=>M(i),class:"pi pi-arrow-left px-4 my-auto text-base text-[#135C65]"},null,8,oe)]))),128))]))),128))]),c(E,{visible:r.value,"onUpdate:visible":l[3]||(l[3]=o=>r.value=o),style:{width:"550px"},header:t.$t("submit"),modal:!0},{default:p(()=>[e("div",ae,[e("div",ne,[e("label",ie,n(t.$t("description")),1),c(P,{disabled:"",readonly:"true","bg-color":"#EAE8E9",rows:"3",modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=o=>v.value=o)},null,8,["modelValue"])])])]),_:1},8,["visible","header"])]),_:1})])])}}};export{ve as default};
