import{_ as R,c as y,D as X,r as f,o,d as r,f as d,w as L,e,t as l,g as n,F as m,z as g,X as M,x as Y,Q as q,R as z}from"./main-bf7a06c6.js";import{S as A}from"./Stimulu-8ebdab45.js";const G={components:{Stimulu:A},data(){return{error:{},count:0,evalate_type:"",pair:{result:[],values:[]},namesToCheck:[],result:{},childs:[],charset:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",stimulus:[],stimul:" ",stimulus_id:"",items:[],arr:[],pairs:[]}},methods:{getdatafilter(t){this.namesToCheck.push(t),this.missingNames()},missingNames(){this.stimulus=this.stimulus.filter(t=>!this.namesToCheck.includes(t.id))},deletearray(){this.items.length>0&&(this.items.length--,this.arr.length--,this.count--,this.generatePairs(),this.getchilde())},addarray(){if(this.stimul!==" "){this.items.push({name:`${this.charset[this.count]}`,value:`${this.stimul}`}),this.arr.push(this.charset[this.count]),this.generatePairs(),this.count++,this.stimul=" ";const t=this.items.map(i=>i.value);this.stimulus=this.stimulus.filter(i=>!t.includes(i.name))}},goevalute(){this.evalate_type==1&&this.$router.push({name:"ShowSideProfiles",params:{id:this.stimulus_id}}),this.evalate_type==2&&this.$router.push({name:"milestone-evaluation",params:{id:this.stimulus_id}}),this.evalate_type==3&&this.$router.push({name:"barrier-evaluation",params:{id:this.stimulus_id}}),this.evalate_type==4&&this.$router.push({name:"mission-test",params:{id:this.stimulus_id}}),this.evalate_type==5&&this.$router.push({name:"carolina-test",params:{id:this.stimulus_id}})},getanswer(t,i){console.log(i),this.pair.result[t]=i,console.log(this.items)},getchilde(){y.get("api/child").then(t=>{this.childs=t.data.children,this.pair.child_id=parseInt(localStorage.getItem("child_id"))}),y.get("api/stimulus").then(t=>{this.stimulus=t.data.data;const i=this.items.map(u=>u.value);this.stimulus=this.stimulus.filter(u=>!i.includes(u.name))})},createevalation(){this.pair.date=X(this.pair.date).format("Y-MM-DD"),this.pair.specialist_id=localStorage.getItem("user_id"),this.pair.type=1,this.pair.values=this.items,y.post("api/stimulus-test",this.pair).then(t=>{console.log(t.data.data),this.result=t.data.data,this.stimulus_id=t.data.data.id}).catch(t=>{this.error=t.response.data.errors})},generatePairs(){const t=i=>{let u=[];for(let c=0;c<i.length;c++)for(let s=c+1;s<i.length;s++)u.push([i[c],i[s]]);return u};this.pairs=t(this.arr)}},mounted(){this.getchilde(),this.evalate_type=localStorage.getItem("evalate_type")}},H=t=>(q("data-v-7239f58f"),t=t(),z(),t),J={class:"m-auto bg-slate-50 p-[2%] shadow-md grid grid-cols-1 gap-4 lg:grid-cols-2"},K={class:"flex flex-column gap-2"},O={for:"username"},W={key:0,class:"mt-1 mb-5 text-red-500"},Z={class:"flex flex-column gap-2"},$={for:"username"},ee={key:0,class:"mt-1 mb-5 text-red-500"},te={class:"m-auto my-5 bg-slate-50 p-[2%] shadow-md grid grid-cols-1 gap-2 lg:grid-cols-3"},se={class:"bg-white p-2 flex justify-between rounded-sm"},le={class:"flex"},ie={class:"my-auto font-bold"},oe={class:"font-bold text-sm my-auto text-green-600",style:{"word-wrap":"unset"}},re={class:"flex"},ae={class:"my-auto font-bold"},ne={class:"font-bold my-auto text-green-600"},de={class:"m-auto my-5 bg-slate-50 p-[2%] shadow-md grid grid-cols-1 gap-2 lg:grid-cols-2"},ue={class:"shadow-md bg-[#FFFFFF] rounded-sm p-2 min-h-[250px]"},ce={class:"flex justify-between py-2"},he={class:"flex"},pe={class:"font-bold px-1"},me={key:0,class:"font-bold text-[green]"},_e={class:"flex"},fe={class:"text-xl"},ge={key:0,class:"m-auto text-xl text-[green] font-bold"},xe={class:"flex justify-between py-2"},ye={class:"flex"},ve={class:"font-bold px-1"},be={key:0,class:"font-bold text-[green]"},we={class:"flex"},ke={class:"text-xl"},Ce={key:0,class:"m-auto text-xl text-[green] font-bold"},Se={class:"flex justify-between py-2"},Ve={class:"flex"},Fe={class:"font-bold px-1"},Ie={key:0,class:"font-bold text-[green]"},Be={class:"flex"},De={class:"text-xl"},Ne={key:0,class:"m-auto text-xl text-[green] font-bold"},Te={class:"w-full h-full rounded-md shadow-md text-sm text-left m-auto rtl:text-right text-gray-500 dark:text-gray-400"},je={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},Pe={scope:"col",class:"px-6 py-3"},Ee={scope:"col",class:"px-6 py-3"},Le={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Me={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ue={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Qe={class:"w-full text-center"},Re={class:"w-full text-center"},Xe={class:"flex"},Ye=["onChange","name","value"],qe=H(()=>e("span",null,null,-1)),ze={key:0,class:"mt-1 mb-5 w-full text-center text-red-500"};function Ae(t,i,u,c,s,h){const U=f("Stimulu"),v=f("Dropdown"),Q=f("Calendar"),_=f("Button");return o(),r(m,null,[d(U),d(M,{class:"p-[2%]"},{default:L(()=>{var b,w,k,C,S,V,F,I,B,D,N,T,j,P,E;return[e("div",J,[e("div",K,[e("label",O,l(t.$t("child_name")),1),d(v,{required:"",id:"pv_id_1",style:{direction:"ltr !important"},modelValue:s.pair.child_id,"onUpdate:modelValue":i[0]||(i[0]=a=>s.pair.child_id=a),disabled:"","option-value":"id",options:s.childs,optionLabel:"name",placeholder:t.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(b=s.error)!=null&&b.child_id?(o(),r("div",W,l(s.error.child_id[0]),1)):n("",!0)]),e("div",Z,[e("label",$,l(t.$t("Evaluation_date")),1),d(Q,{style:{width:"100%"},showButtonBar:"",modelValue:s.pair.date,"onUpdate:modelValue":i[1]||(i[1]=a=>s.pair.date=a),modelModifiers:{number:!0},showIcon:"",placeholder:t.$t("Evaluation_date")},null,8,["modelValue","placeholder"]),(w=s.error)!=null&&w.date?(o(),r("div",ee,l(s.error.date[0]),1)):n("",!0)])]),e("div",te,[e("div",null,[d(_,{onClick:h.addarray,class:"create m-auto",icon:"pi pi-plus"},null,8,["onClick"]),d(_,{disabled:s.count<=0,onClick:h.deletearray,class:"delete m-auto",icon:"pi pi-minus"},null,8,["disabled","onClick"]),d(v,{modelValue:s.stimul,"onUpdate:modelValue":i[2]||(i[2]=a=>s.stimul=a),class:"hover:ring-0 w-52 mx-2",filter:"","option-value":"name",options:s.stimulus,optionLabel:"name",placeholder:"select item"},null,8,["modelValue","options"])]),(o(!0),r(m,null,g(s.items,(a,p)=>(o(),r("div",se,[e("div",le,[e("h3",ie,l(t.$t("name"))+" :",1),e("p",oe,l(a.value),1)]),e("div",re,[e("h3",ae,l(t.$t("ترتيب المعزز"))+" :",1),e("p",ne,l(a.name),1)])]))),256))]),e("div",de,[e("div",ue,[e("div",ce,[e("div",he,[e("h2",pe,l(t.$t("highest_preferred"))+" :",1),(k=s.result)!=null&&k.highest_preferred?(o(),r("span",me,l((C=s.result)==null?void 0:C.highest_preferred[0].letter),1)):n("",!0)]),e("div",_e,[e("h4",fe,l(t.$t("percentage"))+" :",1),(S=s.result)!=null&&S.highest_preferred?(o(),r("span",ge,l((V=s.result)==null?void 0:V.highest_preferred[0].percentage),1)):n("",!0)])]),e("div",xe,[e("div",ye,[e("h2",ve,l(t.$t("moderately_preferred"))+" :",1),(F=s.result)!=null&&F.moderately_preferred?(o(),r("span",be,l((I=s.result)==null?void 0:I.moderately_preferred[0].letter),1)):n("",!0)]),e("div",we,[e("h4",ke,l(t.$t("percentage"))+" :",1),(B=s.result)!=null&&B.moderately_preferred?(o(),r("span",Ce,l((D=s.result)==null?void 0:D.moderately_preferred[0].percentage),1)):n("",!0)])]),e("div",Se,[e("div",Ve,[e("h2",Fe,l(t.$t("latest_preferred"))+" :",1),(N=s.result)!=null&&N.lowest_preferred?(o(),r("span",Ie,l((T=s.result)==null?void 0:T.lowest_preferred[0].letter),1)):n("",!0)]),e("div",Be,[e("h4",De,l(t.$t("percentage"))+" :",1),(j=s.result)!=null&&j.lowest_preferred?(o(),r("span",Ne,l((P=s.result)==null?void 0:P.lowest_preferred[0].percentage),1)):n("",!0)])]),d(_,{onClick:h.createevalation,class:"mt-4 m-auto create w-full",label:t.$t("submit")},null,8,["onClick","label"])]),e("div",null,[e("table",Te,[e("thead",je,[e("tr",null,[e("th",Pe,l(t.$t("index")),1),e("th",Ee,l(t.$t("Selected_item")),1)])]),e("tbody",null,[e("tr",Le,[e("th",Me,[(o(!0),r(m,null,g(s.arr,(a,p)=>(o(),r("div",null,l(p+1),1))),256))]),e("th",Ue,[e("div",Qe,[(o(!0),r(m,null,g(s.arr.length,(a,p)=>(o(),r("span",Re,[e("div",Xe,[(o(!0),r(m,null,g(s.arr,(x,Ge)=>(o(),r("span",null,[e("span",null,l(x),1),e("input",{onChange:He=>h.getanswer(p,x),style:{border:"1px solid black"},class:"mx-2",type:"radio",name:p,value:x[1]},null,40,Ye)]))),256)),qe])]))),256))])])]),(E=s.error)!=null&&E.result?(o(),r("div",ze,l(s.error.result[0]),1)):n("",!0)])])]),d(M,{class:"w-full text-center col-span-2"},{default:L(()=>[s.stimulus_id?(o(),Y(_,{key:0,icon:"pi pi-arrow-right",onClick:h.goevalute,class:"m-4 m-auto create w-44",label:t.$t("مرحله التقييم")},null,8,["onClick","label"])):n("",!0)]),_:1})])]}),_:1})],64)}const Oe=R(G,[["render",Ae],["__scopeId","data-v-7239f58f"]]);export{Oe as default};
