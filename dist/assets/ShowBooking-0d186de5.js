import{_ as f,c as d,r as i,o as r,d as h,e as t,t as s,f as c,g as _,F as x,x as k,L as v,a0 as w}from"./main-2f96b6c4.js";const y={data(){return{bookings:[],booking_result:"",booking_id:null,selectedFilter:-1,show_result_modal:!1,status:[{name:this.$t("Pending"),code:-1},{name:this.$t("Accept"),code:1},{name:this.$t("Cancell"),code:0}]}},methods:{getBookings(){d.get(`/api/calender/bookings?status=${this.selectedFilter}`).then(e=>{this.bookings=e.data.bookings,console.log(e)}).catch(e=>{console.log(e)})},bookingDetailes(e){this.$router.push({name:"BookingDetails",params:{id:e}})},openModal(e){this.show_result_modal=!0,this.booking_id=e},addNote(){d.patch(`/api/calender/bookings/${this.booking_id}`,{booking_result:this.booking_result}).then(e=>{this.show_result_modal=!1,console.log(e)}).catch(e=>{console.log(e)})},updateStatus(e,n){d.patch(`/api/calender/bookings/${e}`,{status:n}).then(l=>{console.log("Status updated successfully",l)}).catch(l=>{console.log(l)})}},mounted(){this.getBookings()}},B={class:"mt-6 p-6"},$={class:"flex flex-row lg:flex-col justify-between"},V={class:"border-b-2 border-green-800 text-3xl w-full md:w-1/2 uppercase text-green-800 py-4 font-bold"},F={class:"mt-6 flex justify-end"},A={class:"p-6"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={class:"space-y-4"},S={class:"flex items-center"},I={class:"text-lg font-bold text-green-800"},N={class:"ml-3 text-base text-gray-700"},j={class:"flex items-center"},L={class:"text-lg font-bold text-green-800"},T={class:"ml-3 text-base text-gray-700"},U={class:"flex items-center"},q={class:"text-lg font-bold text-green-800"},E={class:"ml-3 text-base text-gray-700"},M={class:"flex justify-end items-center"};function P(e,n,l,z,a,p){const u=i("Dropdown"),g=i("Button"),m=i("AccordionTab"),b=i("Accordion");return r(),h("div",B,[t("div",$,[t("h1",V,s(e.$t("bookings")),1),t("div",F,[c(u,{modelValue:a.selectedFilter,"onUpdate:modelValue":[n[0]||(n[0]=o=>a.selectedFilter=o),p.getBookings],options:a.status,optionLabel:"name",optionValue:"code",placeholder:"Filter by Status",class:"w-48"},null,8,["modelValue","options","onUpdate:modelValue"])])]),c(w,{class:"mt-6 shadow-lg rounded-lg overflow-hidden"},{default:_(()=>[t("div",A,[(r(!0),h(x,null,k(a.bookings,o=>(r(),v(b,{key:o.id,activeIndex:1,expandIcon:"pi pi-plus",collapseIcon:"pi pi-minus"},{default:_(()=>[c(m,{header:o.child_name,class:"mb-4"},{default:_(()=>[t("div",C,[t("div",D,[t("div",S,[t("p",I,s(e.$t("child_age"))+":",1),t("p",N,s(o.child_age),1)]),t("div",j,[t("p",L,s(e.$t("parent.phone"))+":",1),t("p",T,s(o.details.requester_phone),1)]),t("div",U,[t("p",q,s(e.$t("موعد الاستشارة"))+":",1),t("p",E,s(o.event_date||"N/A"),1)])]),t("div",M,[c(g,{onClick:G=>p.bookingDetailes(o.id),icon:"pi pi-arrow-right",class:"p-button-success p-button-outlined",label:e.$t("متابعة التفاصيل")},null,8,["onClick","label"])])])]),_:2},1032,["header"])]),_:2},1024))),128))])]),_:1})])}const J=f(y,[["render",P],["__scopeId","data-v-0abf5e70"]]);export{J as default};
