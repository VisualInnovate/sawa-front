import{_ as F,c,r as _,o as a,d as n,f as u,g as S,e as s,L as N,a9 as T,j as d,w as E,t as i,F as k,x as U,h as m,a7 as A,y as L,z as M}from"./main-07c0fdcf.js";import{E as j}from"./EvaluationType-ed1804f4.js";const z={components:{EvaluationType:j},data(){return{change:{status:"1"},strart_evaluate:!1,alert_text:"",answers:{answers:[]},type:2,answer:{color:"6554C0"},allquestion:[],childs:{},qustions:{},error:{},maxDate:new Date,notanswer:[]}},methods:{Therapeutic(){this.$router.push({name:"answer"})},addcolor(e){this.answer.color=e,this.$refs.showcolor.style.background="#"+e},submit(){},createevalutae(e){console.log(e),c.post("api/evaluations/create",{type:this.type,title:this.answer.title,child_id:this.answer.child_id,specialist_id:localStorage.getItem("user_id"),date:this.answer.date}).then(t=>{this.answer.evaluation_id=t.data.evaluation.id,this.strart_evaluate=!this.strart_evaluate}).catch(t=>{console.log(t.response.data.errors.name),this.error=t.response.data.errors})},anserdata(e,t){console.log(e),console.log(t)},getcolor(e){this.answer.color=e.target.value},getquation(e){c.get(`api/milestone-answers/question/${localStorage.getItem("child_id")}`).then(t=>{console.log(t.data[0].subtests),this.allquestion=t.data})},getage(){c.post("api/milestone-answers/get-age-child",{date:this.answer.date,child_id:this.answer.child_id}).then(e=>{this.answer.child_age=e.data,c.get(`api/milestone-answers/question/${e.data}`).then(t=>{console.log(t.data[0].subtests),this.allquestion=t.data})})},collectanswer(e,t){this.answers.answers[t]={question_id:t,score:e.target.value,color:this.answer.color,child_id:this.answer.child_id,date:this.answer.date,child_age:this.answer.child_age,evaluation_id:this.answer.evaluation_id},console.log(this.answers.answers)},getanswer(e,t,C){c.post("/api/milestone-answers",this.answers).then(g=>{c.post(`/api/evaluation-request/change-status/${localStorage.getItem("eavl_id")}`,this.change),this.$router.push({name:"milestone-resulte",params:{id:this.answer.child_id,evla_id:this.answer.evaluation_id}})}).catch(g=>{this.alert_text="please answer all questions",setTimeout(()=>{this.alert_text=""},2500)})},getusers(){c.get("api/child").then(e=>{console.log(localStorage.getItem("child_id")),this.childs=e.data.children,this.answer.child_id=parseInt(localStorage.getItem("child_id")),this.answer.evaluation_id=parseInt(this.$route.params.evaluation)}),c.get("api/mileston-levels").then(e=>{console.log(e.data.data),this.qustions=e.data.data})},createtreatment(){c.post("/api/milestone-answers/check/answers",{child_id:this.answer.child_id,level_id:this.answer.level_id}).then(e=>{console.log(e.data.data),this.notanswer=e.data.data,this.notanswer==""&&this.$toast.add({severity:"success",summary:"Success Message",detail:"Success",life:3e3})}).catch(e=>{console.log(e.response.data.errors.name),this.error=e.response.data.errors})}},mounted(){this.getusers()}},h=e=>(L("data-v-9138985e"),e=e(),M(),e),G=h(()=>s("div",null,null,-1)),H={class:"flex flex-column gap-2"},J={for:"username"},K={key:0,class:"mt-1 mb-5 text-red-500"},O={class:"flex flex-column gap-2"},P={for:"username"},Q={key:0,class:"mt-1 mb-5 text-red-500"},R={key:0,class:"flex flex-column gap-2"},W={for:"username"},X={key:0,class:"mt-1 mb-5 text-red-500"},Y={key:1,class:"flex flex-column gap-2"},Z={for:"username"},$={key:0,class:"mt-1 mb-5 text-red-500"},ee={key:2,class:"flex flex-column gap-2"},te={for:"username"},se={class:"flex"},le={class:"flex gap-1"},oe={class:"bg-[#00B8D9] h-[40%] mt-1",ref:"showcolor"},ae={key:0,class:"mt-1 mb-5 text-red-500"},re={class:"col-span-2 flex flex-column gap-2"},ne={style:{border:"1px solid black","border-radius":"5px",padding:"1%"}},ie={class:"text-[black] font-bold"},de=["onChange","name"],ce=h(()=>s("label",{for:"html"},"0",-1)),ue=h(()=>s("br",null,null,-1)),he=["onChange","name"],_e=h(()=>s("label",{for:"css"},"0.5",-1)),pe=h(()=>s("br",null,null,-1)),me=["onChange","name"],ge=h(()=>s("label",{for:"javascript"},"1",-1)),we={key:4,class:"flex flex-column gap-2 w-full"},ve={style:{visibility:"hidden"},for:"username"},be=h(()=>s("small",{id:"username-help"},null,-1));function fe(e,t,C,g,l,r){const V=_("InputText"),q=_("Dropdown"),I=_("Calendar"),B=_("InputNumber"),w=_("Button"),D=_("toast");return a(),n(k,null,[G,u(A,null,{default:S(()=>{var v,b,f,x,y;return[s("div",null,[l.alert_text?(a(),N(T,{key:0,title:"Alert title",text:l.alert_text,closable:"",type:"error",class:"absolute w-full"},null,8,["text"])):d("",!0),s("form",{style:{"max-height":"80vh","overflow-y":"scroll"},"fast-fail":"",ref:"form",onSubmit:t[9]||(t[9]=E((...o)=>r.getanswer&&r.getanswer(...o),["prevent"])),class:"p-[2%] bg-[#FDFDFD] shadow-xl grid grid-cols-1 lg:grid-cols-2 gap-4"},[s("div",H,[s("label",J,i(e.$t("evaluation_name")),1),u(V,{required:"",class:"bg-[#f7f5f5]",modelValue:l.answer.title,"onUpdate:modelValue":t[0]||(t[0]=o=>l.answer.title=o),placeholder:e.$t("evaluation_name")},null,8,["modelValue","placeholder"]),(v=l.error)!=null&&v.title?(a(),n("div",K,i(l.error.title[0]),1)):d("",!0)]),s("div",O,[s("label",P,i(e.$t("child_name")),1),u(q,{filter:"",required:"",id:"pv_id_1",disabled:"",style:{direction:"ltr !important"},modelValue:l.answer.child_id,"onUpdate:modelValue":t[1]||(t[1]=o=>l.answer.child_id=o),"option-value":"id",options:l.childs,optionLabel:"name",placeholder:e.$t("child_name"),class:"w-full bg-[#f7f5f5] [&>div>div>span]:bg-black md:w-14rem"},null,8,["modelValue","options","placeholder"]),(b=l.error)!=null&&b.child_id?(a(),n("div",Q,i(l.error.child_id[0]),1)):d("",!0)]),l.answer.child_id?(a(),n("div",R,[s("label",W,i(e.$t("date")),1),u(I,{"onUpdate:modelValue":[r.getage,t[2]||(t[2]=o=>l.answer.date=o)],style:{width:"100%"},showButtonBar:"",modelValue:l.answer.date,modelModifiers:{number:!0},showIcon:"",placeholder:e.$t("date"),minDate:l.maxDate},null,8,["onUpdate:modelValue","modelValue","placeholder","minDate"]),(f=l.error)!=null&&f.child_age?(a(),n("div",X,i(l.error.child_age[0]),1)):d("",!0)])):d("",!0),l.answer.date?(a(),n("div",Y,[s("label",Z,i(e.$t("age")),1),u(B,{readonly:"",required:"",class:"bg-[#f7f5f5]",modelValue:l.answer.child_age,"onUpdate:modelValue":t[3]||(t[3]=o=>l.answer.child_age=o),placeholder:e.$t("age")},null,8,["modelValue","placeholder"]),(x=l.error)!=null&&x.child_age?(a(),n("div",$,i(l.error.child_age[0]),1)):d("",!0)])):d("",!0),l.answer.child_id&&l.answer.child_age?(a(),n("div",ee,[s("label",te,i(e.$t("color")),1),s("div",se,[s("div",null,[s("div",le,[s("span",{onClick:t[4]||(t[4]=o=>r.addcolor("00B8D9")),class:"w-[30px] h-[30px] bg-[#00B8D9] cursor-pointer hover:border-2 hover:border-[#333] transition"}),s("span",{onClick:t[5]||(t[5]=o=>r.addcolor("36B37E")),class:"w-[30px] h-[30px] bg-[#36B37E] cursor-pointer hover:border-2 hover:border-[#333] transition"}),s("span",{onClick:t[6]||(t[6]=o=>r.addcolor("FFAB00")),class:"w-[30px] h-[30px] bg-[#FFAB00] cursor-pointer hover:border-2 hover:border-[#333] transition"}),s("span",{onClick:t[7]||(t[7]=o=>r.addcolor("FF5630")),class:"w-[30px] h-[30px] bg-[#FF5630] cursor-pointer hover:border-2 hover:border-[#333] transition"}),s("span",{onClick:t[8]||(t[8]=o=>r.addcolor("6554C0")),class:"w-[30px] h-[30px] bg-[#6554C0] cursor-pointer hover:border-2 hover:border-[#333] transition"})]),s("div",oe,null,512)]),u(w,{onClick:r.createevalutae,class:"create m-auto w-full h-[50px]",label:e.$t("strart_evaluate")},null,8,["onClick","label"])]),(y=l.error)!=null&&y.color?(a(),n("div",ae,i(l.error.color[0]),1)):d("",!0)])):d("",!0),l.strart_evaluate?(a(!0),n(k,{key:3},U(l.allquestion,o=>(a(),n("div",re,[s("div",ne,[s("h1",ie,i(o.title),1),s("div",null,[s("input",{required:"",onChange:p=>r.collectanswer(p,o.id),style:{border:"1px solid black"},class:"mx-2",type:"radio",name:o.id,value:"0"},null,40,de),m("   "),ce,ue,m("   "),s("input",{required:"",onChange:p=>r.collectanswer(p,o.id),style:{border:"1px solid black"},type:"radio",name:o.id,value:".5"},null,40,he),m("   "),_e,pe,m("   "),s("input",{required:"",onChange:p=>r.collectanswer(p,o.id),style:{border:"1px solid black"},type:"radio",name:o.id,value:"1"},null,40,me),m("   "),ge])])]))),256)):d("",!0),l.strart_evaluate?(a(),n("div",we,[s("label",ve,i(e.$t("gruop_sessaion")),1),u(w,{type:"submit",class:"create m-auto w-full",label:e.$t("submit")},null,8,["label"]),be])):d("",!0)],544),u(D)])]}),_:1})],64)}const ke=F(z,[["render",fe],["__scopeId","data-v-9138985e"]]);export{ke as default};
